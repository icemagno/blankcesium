!function(t){"use strict";"function"==typeof define&&define.amd&&define([],t),Cesium.viewerCesiumNavigationMixin=t()}(function(){var w,qt,h,r,s,p,d,f,m,g,_,n,i,v,y,b,o,e,a,l,u,c,k,C,x,E,L,t,T,D,P,A,S,M;function z(t,e){return n.call(t,e)}function O(t,e){var n,i,o,r,s,a,l,u,c,h,p=e&&e.split("/"),d=g.map,f=d&&d["*"]||{};if(t){for(e=(t=t.split("/")).length-1,g.nodeIdCompat&&v.test(t[e])&&(t[e]=t[e].replace(v,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),u=0;u<t.length;u++)"."===(h=t[u])?(t.splice(u,1),--u):".."===h&&(0===u||1===u&&".."===t[2]||".."===t[u-1]||0<u&&(t.splice(u-1,2),u-=2));t=t.join("/")}if((p||f)&&d){for(u=(n=t.split("/")).length;0<u;--u){if(i=n.slice(0,u).join("/"),p)for(c=p.length;0<c;--c)if(o=(o=d[p.slice(0,c).join("/")])&&o[i]){r=o,s=u;break}if(r)break;!a&&f&&f[i]&&(a=f[i],l=u)}!r&&a&&(r=a,s=l),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function N(e,n){return function(){var t=i.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),s.apply(h,t.concat([e,n]))}}function I(t){var e;if(z(m,t)&&(e=m[t],delete m[t],_[t]=!0,r.apply(h,e)),!z(f,t)&&!z(_,t))throw new Error("No "+t);return f[t]}function B(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function R(t,e,n){return"function"==typeof e&&(e=U(n=e).replace(/_$/,"")),c(t,e,{configurable:!0,writable:!0,value:n})}function U(t){return"function"!=typeof t?"":"_name"in t?t._name:"name"in t?t.name:k.call(t).match(E)[1]}function F(t,e){return e._name=t,e}function q(n){var i=new t;return n=n||T,function(t,e){return e||2===arguments.length?i.set(t,e):(e=i.get(t))===b&&(e=n(t),i.set(t,e)),e}}function j(){var n=Z(),i={};this.unlock=function(t){t=function(t){if(x.call(t,a))return t[a];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=C(null);return c(t,a,{value:e}),e}(t);if(x.call(t,n))return t[n](i);var e=C(null,o);return c(t,n,{value:function(t){return t===i?e:void 0}}),e}}function Z(){var t=Math.random().toString(36).slice(2);return t in e?Z():e[t]=t}return f={},m={},g={},_={},n=Object.prototype.hasOwnProperty,i=[].slice,v=/\.js$/,p=function(t,e){var n,i,o=B(t),r=o[0];return t=o[1],r&&(n=I(r=O(r,e))),r?t=n&&n.normalize?n.normalize(t,(i=e,function(t){return O(t,i)})):O(t,e):(r=(o=B(t=O(t,e)))[0],t=o[1],r&&(n=I(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},d={require:function(t){return N(t)},exports:function(t){var e=f[t];return void 0!==e?e:f[t]={}},module:function(t){return{id:t,uri:"",exports:f[t],config:(e=t,function(){return g&&g.config&&g.config[e]||{}})};var e}},r=function(t,e,n,i){var o,r,s,a,l,u=[],c=typeof n;if(i=i||t,"undefined"==c||"function"==c){for(e=!e.length&&n.length?["require","exports","module"]:e,a=0;a<e.length;a+=1)if("require"===(r=(s=p(e[a],i)).f))u[a]=d.require(t);else if("exports"===r)u[a]=d.exports(t),l=!0;else if("module"===r)o=u[a]=d.module(t);else if(z(f,r)||z(m,r)||z(_,r))u[a]=I(r);else{if(!s.p)throw new Error(t+" missing "+r);s.p.load(s.n,N(i,!0),function(e){return function(t){f[e]=t}}(r),{}),u[a]=f[r]}c=n?n.apply(f[t],u):void 0,t&&(o&&o.exports!==h&&o.exports!==f[t]?f[t]=o.exports:c===h&&l||(f[t]=c))}else t&&(f[t]=n)},M=w=s=function(t,e,n,i,o){if("string"==typeof t)return d[t]?d[t](e):I(p(t,e).f);if(!t.splice){if((g=t).deps&&s(g.deps,g.callback),!e)return;e.splice?(t=e,e=n,n=null):t=h}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?r(h,t,e,n):setTimeout(function(){r(h,t,e,n)},4),s},s.config=function(t){return s(t)},M._defined=f,(qt=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),z(f,t)||z(m,t)||(m[t]=[t,e,n])}).amd={jQuery:!0},qt("almond",function(){}),function(wt){var t,kt=this||(0,eval)("this"),Ct=kt.document,xt=kt.navigator,Et=kt.jQuery,Lt=kt.JSON;t=function(t,i){function n(t,e){return(null===t||typeof t in b)&&t===e}function r(t,e){var n;return function(){n=n||k.a.setTimeout(function(){n=wt,t()},e)}}function s(t,e){var n;return function(){clearTimeout(n),n=k.a.setTimeout(t,e)}}function a(t,e){e&&e!==E?"beforeChange"===e?this.Kb(t):this.Ha(t,e):this.Lb(t)}function o(t,e){null!==e&&e.k&&e.k()}function l(t,e){var n=this.Hc,i=n[M];i.R||(this.lb&&this.Ma[e]?(n.Pb(e,t,this.Ma[e]),this.Ma[e]=null,--this.lb):i.r[e]||n.Pb(e,t,i.s?{ia:t}:n.uc(t)))}function e(t,l,u,c){k.d[t]={init:function(i,o,t,e,r){var s,a;return k.m(function(){var t=k.a.c(o()),e=!u!=!t,n=!a;(n||l||e!==s)&&(n&&k.va.Aa()&&(a=k.a.ua(k.f.childNodes(i),!0)),e?(n||k.f.da(i,k.a.ua(a)),k.eb(c?c(r,t):r,i)):k.f.xa(i),s=e)},null,{i:i}),{controlsDescendantBindings:!0}}},k.h.ta[t]=!1,k.f.Z[t]=!0}var u,c,h,p,d,f,m,g,_,k=void 0!==t?t:{};function v(){if(m)for(var t,e=m,n=0;_<m;)if(t=f[_++]){if(e<_){if(5e3<=++n){_=m,k.a.$b(Error("'Too much recursion' after processing "+n+" task groups."));break}e=m}try{t()}catch(t){k.a.$b(t)}}}function y(){v(),_=m=f.length=0}k.b=function(t,e){for(var n=t.split("."),i=k,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=e},k.G=function(t,e,n){t[e]=n},k.version="3.4.0",k.b("version",k.version),k.options={deferUpdates:!1,useOnlyNativeEvents:!1},k.a=function(){function h(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function t(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t,e){return t.__proto__=e,t}function o(t,e,n,i){var o=t[e].match(u)||[];k.a.q(n.match(u),function(t){k.a.pa(o,t,i)}),t[e]=o.join(" ")}var n={__proto__:[]}instanceof Array,i="function"==typeof Symbol,r={},s={};r[xt&&/Firefox\/2/i.test(xt.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],r.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),h(r,function(t,e){if(e.length)for(var n=0,i=e.length;n<i;n++)s[e[n]]=t});var a={propertychange:!0},l=Ct&&function(){for(var t=3,e=Ct.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:wt}(),u=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)},o:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},Sb:function(t,e,n){for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i))return t[i];return null},La:function(t,e){e=k.a.o(t,e);0<e?t.splice(e,1):0===e&&t.shift()},Tb:function(t){for(var e=[],n=0,i=(t=t||[]).length;n<i;n++)k.a.o(e,t[n])<0&&e.push(t[n]);return e},fb:function(t,e){for(var n=[],i=0,o=(t=t||[]).length;i<o;i++)n.push(e(t[i],i));return n},Ka:function(t,e){for(var n=[],i=0,o=(t=t||[]).length;i<o;i++)e(t[i],i)&&n.push(t[i]);return n},ra:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,i=e.length;n<i;n++)t.push(e[n]);return t},pa:function(t,e,n){var i=k.a.o(k.a.zb(t),e);i<0?n&&t.push(e):n||t.splice(i,1)},ka:n,extend:t,Xa:e,Ya:n?e:t,D:h,Ca:function(t,e){if(!t)return t;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=e(t[n],n,t));return i},ob:function(t){for(;t.firstChild;)k.removeNode(t.firstChild)},jc:function(t){for(var e=((t=k.a.V(t))[0]&&t[0].ownerDocument||Ct).createElement("div"),n=0,i=t.length;n<i;n++)e.appendChild(k.$(t[n]));return e},ua:function(t,e){for(var n=0,i=t.length,o=[];n<i;n++){var r=t[n].cloneNode(!0);o.push(e?k.$(r):r)}return o},da:function(t,e){if(k.a.ob(t),e)for(var n=0,i=e.length;n<i;n++)t.appendChild(e[n])},qc:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var i=n[0],o=i.parentNode,r=0,s=e.length;r<s;r++)o.insertBefore(e[r],i);for(r=0,s=n.length;r<s;r++)k.removeNode(n[r])}},za:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);for(;1<t.length&&t[t.length-1].parentNode!==e;)t.length--;if(1<t.length){var n=t[0],i=t[t.length-1];for(t.length=0;n!==i;)t.push(n),n=n.nextSibling;t.push(i)}}return t},sc:function(t,e){l<7?t.setAttribute("selected",e):t.selected=e},$a:function(t){return null===t||t===wt?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(t,e){return!(e.length>(t=t||"").length)&&t.substring(0,e.length)===e},Mc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},nb:function(t){return k.a.Mc(t,t.ownerDocument.documentElement)},Qb:function(t){return!!k.a.Sb(t,k.a.nb)},A:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},Wb:function(t){return k.onError?function(){try{return t.apply(this,arguments)}catch(t){throw k.onError&&k.onError(t),t}}:t},setTimeout:function(t,e){return setTimeout(k.a.Wb(t),e)},$b:function(t){setTimeout(function(){throw k.onError&&k.onError(t),t},0)},p:function(e,t,n){var i=k.a.Wb(n);if(n=l&&a[t],k.options.useOnlyNativeEvents||n||!Et)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");function o(t){i.call(e,t)}var r="on"+t;e.attachEvent(r,o),k.a.F.oa(e,function(){e.detachEvent(r,o)})}else e.addEventListener(t,i,!1);else Et(e).bind(t,i)},Da:function(t,e){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n=!("input"!==k.a.A(t)||!t.type||"click"!=e.toLowerCase())&&("checkbox"==(n=t.type)||"radio"==n);if(k.options.useOnlyNativeEvents||!Et||n)if("function"==typeof Ct.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=Ct.createEvent(s[e]||"HTMLEvents")).initEvent(e,!0,!0,kt,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(n)}else if(n&&t.click)t.click();else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+e)}else Et(t).trigger(e)},c:function(t){return k.H(t)?t():t},zb:function(t){return k.H(t)?t.t():t},bb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],k.a.q(t.match(u),function(t){i.call(e.classList,t)})):"string"==typeof e.className.baseVal?o(e.className,"baseVal",t,n):o(e,"className",t,n))},Za:function(t,e){var n=k.a.c(e);null!==n&&n!==wt||(n="");e=k.f.firstChild(t);!e||3!=e.nodeType||k.f.nextSibling(e)?k.f.da(t,[t.ownerDocument.createTextNode(n)]):e.data=n,k.a.Rc(t)},rc:function(t,e){if(t.name=e,l<=7)try{t.mergeAttributes(Ct.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},Rc:function(t){9<=l&&((t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom))},Nc:function(t){var e;l&&(e=t.style.width,t.style.width=0,t.style.width=e)},hd:function(t,e){t=k.a.c(t),e=k.a.c(e);for(var n=[],i=t;i<=e;i++)n.push(i);return n},V:function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Yb:function(t){return i?Symbol(t):t},rd:6===l,sd:7===l,C:l,ec:function(t,e){for(var n=k.a.V(t.getElementsByTagName("input")).concat(k.a.V(t.getElementsByTagName("textarea"))),i="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},o=[],r=n.length-1;0<=r;r--)i(n[r])&&o.push(n[r]);return o},ed:function(t){return"string"==typeof t&&(t=k.a.$a(t))?Lt&&Lt.parse?Lt.parse(t):new Function("return "+t)():null},Eb:function(t,e,n){if(!Lt||!Lt.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return Lt.stringify(k.a.c(t),e,n)},fd:function(t,e,n){var i=(n=n||{}).params||{},o=n.includeFields||this.cc,r=t;if("object"==typeof t&&"form"===k.a.A(t))for(var r=t.action,s=o.length-1;0<=s;s--)for(var a=k.a.ec(t,o[s]),l=a.length-1;0<=l;l--)i[a[l].name]=a[l].value;e=k.a.c(e);var u,c=Ct.createElement("form");for(u in c.style.display="none",c.action=r,c.method="post",e)t=Ct.createElement("input"),t.type="hidden",t.name=u,t.value=k.a.Eb(k.a.c(e[u])),c.appendChild(t);h(i,function(t,e){var n=Ct.createElement("input");n.type="hidden",n.name=t,n.value=e,c.appendChild(n)}),Ct.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),k.b("utils",k.a),k.b("utils.arrayForEach",k.a.q),k.b("utils.arrayFirst",k.a.Sb),k.b("utils.arrayFilter",k.a.Ka),k.b("utils.arrayGetDistinctValues",k.a.Tb),k.b("utils.arrayIndexOf",k.a.o),k.b("utils.arrayMap",k.a.fb),k.b("utils.arrayPushAll",k.a.ra),k.b("utils.arrayRemoveItem",k.a.La),k.b("utils.extend",k.a.extend),k.b("utils.fieldsIncludedWithJsonPost",k.a.cc),k.b("utils.getFormFields",k.a.ec),k.b("utils.peekObservable",k.a.zb),k.b("utils.postJson",k.a.fd),k.b("utils.parseJson",k.a.ed),k.b("utils.registerEventHandler",k.a.p),k.b("utils.stringifyJson",k.a.Eb),k.b("utils.range",k.a.hd),k.b("utils.toggleDomNodeCssClass",k.a.bb),k.b("utils.triggerEvent",k.a.Da),k.b("utils.unwrapObservable",k.a.c),k.b("utils.objectForEach",k.a.D),k.b("utils.addOrRemoveItem",k.a.pa),k.b("utils.setTextContent",k.a.Za),k.b("unwrap",k.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice(0);return t.push.apply(t,arguments),n.apply(e,t)}}),k.a.e=new function(){function i(t,e){var n=t[r];if(!n||"null"===n||!s[n]){if(!e)return wt;n=t[r]="ko"+o++,s[n]={}}return s[n]}var o=0,r="__ko__"+(new Date).getTime(),s={};return{get:function(t,e){t=i(t,!1);return t===wt?wt:t[e]},set:function(t,e,n){n===wt&&i(t,!1)===wt||(i(t,!0)[e]=n)},clear:function(t){var e=t[r];return!!e&&(delete s[e],!(t[r]=null))},I:function(){return o+++r}}},k.b("utils.domData",k.a.e),k.b("utils.domData.clear",k.a.e.clear),k.a.F=new function(){function i(t,e){var n=k.a.e.get(t,r);return n===wt&&e&&k.a.e.set(t,r,n=[]),n}function o(t){if(e=i(t,!1))for(var e=e.slice(0),n=0;n<e.length;n++)e[n](t);if(k.a.e.clear(t),k.a.F.cleanExternalData(t),a[t.nodeType])for(e=t.firstChild;t=e;)e=t.nextSibling,8===t.nodeType&&o(t)}var r=k.a.e.I(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{oa:function(t,e){if("function"!=typeof e)throw Error("Callback must be a function");i(t,!0).push(e)},pc:function(t,e){var n=i(t,!1);n&&(k.a.La(n,e),0==n.length&&k.a.e.set(t,r,wt))},$:function(t){if(s[t.nodeType]&&(o(t),a[t.nodeType])){var e=[];k.a.ra(e,t.getElementsByTagName("*"));for(var n=0,i=e.length;n<i;n++)o(e[n])}return t},removeNode:function(t){k.$(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){Et&&"function"==typeof Et.cleanData&&Et.cleanData([t])}}},k.$=k.a.F.$,k.removeNode=k.a.F.removeNode,k.b("cleanNode",k.$),k.b("removeNode",k.removeNode),k.b("utils.domNodeDisposal",k.a.F),k.b("utils.domNodeDisposal.addDisposeCallback",k.a.F.oa),k.b("utils.domNodeDisposal.removeDisposeCallback",k.a.F.pc),u=[0,"",""],c={thead:t=[1,"<table>","</table>"],tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],td:t=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:t,option:t=[1,"<select multiple='multiple'>","</select>"],optgroup:t},h=k.a.C<=8,k.a.ma=function(t,e){var n;if(Et){if(Et.parseHTML)n=Et.parseHTML(t,e)||[];else if((n=Et.clean([t],e))&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}}else{var i=(n=!(n=e)?Ct:n).parentWindow||n.defaultView||kt,o=k.a.$a(t).toLowerCase(),r=n.createElement("div"),e=(o=o.match(/^<([a-z]+)[ >]/))&&c[o[1]]||u,o=e[0];for(e="ignored<div>"+e[1]+t+e[2]+"</div>","function"==typeof i.innerShiv?r.appendChild(i.innerShiv(e)):(h&&n.appendChild(r),r.innerHTML=e,h&&r.parentNode.removeChild(r));o--;)r=r.lastChild;n=k.a.V(r.lastChild.childNodes)}return n},k.a.Cb=function(t,e){if(k.a.ob(t),null!==(e=k.a.c(e))&&e!==wt)if("string"!=typeof e&&(e=e.toString()),Et)Et(t).html(e);else for(var n=k.a.ma(e,t.ownerDocument),i=0;i<n.length;i++)t.appendChild(n[i])},k.b("utils.parseHtmlFragment",k.a.ma),k.b("utils.setHtml",k.a.Cb),k.M=(p={},{wb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return p[e]=t,"\x3c!--[ko_memo:"+e+"]--\x3e"},xc:function(t,e){var n=p[t];if(n===wt)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,e||[]),!0}finally{delete p[t]}},yc:function(t,e){var n=[];!function t(e,n){if(e)if(8==e.nodeType)null!=(i=k.M.lc(e.nodeValue))&&n.push({Lc:e,cd:i});else if(1==e.nodeType)for(var i=0,o=e.childNodes,r=o.length;i<r;i++)t(o[i],n)}(t,n);for(var i=0,o=n.length;i<o;i++){var r=n[i].Lc,s=[r];e&&k.a.ra(s,e),k.M.xc(n[i].cd,s),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},lc:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),k.b("memoization",k.M),k.b("memoization.memoize",k.M.wb),k.b("memoization.unmemoize",k.M.xc),k.b("memoization.parseMemoText",k.M.lc),k.b("memoization.unmemoizeDomNodeAndDescendants",k.M.yc),k.Y=(f=[],g=1,_=m=0,{scheduler:kt.MutationObserver?(st=y,d=Ct.createElement("div"),new MutationObserver(st).observe(d,{attributes:!0}),function(){d.classList.toggle("foo")}):Ct&&"onreadystatechange"in Ct.createElement("script")?function(t){var e=Ct.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,Ct.documentElement.removeChild(e),e=null,t()},Ct.documentElement.appendChild(e)}:function(t){setTimeout(t,0)},Wa:function(t){return m||k.Y.scheduler(y),f[m++]=t,g++},cancel:function(t){_<=(t-=g-m)&&t<m&&(f[t]=null)},resetForTesting:function(){var t=m-_;return _=m=f.length=0,t},md:v}),k.b("tasks",k.Y),k.b("tasks.schedule",k.Y.Wa),k.b("tasks.runEarly",k.Y.md),k.ya={throttle:function(e,n){e.throttleEvaluation=n;var i=null;return k.B({read:e,write:function(t){clearTimeout(i),i=k.a.setTimeout(function(){e(t)},n)}})},rateLimit:function(t,e){var n,i,o;"number"==typeof e?n=e:(n=e.timeout,i=e.method),t.cb=!1,o="notifyWhenChangesStop"==i?s:r,t.Ta(function(t){return o(t,n)})},deferred:function(n,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");n.cb||(n.cb=!0,n.Ta(function(t){var e;return function(){k.Y.cancel(e),e=k.Y.Wa(t),n.notifySubscribers(wt,"dirty")}}))},notify:function(t,e){t.equalityComparer="always"==e?null:n}};var b={undefined:1,boolean:1,number:1,string:1};k.b("extenders",k.ya),k.vc=function(t,e,n){this.ia=t,this.gb=e,this.Kc=n,this.R=!1,k.G(this,"dispose",this.k)},k.vc.prototype.k=function(){this.R=!0,this.Kc()},k.J=function(){k.a.Ya(this,L),L.rb(this)};var w,C,x,E="change",L={rb:function(t){t.K={},t.Nb=1},X:function(t,e,n){var i=this;n=n||E;var o=new k.vc(i,e?t.bind(e):t,function(){k.a.La(i.K[n],o),i.Ia&&i.Ia(n)});return i.sa&&i.sa(n),i.K[n]||(i.K[n]=[]),i.K[n].push(o),o},notifySubscribers:function(t,e){if((e=e||E)===E&&this.zc(),this.Pa(e))try{k.l.Ub();for(var n,i=this.K[e].slice(0),o=0;n=i[o];++o)n.R||n.gb(t)}finally{k.l.end()}},Na:function(){return this.Nb},Uc:function(t){return this.Na()!==t},zc:function(){++this.Nb},Ta:function(t){var e,n,i,o=this,r=k.H(o);o.Ha||(o.Ha=o.notifySubscribers,o.notifySubscribers=a);var s=t(function(){o.Mb=!1,r&&i===o&&(i=o()),e=!1,o.tb(n,i)&&o.Ha(n=i)});o.Lb=function(t){o.Mb=e=!0,i=t,s()},o.Kb=function(t){e||(n=t,o.Ha(t,"beforeChange"))}},Pa:function(t){return this.K[t]&&this.K[t].length},Sc:function(t){if(t)return this.K[t]&&this.K[t].length||0;var n=0;return k.a.D(this.K,function(t,e){"dirty"!==t&&(n+=e.length)}),n},tb:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var n=this;return t&&k.a.D(t,function(t,e){t=k.ya[t];"function"==typeof t&&(n=t(n,e)||n)}),n}};function T(t){C.push(w),w=t}function D(){w=C.pop()}k.G(L,"subscribe",L.X),k.G(L,"extend",L.extend),k.G(L,"getSubscriptionsCount",L.Sc),k.a.ka&&k.a.Xa(L,Function.prototype),k.J.fn=L,k.hc=function(t){return null!=t&&"function"==typeof t.X&&"function"==typeof t.notifySubscribers},k.b("subscribable",k.J),k.b("isSubscribable",k.hc),k.va=k.l=(C=[],x=0,{Ub:T,end:D,oc:function(t){if(w){if(!k.hc(t))throw Error("Only subscribable things can act as dependencies");w.gb.call(w.Gc,t,t.Cc||(t.Cc=++x))}},w:function(t,e,n){try{return T(),t.apply(e,n||[])}finally{D()}},Aa:function(){if(w)return w.m.Aa()},Sa:function(){if(w)return w.Sa}}),k.b("computedContext",k.va),k.b("computedContext.getDependenciesCount",k.va.Aa),k.b("computedContext.isInitial",k.va.Sa),k.b("ignoreDependencies",k.qd=k.l.w);var P=k.a.Yb("_latestValue");k.N=function(t){function e(){return 0<arguments.length?(e.tb(e[P],arguments[0])&&(e.ga(),e[P]=arguments[0],e.fa()),this):(k.l.oc(e),e[P])}return e[P]=t,k.a.ka||k.a.extend(e,k.J.fn),k.J.fn.rb(e),k.a.Ya(e,A),k.options.deferUpdates&&k.ya.deferred(e,!0),e};var A={equalityComparer:n,t:function(){return this[P]},fa:function(){this.notifySubscribers(this[P])},ga:function(){this.notifySubscribers(this[P],"beforeChange")}};k.a.ka&&k.a.Xa(A,k.J.fn);var S=k.N.gd="__ko_proto__";A[S]=k.N,k.Oa=function(t,e){return null!==t&&t!==wt&&t[S]!==wt&&(t[S]===e||k.Oa(t[S],e))},k.H=function(t){return k.Oa(t,k.N)},k.Ba=function(t){return!!("function"==typeof t&&t[S]===k.N||"function"==typeof t&&t[S]===k.B&&t.Vc)},k.b("observable",k.N),k.b("isObservable",k.H),k.b("isWriteableObservable",k.Ba),k.b("isWritableObservable",k.Ba),k.b("observable.fn",A),k.G(A,"peek",A.t),k.G(A,"valueHasMutated",A.fa),k.G(A,"valueWillMutate",A.ga),k.la=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=k.N(t),k.a.Ya(t,k.la.fn),t.extend({trackArrayChanges:!0})},k.la.fn={remove:function(e){for(var t=this.t(),n=[],i="function"!=typeof e||k.H(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var r=t[o];i(r)&&(0===n.length&&this.ga(),n.push(r),t.splice(o,1),o--)}return n.length&&this.fa(),n},removeAll:function(e){if(e!==wt)return e?this.remove(function(t){return 0<=k.a.o(e,t)}):[];var t=this.t(),n=t.slice(0);return this.ga(),t.splice(0,t.length),this.fa(),n},destroy:function(e){var t=this.t(),n="function"!=typeof e||k.H(e)?function(t){return t===e}:e;this.ga();for(var i=t.length-1;0<=i;i--)n(t[i])&&(t[i]._destroy=!0);this.fa()},destroyAll:function(e){return e===wt?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=k.a.o(e,t)}):[]},indexOf:function(t){var e=this();return k.a.o(e,t)},replace:function(t,e){t=this.indexOf(t);0<=t&&(this.ga(),this.t()[t]=e,this.fa())}},k.a.ka&&k.a.Xa(k.la.fn,k.N.fn),k.a.q("pop push reverse shift sort splice unshift".split(" "),function(n){k.la.fn[n]=function(){var t=this.t();this.ga(),this.Vb(t,n,arguments);var e=t[n].apply(t,arguments);return this.fa(),e===t?this:e}}),k.a.q(["slice"],function(e){k.la.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),k.b("observableArray",k.la),k.ya.trackArrayChanges=function(o,t){var h,p,e,d,r,n;o.hb={},t&&"object"==typeof t&&k.a.extend(o.hb,t),o.hb.sparse=!0,o.Vb||(h=!1,p=null,d=0,r=o.sa,n=o.Ia,o.sa=function(t){var n,i;r&&r.call(o,t),"arrayChange"===t&&(h||(h=!0,n=o.notifySubscribers,o.notifySubscribers=function(t,e){return e&&e!==E||++d,n.apply(this,arguments)},i=[].concat(o.t()||[]),p=null,e=o.X(function(t){var e;t=[].concat(t||[]),o.Pa("arrayChange")&&(e=p=!p||1<d?k.a.ib(i,t,o.hb):p),i=t,p=null,d=0,e&&e.length&&o.notifySubscribers(e,"arrayChange")})))},o.Ia=function(t){n&&n.call(o,t),"arrayChange"!==t||o.Pa("arrayChange")||(e.k(),h=!1)},o.Vb=function(t,e,n){function i(t,e,n){return o[o.length]={status:t,value:e,index:n}}if(h&&!d){var o=[],r=t.length,s=n.length,a=0;switch(e){case"push":a=r;case"unshift":for(e=0;e<s;e++)i("added",n[e],a+e);break;case"pop":a=r-1;case"shift":r&&i("deleted",t[a],a);break;case"splice":e=Math.min(Math.max(0,n[0]<0?r+n[0]:n[0]),r);for(var r=1===s?r:Math.min(e+(n[1]||0),r),s=e+s-2,a=Math.max(r,s),l=[],u=[],c=2;e<a;++e,++c)e<r&&u.push(i("deleted",t[e],e)),e<s&&l.push(i("added",n[c],e));k.a.dc(u,l);break;default:return}p=o}})};var M=k.a.Yb("_state");k.m=k.B=function(t,e,n){function i(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(r.pb,arguments),this}return k.l.oc(i),(r.S||r.s&&i.Qa())&&i.aa(),r.T}if("object"==typeof t?n=t:(n=n||{},t&&(n.read=t)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var o=n.write,r={T:wt,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:n.read,pb:e||n.owner,i:n.disposeWhenNodeIsRemoved||n.i||null,wa:n.disposeWhen||n.wa,mb:null,r:{},L:0,bc:null};return i[M]=r,i.Vc="function"==typeof o,k.a.ka||k.a.extend(i,k.J.fn),k.J.fn.rb(i),k.a.Ya(i,z),n.pure?(r.Va=!0,r.s=!0,k.a.extend(i,O)):n.deferEvaluation&&k.a.extend(i,N),k.options.deferUpdates&&k.ya.deferred(i,!0),r.i&&(r.Fb=!0,r.i.nodeType||(r.i=null)),r.s||n.deferEvaluation||i.aa(),r.i&&i.ba()&&k.a.F.oa(r.i,r.mb=function(){i.k()}),i};var z={equalityComparer:n,Aa:function(){return this[M].L},Pb:function(t,e,n){if(this[M].Va&&e===this)throw Error("A 'pure' computed must not be called recursively");(this[M].r[t]=n).Ga=this[M].L++,n.na=e.Na()},Qa:function(){var t,e,n=this[M].r;for(t in n)if(n.hasOwnProperty(t)&&(e=n[t],e.ia.Uc(e.na)))return!0},bd:function(){this.Fa&&!this[M].Ra&&this.Fa()},ba:function(){return this[M].S||0<this[M].L},ld:function(){this.Mb||this.ac()},uc:function(t){if(!t.cb||this[M].i)return t.X(this.ac,this);var e=t.X(this.bd,this,"dirty"),n=t.X(this.ld,this);return{ia:t,k:function(){e.k(),n.k()}}},ac:function(){var t=this,e=t.throttleEvaluation;e&&0<=e?(clearTimeout(this[M].bc),this[M].bc=k.a.setTimeout(function(){t.aa(!0)},e)):t.Fa?t.Fa():t.aa(!0)},aa:function(t){var e=this[M],n=e.wa;if(!e.Ra&&!e.R){if(e.i&&!k.a.nb(e.i)||n&&n()){if(!e.Fb)return void this.k()}else e.Fb=!1;e.Ra=!0;try{this.Qc(t)}finally{e.Ra=!1}e.L||this.k()}},Qc:function(t){var e=this[M],n=e.Va?wt:!e.L,i={Hc:this,Ma:e.r,lb:e.L};k.l.Ub({Gc:i,gb:l,m:this,Sa:n}),e.r={},e.L=0,i=this.Pc(e,i),this.tb(e.T,i)&&(e.s||this.notifySubscribers(e.T,"beforeChange"),e.T=i,e.s?this.zc():t&&this.notifySubscribers(e.T)),n&&this.notifySubscribers(e.T,"awake")},Pc:function(t,e){try{var n=t.jd;return t.pb?n.call(t.pb):n()}finally{k.l.end(),e.lb&&!t.s&&k.a.D(e.Ma,o),t.S=!1}},t:function(){var t=this[M];return(t.S&&!t.L||t.s&&this.Qa())&&this.aa(),t.T},Ta:function(t){k.J.fn.Ta.call(this,t),this.Fa=function(){this.Kb(this[M].T),this[M].S=!0,this.Lb(this)}},k:function(){var t=this[M];!t.s&&t.r&&k.a.D(t.r,function(t,e){e.k&&e.k()}),t.i&&t.mb&&k.a.F.pc(t.i,t.mb),t.r=null,t.L=0,t.R=!0,t.S=!1,t.s=!1,t.i=null}},O={sa:function(t){var n,o=this,r=o[M];!r.R&&r.s&&"change"==t&&(r.s=!1,r.S||o.Qa()?(r.r=null,r.L=0,r.S=!0,o.aa()):(n=[],k.a.D(r.r,function(t,e){n[e.Ga]=t}),k.a.q(n,function(t,e){var n=r.r[t],i=o.uc(n.ia);i.Ga=e,i.na=n.na,r.r[t]=i})),r.R||o.notifySubscribers(r.T,"awake"))},Ia:function(t){var n=this[M];n.R||"change"!=t||this.Pa("change")||(k.a.D(n.r,function(t,e){e.k&&(n.r[t]={ia:e.ia,Ga:e.Ga,na:e.na},e.k())}),n.s=!0,this.notifySubscribers(wt,"asleep"))},Na:function(){var t=this[M];return t.s&&(t.S||this.Qa())&&this.aa(),k.J.fn.Na.call(this)}},N={sa:function(t){"change"!=t&&"beforeChange"!=t||this.t()}};k.a.ka&&k.a.Xa(z,k.J.fn);var I,B,R,U,F,q,j,Z,V,H,W,G,$,J,t=k.N.gd;function Y(i,o,r){if(r=r||new X,"object"!=typeof(i=o(i))||null===i||i===wt||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var s=i instanceof Array?[]:{};return r.save(i,s),function(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}(i,function(t){var e=o(i[t]);switch(typeof e){case"boolean":case"number":case"string":case"function":s[t]=e;break;case"object":case"undefined":var n=r.get(e);s[t]=n!==wt?n:Y(e,o,r)}}),s}function X(){this.keys=[],this.Ib=[]}function K(t){var e,n=[],i=(t=123===(t=k.a.$a(t)).charCodeAt(0)?t.slice(1,-1):t).match(R),o=[],r=0;if(i){i.push(",");for(var s,a=0;s=i[a];++a){var l=s.charCodeAt(0);if(44===l){if(r<=0){n.push(e&&o.length?{key:e,value:o.join("")}:{unknown:e||o.join("")}),e=r=0,o=[];continue}}else if(58===l){if(!r&&!e&&1===o.length){e=o.pop();continue}}else 47===l&&a&&1<s.length?(l=i[a-1].match(U))&&!F[l[0]]&&((i=(t=t.substr(t.indexOf(s)+1)).match(R)).push(","),a=-1,s="/"):40===l||123===l||91===l?++r:41===l||125===l||93===l?--r:e||o.length||34!==l&&39!==l||(s=s.slice(1,-1));o.push(s)}}return n}function Q(t){return 8==t.nodeType&&Z.test(j?t.text:t.nodeValue)}function tt(t){return 8==t.nodeType&&V.test(j?t.text:t.nodeValue)}function et(t,e){for(var n=t,i=1,o=[];n=n.nextSibling;){if(tt(n)&&0===--i)return o;o.push(n),Q(n)&&i++}if(!e)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function nt(t,e){e=et(t,e);return e?(0<e.length?e[e.length-1]:t).nextSibling:null}function it(n,t){var i,o,r,s=G.hasOwnProperty(n)?G[n]:W;s?s.X(t):((s=G[n]=new k.J).X(t),r=function(t,e){e=!(!e||!e.synchronous);$[n]={definition:t,Zc:e},delete G[n],i||e?s.notifySubscribers(t):k.Y.Wa(function(){s.notifySubscribers(t)})},ot("getConfig",[o=n],function(e){e?ot("loadComponent",[o,e],function(t){r(t,e)}):r(null,null)}),i=!0)}function ot(e,n,i,o){var t=(o=o||k.g.loaders.slice(0)).shift();if(t){var r=t[e];if(r){var s=!1;if(r.apply(t,n.concat(function(t){s?i(null):null!==t?i(t):ot(e,n,i,o)}))!==W&&(s=!0,!t.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else ot(e,n,i,o)}else i(null)}k.m[t]=k.N,z[t]=k.m,k.Xc=function(t){return k.Oa(t,k.m)},k.Yc=function(t){return k.Oa(t,k.m)&&t[M]&&t[M].Va},k.b("computed",k.m),k.b("dependentObservable",k.m),k.b("isComputed",k.Xc),k.b("isPureComputed",k.Yc),k.b("computed.fn",z),k.G(z,"peek",z.t),k.G(z,"dispose",z.k),k.G(z,"isActive",z.ba),k.G(z,"getDependenciesCount",z.Aa),k.nc=function(t,e){return"function"==typeof t?k.m(t,e,{pure:!0}):((t=k.a.extend({},t)).pure=!0,k.m(t,e))},k.b("pureComputed",k.nc),k.wc=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return Y(t,function(t){for(var e=0;k.H(t)&&e<10;e++)t=t();return t})},k.toJSON=function(t,e,n){return t=k.wc(t),k.a.Eb(t,e,n)},X.prototype={save:function(t,e){var n=k.a.o(this.keys,t);0<=n?this.Ib[n]=e:(this.keys.push(t),this.Ib.push(e))},get:function(t){return 0<=(t=k.a.o(this.keys,t))?this.Ib[t]:wt}},k.b("toJS",k.wc),k.b("toJSON",k.toJSON),k.j={u:function(t){switch(k.a.A(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?k.a.e.get(t,k.d.options.xb):!(k.a.C<=7)||t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text;case"select":return 0<=t.selectedIndex?k.j.u(t.options[t.selectedIndex]):wt;default:return t.value}},ha:function(t,e,n){switch(k.a.A(t)){case"option":"string"==typeof e?(k.a.e.set(t,k.d.options.xb,wt),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e):(k.a.e.set(t,k.d.options.xb,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:"");break;case"select":""!==e&&null!==e||(e=wt);for(var i,o=-1,r=0,s=t.options.length;r<s;++r)if((i=k.j.u(t.options[r]))==e||""==i&&e===wt){o=r;break}(n||0<=o||e===wt&&1<t.size)&&(t.selectedIndex=o);break;default:t.value=e=null===e||e===wt?"":e}}},k.b("selectExtensions",k.j),k.b("selectExtensions.readValue",k.j.u),k.b("selectExtensions.writeValue",k.j.ha),k.h=(I=["true","false","null","undefined"],B=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,R=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),U=/[\])"'A-Za-z0-9_$]+$/,F={in:1,return:1,typeof:1},{ta:[],ea:q={},yb:K,Ua:function(t,e){function o(t,e){var n;if(!l){var i=k.getBindingHandler(t);if(i&&i.preprocess&&!(e=i.preprocess(e,t,o)))return;(i=q[t])&&(n=e,i=n=!(0<=k.a.o(I,n))&&(null!==(i=n.match(B))&&(i[1]?"Object("+i[1]+")"+i[2]:n))),i&&s.push("'"+t+"':function(_z){"+n+"=_z}")}r.push("'"+t+"':"+(e=a?"function(){return "+e+" }":e))}var r=[],s=[],a=(e=e||{}).valueAccessors,l=e.bindingParams,t="string"==typeof t?K(t):t;return k.a.q(t,function(t){o(t.key||t.unknown,t.value)}),s.length&&o("_ko_property_writers","{"+s.join(",")+" }"),r.join(",")},ad:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},Ea:function(t,e,n,i,o){t&&k.H(t)?!k.Ba(t)||o&&t.t()===i||t(i):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](i)}}),k.b("expressionRewriting",k.h),k.b("expressionRewriting.bindingRewriteValidators",k.h.ta),k.b("expressionRewriting.parseObjectLiteral",k.h.yb),k.b("expressionRewriting.preProcessBindings",k.h.Ua),k.b("expressionRewriting._twoWayBindings",k.h.ea),k.b("jsonExpressionRewriting",k.h),k.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",k.h.Ua),j=Ct&&"\x3c!--test--\x3e"===Ct.createComment("test").text,Z=j?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,V=j?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,H={ul:!0,ol:!0},k.f={Z:{},childNodes:function(t){return Q(t)?et(t):t.childNodes},xa:function(t){if(Q(t))for(var e=0,n=(t=k.f.childNodes(t)).length;e<n;e++)k.removeNode(t[e]);else k.a.ob(t)},da:function(t,e){if(Q(t)){k.f.xa(t);for(var n=t.nextSibling,i=0,o=e.length;i<o;i++)n.parentNode.insertBefore(e[i],n)}else k.a.da(t,e)},mc:function(t,e){Q(t)?t.parentNode.insertBefore(e,t.nextSibling):t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},gc:function(t,e,n){n?Q(t)?t.parentNode.insertBefore(e,n.nextSibling):n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):k.f.mc(t,e)},firstChild:function(t){return Q(t)?!t.nextSibling||tt(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(t=Q(t)?nt(t):t).nextSibling&&tt(t.nextSibling)?null:t.nextSibling},Tc:Q,pd:function(t){return(t=(j?t.text:t.nodeValue).match(Z))?t[1]:null},kc:function(t){if(H[k.a.A(t)]){var e=t.firstChild;if(e)do{if(1===e.nodeType){var n,i=e.firstChild,o=null;if(i)do{}while(o?o.push(i):Q(i)?(n=nt(i,!0))?i=n:o=[i]:tt(i)&&(o=[i]),i=i.nextSibling);if(i=o)for(o=e.nextSibling,n=0;n<i.length;n++)o?t.insertBefore(i[n],o):t.appendChild(i[n])}}while(e=e.nextSibling)}}},k.b("virtualElements",k.f),k.b("virtualElements.allowedBindings",k.f.Z),k.b("virtualElements.emptyNode",k.f.xa),k.b("virtualElements.insertAfter",k.f.gc),k.b("virtualElements.prepend",k.f.mc),k.b("virtualElements.setDomNodeChildren",k.f.da),k.Q=function(){this.Fc={}},k.a.extend(k.Q.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||k.g.getComponentNameForNode(t);case 8:return k.f.Tc(t);default:return!1}},getBindings:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t):null;return k.g.Ob(n,t,e,!1)},getBindingAccessors:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return k.g.Ob(n,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return k.f.pd(t);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,r,s,a=this.Fc,l=e+(i&&i.valueAccessors||"");return(s=a[l])||(o="with($context){with($data||{}){return{"+k.h.Ua(e,i)+"}}}",r=new Function("$context","$element",o),s=a[l]=r),s(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),k.Q.instance=new k.Q,k.b("bindingProvider",k.Q),function(){function o(t){return function(){return t}}function g(t){return t()}function r(n){return k.a.Ca(k.l.w(n),function(t,e){return function(){return n()[e]}})}function _(t,e){return r(this.getBindings.bind(this,t,e))}function s(t,e,n){var i,o=k.f.firstChild(e),r=k.Q.instance,s=r.preprocessNode;if(s){for(;i=o;)o=k.f.nextSibling(i),s.call(r,i);o=k.f.firstChild(e)}for(;i=o;)o=k.f.nextSibling(i),a(t,i,n)}function a(t,e,n){var i=!0,o=1===e.nodeType;o&&k.f.kc(e),(i=o&&n||k.Q.instance.nodeHasBindings(e)?l(e,null,t,n).shouldBindDescendants:i)&&!c[k.a.A(e)]&&s(t,e,!o)}function l(o,t,r,e){var s,n,i,a,l,u,c,h,p,d,f,m=k.a.e.get(o,v);if(!t){if(m)throw Error("You cannot apply bindings multiple times to the same element.");k.a.e.set(o,v,!0)}return!m&&e&&k.tc(o,r),t&&"function"!=typeof t?s=t:(n=k.Q.instance,i=n.getBindingAccessors||_,a=k.B(function(){return(s=t?t(r,o):i.call(n,o,r))&&r.P&&r.P(),s},null,{i:o}),s&&a.ba()||(a=null)),s&&(u=a?function(t){return function(){return g(a()[t])}}:function(t){return s[t]},(c=function(){return k.a.Ca(a?a():s,g)}).get=function(t){return s[t]&&u(t)()},c.has=function(t){return t in s},h=s,p=[],d={},f=[],k.a.D(h,function e(t){var n;d[t]||((n=k.getBindingHandler(t))&&(n.after&&(f.push(t),k.a.q(n.after,function(t){if(h[t]){if(-1!==k.a.o(f,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));e(t)}}),f.length--),p.push({key:t,fc:n})),d[t]=!0)}),k.a.q(e=p,function(t){var e=t.fc.init,n=t.fc.update,i=t.key;if(8===o.nodeType&&!k.f.Z[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");try{"function"==typeof e&&k.l.w(function(){var t=e(o,u(i),c,r.$data,r);if(t&&t.controlsDescendantBindings){if(l!==wt)throw Error("Multiple bindings ("+l+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=i}}),"function"==typeof n&&k.B(function(){n(o,u(i),c,r.$data,r)},null,{i:o})}catch(t){throw t.message='Unable to process binding "'+i+": "+s[i]+'"\nMessage: '+t.message,t}})),{shouldBindDescendants:l===wt}}function u(t){return t&&t instanceof k.U?t:new k.U(t)}k.d={};var c={script:!0,textarea:!0,template:!0};k.getBindingHandler=function(t){return k.d[t]},k.U=function(n,i,o,r){var e,s=this,a="function"==typeof n&&!k.H(n),l=k.B(function(){var t=a?n():n,e=k.a.c(t);return i?(i.P&&i.P(),k.a.extend(s,i),l&&(s.P=l)):(s.$parents=[],s.$root=e,s.ko=k),s.$rawData=t,s.$data=e,o&&(s[o]=e),r&&r(s,i,e),s.$data},null,{wa:function(){return e&&!k.a.Qb(e)},i:!0});l.ba()&&((s.P=l).equalityComparer=null,e=[],l.Ac=function(t){e.push(t),k.a.F.oa(t,function(t){k.a.La(e,t),e.length||(l.k(),s.P=l=wt)})})},k.U.prototype.createChildContext=function(t,e,n){return new k.U(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},k.U.prototype.extend=function(n){return new k.U(this.P||this.$data,this,null,function(t,e){t.$rawData=e.$rawData,k.a.extend(t,"function"==typeof n?n():n)})};var v=k.a.e.I(),n=k.a.e.I();k.tc=function(t,e){if(2!=arguments.length)return k.a.e.get(t,n);k.a.e.set(t,n,e),e.P&&e.P.Ac(t)},k.Ja=function(t,e,n){return 1===t.nodeType&&k.f.kc(t),l(t,e,u(n),!0)},k.Dc=function(t,e,n){return n=u(n),k.Ja(t,(i=n,t=t,"function"==typeof(e=e)?r(e.bind(null,i,t)):k.a.Ca(e,o)),n);var i},k.eb=function(t,e){1!==e.nodeType&&8!==e.nodeType||s(u(t),e,!0)},k.Rb=function(t,e){if(!Et&&kt.jQuery&&(Et=kt.jQuery),e&&1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");e=e||kt.document.body,a(u(t),e,!0)},k.kb=function(t){switch(t.nodeType){case 1:case 8:var e=k.tc(t);if(e)return e;if(t.parentNode)return k.kb(t.parentNode)}return wt},k.Jc=function(t){return(t=k.kb(t))?t.$data:wt},k.b("bindingHandlers",k.d),k.b("applyBindings",k.Rb),k.b("applyBindingsToDescendants",k.eb),k.b("applyBindingAccessorsToNode",k.Ja),k.b("applyBindingsToNode",k.Dc),k.b("contextFor",k.kb),k.b("dataFor",k.Jc)}(),G={},$={},k.g={get:function(t,e){var n=$.hasOwnProperty(t)?$[t]:W;n?n.Zc?k.l.w(function(){e(n.definition)}):k.Y.Wa(function(){e(n.definition)}):it(t,e)},Xb:function(t){delete $[t]},Jb:ot},k.g.loaders=[],k.b("components",k.g),k.b("components.get",k.g.get),k.b("components.clearCachedDefinition",k.g.Xb),function(){function o(t){switch(k.a.A(t)){case"script":return k.a.ma(t.text);case"textarea":return k.a.ma(t.value);case"template":if(r(t.content))return k.a.ua(t.content.childNodes)}return k.a.ua(t.childNodes)}function r(t){return kt.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function h(t,e,n){"string"==typeof e.require?i||kt.require?(i||kt.require)([e.require],n):t("Uses require, but no AMD loader is present"):n(e)}function s(e){return function(t){throw Error("Component '"+e+"': "+t)}}var n={};k.g.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(k.g.ub(t))throw Error("Component "+t+" is already registered");n[t]=e},k.g.ub=function(t){return n.hasOwnProperty(t)},k.g.od=function(t){delete n[t],k.g.Xb(t)},k.g.Zb={getConfig:function(t,e){e(n.hasOwnProperty(t)?n[t]:null)},loadComponent:function(l,t,u){var c=s(l);h(c,t,function(t){function e(){0==--a&&r(s)}var n,i,o,r,s,a;n=l,i=c,r=u,s={},a=2,t=(o=t).template,o=o.viewModel,t?h(i,t,function(t){k.g.Jb("loadTemplate",[n,t],function(t){s.template=t,e()})}):e(),o?h(i,o,function(t){k.g.Jb("loadViewModel",[n,t],function(t){s[p]=t,e()})}):e()})},loadTemplate:function(t,e,n){var i;t=s(t),"string"==typeof e?n(k.a.ma(e)):e instanceof Array?n(e):r(e)?n(k.a.V(e.childNodes)):e.element?(e=e.element,(kt.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType)?n(o(e)):"string"==typeof e?(i=Ct.getElementById(e))?n(o(i)):t("Cannot find element with ID "+e):t("Unknown element type: "+e)):t("Unknown template value: "+e)},loadViewModel:function(t,e,n){!function t(e,n,i){var o;"function"==typeof n?i(function(t){return new n(t)}):"function"==typeof n[p]?i(n[p]):"instance"in n?(o=n.instance,i(function(){return o})):"viewModel"in n?t(e,n.viewModel,i):e("Unknown viewModel value: "+n)}(s(t),e,n)}};var p="createViewModel";k.b("components.register",k.g.register),k.b("components.isRegistered",k.g.ub),k.b("components.unregister",k.g.od),k.b("components.defaultLoader",k.g.Zb),k.g.loaders.push(k.g.Zb),k.g.Bc=n}(),function(){k.g.getComponentNameForNode=function(t){var e=k.a.A(t);if(k.g.ub(e)&&(-1!=e.indexOf("-")||"[object HTMLUnknownElement]"==""+t||k.a.C<=8&&t.tagName===e))return e},k.g.Ob=function(t,e,n,i){if(1===e.nodeType){var o=k.g.getComponentNameForNode(e);if(o){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:o,params:function(n,t){if(e=n.getAttribute("params")){var e=s.parseBindingsString(e,t,n,{valueAccessors:!0,bindingParams:!0}),e=k.a.Ca(e,function(t){return k.m(t,null,{i:n})}),t=k.a.Ca(e,function(e){var t=e.t();return e.ba()?k.m({read:function(){return k.a.c(e())},write:k.Ba(t)&&function(t){e()(t)},i:n}):t});return t.hasOwnProperty("$raw")||(t.$raw=e),t}return{$raw:{}}}(e,n)};t.component=i?function(){return r}:r}}return t};var i,e,s=new k.Q;k.a.C<9&&(k.g.register=(e=k.g.register,function(t){return Ct.createElement(t),e.apply(this,arguments)}),Ct.createDocumentFragment=(i=Ct.createDocumentFragment,function(){var t,e=i(),n=k.g.Bc;for(t in n)n.hasOwnProperty(t)&&e.createElement(t);return e}))}(),J=0,k.d.component={init:function(c,e,t,n,h){function p(){var t=d&&d.dispose;"function"==typeof t&&t.call(d),f=d=null}var d,f,m=k.a.V(k.f.childNodes(c));return k.a.F.oa(c,p),k.m(function(){var a,l,t=k.a.c(e());if("string"==typeof t?a=t:(a=k.a.c(t.name),l=k.a.c(t.params)),!a)throw Error("No component name specified");var u=f=++J;k.g.get(a,function(t){if(f===u){if(p(),!t)throw Error("Unknown component '"+a+"'");!function(t,e,n){if(!(e=e.template))throw Error("Component '"+t+"' has no template");t=k.a.ua(e),k.f.da(n,t)}(a,t,c);var e=(i=c,o=m,r=l,(s=(n=t).createViewModel)?s.call(n,r,{element:i,templateNodes:o}):r);t=h.createChildContext(e,void 0,function(t){t.$component=e,t.$componentTemplateNodes=m}),d=e,k.eb(t,c)}var n,i,o,r,s})},null,{i:c}),{controlsDescendantBindings:!0}}},k.f.Z.component=!0;var rt={class:"className",for:"htmlFor"};k.d.attr={update:function(i,t){t=k.a.c(t())||{};k.a.D(t,function(t,e){var n=!1===(e=k.a.c(e))||null===e||e===wt;n&&i.removeAttribute(t),k.a.C<=8&&t in rt?(t=rt[t],n?i.removeAttribute(t):i[t]=e):n||i.setAttribute(t,e.toString()),"name"===t&&k.a.rc(i,n?"":e.toString())})}},k.d.checked={after:["value","attr"],init:function(o,r,s){function t(){var t,e,n=o.checked,i=c?h():n;k.va.Sa()||p&&!n||(t=k.l.w(r),a?(e=l?t.t():t,u!==i?(n&&(k.a.pa(e,i,!0),k.a.pa(e,u,!1)),u=i):k.a.pa(e,i,n),l&&k.Ba(t)&&t(e)):k.h.Ea(t,s,"checked",i,!0))}var e,a,l,u,c,h=k.nc(function(){return s.has("checkedValue")?k.a.c(s.get("checkedValue")):s.has("value")?k.a.c(s.get("value")):o.value}),n="checkbox"==o.type,p="radio"==o.type;(n||p)&&(e=r(),a=n&&k.a.c(e)instanceof Array,l=!(a&&e.push&&e.splice),u=a?h():wt,c=p||a,p&&!o.name&&k.d.uniqueName.init(o,function(){return!0}),k.m(t,null,{i:o}),k.a.p(o,"click",t),k.m(function(){var t=k.a.c(r());o.checked=a?0<=k.a.o(t,h()):n?t:h()===t},null,{i:o}))}},k.h.ea.checked=!0,k.d.checkedValue={update:function(t,e){t.value=k.a.c(e())}},k.d.css={update:function(n,t){t=k.a.c(t());null!==t&&"object"==typeof t?k.a.D(t,function(t,e){e=k.a.c(e),k.a.bb(n,t,e)}):(t=k.a.$a(String(t||"")),k.a.bb(n,n.__ko__cssValue,!1),n.__ko__cssValue=t,k.a.bb(n,t,!0))}},k.d.enable={update:function(t,e){e=k.a.c(e());e&&t.disabled?t.removeAttribute("disabled"):e||t.disabled||(t.disabled=!0)}},k.d.disable={update:function(t,e){k.d.enable.update(t,function(){return!k.a.c(e())})}},k.d.event={init:function(t,r,s,a,l){var e=r()||{};k.a.D(e,function(o){"string"==typeof o&&k.a.p(t,o,function(t){var e,n=r()[o];if(n){try{var i=k.a.V(arguments);a=l.$data,i.unshift(a),e=n.apply(a,i)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===s.get(o+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},k.d.foreach={ic:function(n){return function(){var t=n(),e=k.a.zb(t);return e&&"number"!=typeof e.length?(k.a.c(t),{foreach:e.data,as:e.as,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,beforeMove:e.beforeMove,afterMove:e.afterMove,templateEngine:k.W.sb}):{foreach:t,templateEngine:k.W.sb}}},init:function(t,e){return k.d.template.init(t,k.d.foreach.ic(e))},update:function(t,e,n,i,o){return k.d.template.update(t,k.d.foreach.ic(e),n,i,o)}},k.h.ta.foreach=!1,k.f.Z.foreach=!0,k.d.hasfocus={init:function(i,o,r){function t(t){i.__ko_hasfocusUpdating=!0;var e,n=i.ownerDocument;if("activeElement"in n){try{e=n.activeElement}catch(t){e=n.body}t=e===i}n=o(),k.h.Ea(n,r,"hasfocus",t,!0),i.__ko_hasfocusLastValue=t,i.__ko_hasfocusUpdating=!1}var e=t.bind(null,!0),n=t.bind(null,!1);k.a.p(i,"focus",e),k.a.p(i,"focusin",e),k.a.p(i,"blur",n),k.a.p(i,"focusout",n)},update:function(t,e){e=!!k.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===e||(e?t.focus():t.blur(),!e&&t.__ko_hasfocusLastValue&&t.ownerDocument.body.focus(),k.l.w(k.a.Da,null,[t,e?"focusin":"focusout"]))}},k.h.ea.hasfocus=!0,k.d.hasFocus=k.d.hasfocus,k.h.ea.hasFocus=!0,k.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){k.a.Cb(t,e())}},e("if"),e("ifnot",!1,!0),e("with",!0,!1,function(t,e){return t.createChildContext(e)});var st,at,lt,ut,ct,ht,pt,dt,ft,mt,gt,_t,vt={};function yt(t,e,n,i){t=k.h.yb(t);for(var o=k.h.ta,r=0;r<t.length;r++){var s=t[r].key;if(o.hasOwnProperty(s)){var a=o[s];if("function"==typeof a){if(s=a(t[r].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+k.h.Ua(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+e}function bt(t,e,n,i,o){for(var r,s,a,l,u=Math.min,c=Math.max,h=[],p=t.length,d=e.length,f=d-p||1,m=p+d+1,g=0;g<=p;g++)for(a=s,h.push(s=[]),l=u(d,g+f),r=c(0,g-1);r<=l;r++)s[r]=r?g?t[g-1]===e[r-1]?a[r-1]:u(a[r]||m,s[r-1]||m)+1:r+1:g+1;for(u=[],c=[],f=[],g=p,r=d;g||r;)d=h[g][r]-1,r&&d===h[g][r-1]?c.push(u[u.length]={status:n,value:e[--r],index:r}):g&&d===h[g-1][r]?f.push(u[u.length]={status:i,value:t[--g],index:g}):(--r,--g,o.sparse||u.push({status:"retained",value:e[r]}));return k.a.dc(f,c,!o.dontLimitMoves&&10*p),u.reverse()}k.d.options={init:function(t){if("select"!==k.a.A(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(i,t,o){function e(){return k.a.Ka(i.options,function(t){return t.selected})}function r(t,e,n){var i=typeof e;return"function"==i?e(t):"string"==i?t[e]:n}function n(t,e){var n;d&&u?k.j.ha(i,k.a.c(o.get("value")),!0):p.length&&(n=0<=k.a.o(p,k.j.u(e[0])),k.a.sc(e[0],n),d&&!n&&k.l.w(k.a.Da,null,[i,"change"]))}var s=i.multiple,a=0!=i.length&&s?i.scrollTop:null,l=k.a.c(t()),u=o.get("valueAllowUnset")&&o.has("value"),c=o.get("optionsIncludeDestroyed");t={};var h,p=[];u||(s?p=k.a.fb(e(),k.j.u):0<=i.selectedIndex&&p.push(k.j.u(i.options[i.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),h=k.a.Ka(l,function(t){return c||t===wt||null===t||!k.a.c(t._destroy)}),!o.has("optionsCaption")||null!==(l=k.a.c(o.get("optionsCaption")))&&l!==wt&&h.unshift(vt));var d=!1;t.beforeRemove=function(t){i.removeChild(t)},l=n,o.has("optionsAfterRender")&&"function"==typeof o.get("optionsAfterRender")&&(l=function(t,e){n(0,e),k.l.w(o.get("optionsAfterRender"),null,[e[0],t!==vt?t:wt])}),k.a.Bb(i,h,function(t,e,n){return n.length&&(p=!u&&n[0].selected?[k.j.u(n[0])]:[],d=!0),e=i.ownerDocument.createElement("option"),t===vt?(k.a.Za(e,o.get("optionsCaption")),k.j.ha(e,wt)):(n=r(t,o.get("optionsValue"),t),k.j.ha(e,k.a.c(n)),t=r(t,o.get("optionsText"),n),k.a.Za(e,t)),[e]},t,l),k.l.w(function(){u?k.j.ha(i,k.a.c(o.get("value")),!0):(s?p.length&&e().length<p.length:p.length&&0<=i.selectedIndex?k.j.u(i.options[i.selectedIndex])!==p[0]:p.length||0<=i.selectedIndex)&&k.a.Da(i,"change")}),k.a.Nc(i),a&&20<Math.abs(a-i.scrollTop)&&(i.scrollTop=a)}},k.d.options.xb=k.a.e.I(),k.d.selectedOptions={after:["options","foreach"],init:function(n,i,o){k.a.p(n,"change",function(){var t=i(),e=[];k.a.q(n.getElementsByTagName("option"),function(t){t.selected&&e.push(k.j.u(t))}),k.h.Ea(t,o,"selectedOptions",e)})},update:function(t,e){if("select"!=k.a.A(t))throw Error("values binding applies only to SELECT elements");var n=k.a.c(e()),e=t.scrollTop;n&&"number"==typeof n.length&&k.a.q(t.getElementsByTagName("option"),function(t){var e=0<=k.a.o(n,k.j.u(t));t.selected!=e&&k.a.sc(t,e)}),t.scrollTop=e}},k.h.ea.selectedOptions=!0,k.d.style={update:function(n,t){t=k.a.c(t()||{});k.a.D(t,function(t,e){e=k.a.c(e),n.style[t]=e=null===e||e===wt||!1===e?"":e})}},k.d.submit={init:function(i,o,t,e,r){if("function"!=typeof o())throw Error("The value for a submit binding must be a function");k.a.p(i,"submit",function(t){var e,n=o();try{e=n.call(r.$data,i)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},k.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){k.a.Za(t,e())}},k.f.Z.text=!0,kt&&kt.navigator&&(st=function(t){if(t)return parseFloat(t[1])},at=kt.opera&&kt.opera.version&&parseInt(kt.opera.version()),t=kt.navigator.userAgent,lt=st(t.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),ut=st(t.match(/Firefox\/([^ ]*)/))),k.a.C<10&&(ct=k.a.e.I(),ht=k.a.e.I(),pt=function(t){var e=this.activeElement;(e=e&&k.a.e.get(e,ht))&&e(t)},dt=function(t,e){var n=t.ownerDocument;k.a.e.get(n,ct)||(k.a.e.set(n,ct,!0),k.a.p(n,"selectionchange",pt)),k.a.e.set(t,ht,e)}),k.d.textInput={init:function(n,i,e){function t(t,e){k.a.p(n,t,e)}function o(){s||(a=n.value,s=k.a.setTimeout(r,4))}function r(){clearTimeout(s),a=s=wt;var t=n.value;l!==t&&(l=t,k.h.Ea(i(),e,"textInput",t))}var s,a,l=n.value,u=9==k.a.C?o:r;k.a.C<10?(t("propertychange",function(t){"value"===t.propertyName&&u(t)}),8==k.a.C&&(t("keyup",r),t("keydown",r)),8<=k.a.C&&(dt(n,u),t("dragend",o))):(t("input",r),lt<5&&"textarea"===k.a.A(n)?(t("keydown",o),t("paste",o),t("cut",o)):at<11?t("keydown",o):ut<4&&(t("DOMAutoComplete",r),t("dragdrop",r),t("drop",r))),t("change",r),k.m(function t(){var e=k.a.c(i());null!==e&&e!==wt||(e=""),a!==wt&&e===a?k.a.setTimeout(t,4):n.value!==e&&(l=e,n.value=e)},null,{i:n})}},k.h.ea.textInput=!0,k.d.textinput={preprocess:function(t,e,n){n("textInput",t)}},k.d.uniqueName={init:function(t,e){e()&&(e="ko_unique_"+ ++k.d.uniqueName.Ic,k.a.rc(t,e))}},k.d.uniqueName.Ic=0,k.d.value={after:["options","foreach"],init:function(i,o,r){var t,e,n,s,a,l;"input"!=i.tagName.toLowerCase()||"checkbox"!=i.type&&"radio"!=i.type?(t=["change"],e=r.get("valueUpdate"),n=!1,s=null,e&&(k.a.ra(t,e="string"==typeof e?[e]:e),t=k.a.Tb(t)),a=function(){s=null,n=!1;var t=o(),e=k.j.u(i);k.h.Ea(t,r,"value",e)},!k.a.C||"input"!=i.tagName.toLowerCase()||"text"!=i.type||"off"==i.autocomplete||i.form&&"off"==i.form.autocomplete||-1!=k.a.o(t,"propertychange")||(k.a.p(i,"propertychange",function(){n=!0}),k.a.p(i,"focus",function(){n=!1}),k.a.p(i,"blur",function(){n&&a()})),k.a.q(t,function(t){var e=a;k.a.nd(t,"after")&&(e=function(){s=k.j.u(i),k.a.setTimeout(a,0)},t=t.substring(5)),k.a.p(i,t,e)}),l=function(){var t,e=k.a.c(o()),n=k.j.u(i);null!==s&&e===s?k.a.setTimeout(l,0):e!==n&&("select"===k.a.A(i)?(t=r.get("valueAllowUnset"),(n=function(){k.j.ha(i,e,t)})(),t||e===k.j.u(i)?k.a.setTimeout(n,0):k.l.w(k.a.Da,null,[i,"change"])):k.j.ha(i,e))},k.m(l,null,{i:i})):k.Ja(i,{checkedValue:o})},update:function(){}},k.h.ea.value=!0,k.d.visible={update:function(t,e){var n=k.a.c(e()),e="none"!=t.style.display;n&&!e?t.style.display="":!n&&e&&(t.style.display="none")}},k.d.click={init:function(t,e,n,i,o){return k.d.event.init.call(this,t,function(){var t={};return t.click=e(),t},n,i,o)}},k.O=function(){},k.O.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},k.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},k.O.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=(e=e||Ct).getElementById(t);if(!e)throw Error("Cannot find template with ID "+t);return new k.v.n(e)}if(1==t.nodeType||8==t.nodeType)return new k.v.qa(t);throw Error("Unknown template type: "+t)},k.O.prototype.renderTemplate=function(t,e,n,i){return t=this.makeTemplateSource(t,i),this.renderTemplateSource(t,e,n,i)},k.O.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},k.O.prototype.rewriteTemplate=function(t,e,n){e=e((t=this.makeTemplateSource(t,n)).text()),t.text(e),t.data("isRewritten",!0)},k.b("templateEngine",k.O),k.Gb=(ft=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,mt=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{Oc:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return k.Gb.dd(t,e)},n)},dd:function(t,r){return t.replace(ft,function(t,e,n,i,o){return yt(o,e,n,r)}).replace(mt,function(t,e){return yt(e,"\x3c!-- ko --\x3e","#comment",r)})},Ec:function(n,i){return k.M.wb(function(t,e){t=t.nextSibling;t&&t.nodeName.toLowerCase()===i&&k.Ja(t,n,e)})}}),k.b("__tr_ambtns",k.Gb.Ec),function(){k.v={},k.v.n=function(t){var e;(this.n=t)&&(e=k.a.A(t),this.ab="script"===e?1:"textarea"===e?2:"template"==e&&t.content&&11===t.content.nodeType?3:4)},k.v.n.prototype.text=function(){var t=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[t];var e=arguments[0];"innerHTML"==t?k.a.Cb(this.n,e):this.n[t]=e};var e=k.a.e.I()+"_";k.v.n.prototype.data=function(t){if(1===arguments.length)return k.a.e.get(this.n,e+t);k.a.e.set(this.n,e+t,arguments[1])};var n=k.a.e.I();k.v.n.prototype.nodes=function(){var t=this.n;if(0==arguments.length)return(k.a.e.get(t,n)||{}).jb||(3===this.ab?t.content:4===this.ab?t:wt);k.a.e.set(t,n,{jb:arguments[0]})},k.v.qa=function(t){this.n=t},k.v.qa.prototype=new k.v.n,k.v.qa.prototype.text=function(){if(0==arguments.length){var t=k.a.e.get(this.n,n)||{};return t.Hb===wt&&t.jb&&(t.Hb=t.jb.innerHTML),t.Hb}k.a.e.set(this.n,n,{Hb:arguments[0]})},k.b("templateSources",k.v),k.b("templateSources.domElement",k.v.n),k.b("templateSources.anonymousTemplate",k.v.qa)}(),function(){function i(t,e,n){var i;for(e=k.f.nextSibling(e);t&&(i=t)!==e;)n(i,t=k.f.nextSibling(i))}function u(t,e){if(t.length){var o=t[0],r=t[t.length-1],n=o.parentNode,s=k.Q.instance,a=s.preprocessNode;if(a){if(i(o,r,function(t,e){var n=t.previousSibling,i=a.call(s,t);i&&(t===o&&(o=i[0]||e),t===r&&(r=i[i.length-1]||n))}),t.length=0,!o)return;o===r?t.push(o):(t.push(o,r),k.a.za(t,n))}i(o,r,function(t){1!==t.nodeType&&8!==t.nodeType||k.Rb(e,t)}),i(o,r,function(t){1!==t.nodeType&&8!==t.nodeType||k.M.yc(t,[e])}),k.a.za(t,n)}}function l(t){return t.nodeType?t:0<t.length?t[0]:null}function c(t,e,n,i,o){var r=(t&&l(t)||n||{}).ownerDocument,s=(o=o||{}).templateEngine||p;if(k.Gb.Oc(n,s,r),"number"!=typeof(n=s.renderTemplate(n,i,o,r)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(r=!1,e){case"replaceChildren":k.f.da(t,n),r=!0;break;case"replaceNode":k.a.qc(t,n),r=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return r&&(u(n,i),o.afterRender&&k.l.w(o.afterRender,null,[n,i.$data])),n}function h(t,e,n){return k.H(t)?t():"function"==typeof t?t(e,n):t}var p;k.Db=function(t){if(t!=wt&&!(t instanceof k.O))throw Error("templateEngine must inherit from ko.templateEngine");p=t},k.Ab=function(n,i,o,r,s){if(((o=o||{}).templateEngine||p)==wt)throw Error("Set a template engine before calling renderTemplate");if(s=s||"replaceChildren",r){var a=l(r);return k.B(function(){var t=i&&i instanceof k.U?i:new k.U(k.a.c(i)),e=h(n,t.$data,t),t=c(r,s,e,t,o);"replaceNode"==s&&(a=l(r=t))},null,{wa:function(){return!a||!k.a.nb(a)},i:a&&"replaceNode"==s?a.parentNode:a})}return k.M.wb(function(t){k.Ab(n,i,o,t,"replaceNode")})},k.kd=function(n,e,i,o,r){function s(t,e){u(e,l),i.afterRender&&i.afterRender(e,t),l=null}function a(t,e){return l=r.createChildContext(t,i.as,function(t){t.$index=e}),c(null,"ignoreTargetNode",h(n,t,l),l,i)}var l;return k.B(function(){var t=k.a.c(e)||[];void 0===t.length&&(t=[t]),t=k.a.Ka(t,function(t){return i.includeDestroyed||t===wt||null===t||!k.a.c(t._destroy)}),k.l.w(k.a.Bb,null,[o,t,a,i,s])},null,{i:o})};var a=k.a.e.I();k.d.template={init:function(t,e){e=k.a.c(e());if("string"==typeof e||e.name)k.f.xa(t);else{if("nodes"in e){if(e=e.nodes||[],k.H(e))throw Error('The "nodes" option must be a plain, non-observable array.')}else e=k.f.childNodes(t);e=k.a.jc(e),new k.v.qa(t).nodes(e)}return{controlsDescendantBindings:!0}},update:function(t,e,n,i,o){var r,s=e();n=!0,i=null,"string"==typeof(e=k.a.c(s))?e={}:(s=e.name,(n="if"in e?k.a.c(e.if):n)&&"ifnot"in e&&(n=!k.a.c(e.ifnot)),r=k.a.c(e.data)),"foreach"in e?i=k.kd(s||t,n&&e.foreach||[],e,t,o):n?(o="data"in e?o.createChildContext(r,e.as):o,i=k.Ab(s||t,o,e,t)):k.f.xa(t),o=i,(r=k.a.e.get(t,a))&&"function"==typeof r.k&&r.k(),k.a.e.set(t,a,o&&o.ba()?o:wt)}},k.h.ta.template=function(t){return 1==(t=k.h.yb(t)).length&&t[0].unknown||k.h.ad(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},k.f.Z.template=!0}(),k.b("setTemplateEngine",k.Db),k.b("renderTemplate",k.Ab),k.a.dc=function(t,e,n){if(t.length&&e.length)for(var i,o,r,s,a=i=0;(!n||a<n)&&(r=t[i]);++i){for(o=0;s=e[o];++o)if(r.value===s.value){r.moved=s.index,s.moved=r.index,e.splice(o,1),a=o=0;break}a+=o}},k.a.ib=function(t,e,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},(t=t||[]).length<(e=e||[]).length?bt(t,e,"added","deleted",n):bt(e,t,"deleted","added",n)},k.b("utils.compareArrays",k.a.ib),gt=k.a.e.I(),_t=k.a.e.I(),k.a.Bb=function(n,t,e,i,o){function r(t,e){g=l[e],d!==e&&(y[t]=g),g.qb(d++),k.a.za(g.ca,n),h.push(g),m.push(g)}function s(e,n){if(e)for(var i=0,t=n.length;i<t;i++)n[i]&&k.a.q(n[i].ca,function(t){e(t,i,n[i].ja)})}t=t||[],i=i||{};var a=k.a.e.get(n,gt)===wt,l=k.a.e.get(n,gt)||[],u=k.a.fb(l,function(t){return t.ja}),c=k.a.ib(u,t,i.dontLimitMoves),h=[],p=0,d=0,f=[],m=[];t=[];for(var g,_,v,y=[],u=[],b=0;_=c[b];b++)switch(v=_.moved,_.status){case"deleted":v===wt&&((g=l[p]).B&&(g.B.k(),g.B=wt),k.a.za(g.ca,n).length&&(i.beforeRemove&&(h.push(g),m.push(g),g.ja===_t?g=null:t[b]=g),g&&f.push.apply(f,g.ca))),p++;break;case"retained":r(b,p++);break;case"added":v!==wt?r(b,v):(g={ja:_.value,qb:k.N(d++)},h.push(g),m.push(g),a||(u[b]=g))}k.a.e.set(n,gt,h),s(i.beforeMove,y),k.a.q(f,i.beforeRemove?k.$:k.removeNode);for(var w,b=0,a=k.f.firstChild(n);g=m[b];b++){for(g.ca||k.a.extend(g,function(e,n,i,o,r){var s=[],t=k.B(function(){var t=n(i,r,k.a.za(s,e))||[];0<s.length&&(k.a.qc(s,t),o&&k.l.w(o,null,[i,t,r])),s.length=0,k.a.ra(s,t)},null,{i:e,wa:function(){return!k.a.Qb(s)}});return{ca:s,B:t.ba()?t:wt}}(n,e,g.ja,o,g.qb)),p=0;c=g.ca[p];a=c.nextSibling,w=c,p++)c!==a&&k.f.gc(n,c,w);!g.Wc&&o&&(o(g.ja,g.ca,g.qb),g.Wc=!0)}for(s(i.beforeRemove,t),b=0;b<t.length;++b)t[b]&&(t[b].ja=_t);s(i.afterMove,y),s(i.afterAdd,u)},k.b("utils.setDomNodeChildrenFromArrayMapping",k.a.Bb),k.W=function(){this.allowTemplateRewriting=!1},k.W.prototype=new k.O,k.W.prototype.renderTemplateSource=function(t,e,n,i){return(e=k.a.C<9||!t.nodes?null:t.nodes())?k.a.V(e.cloneNode(!0).childNodes):(t=t.text(),k.a.ma(t,i))},k.W.sb=new k.W,k.Db(k.W.sb),k.b("nativeTemplateEngine",k.W),function(){k.vb=function(){var r=this.$c=function(){if(!Et||!Et.tmpl)return 0;try{if(0<=Et.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,e,n,i){if(i=i||Ct,n=n||{},r<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=t.data("precompiled");return o||(o=t.text()||"",o=Et.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[e.$data],e=Et.extend({koBindingContext:e},n.templateOptions),(e=Et.tmpl(o,t,e)).appendTo(i.createElement("div")),Et.fragments={},e},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){Ct.write("<script type='text/html' id='"+t+"'>"+e+"<\/script>")},0<r&&(Et.tmpl.tag.ko_code={open:"__.push($1 || '');"},Et.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},k.vb.prototype=new k.O;var t=new k.vb;0<t.$c&&k.Db(t),k.b("jqueryTmplTemplateEngine",k.vb)}()},qt.amd?qt("knockout",["exports","require"],t):"object"==typeof exports&&"object"==typeof module?t(module.exports||exports):t(kt.ko={})}(),function(e,s){"use strict";function o(t,e){if(!t||"object"!=typeof t)throw new Error("When calling ko.track, you must pass an object as the first parameter.");var n;return!(n=e)||"object"!=typeof n||n.constructor!==Object?c(t,e||Object.getOwnPropertyNames(t),{}):(e.deep=e.deep||!1,e.fields=e.fields||Object.getOwnPropertyNames(t),e.lazy=e.lazy||!1,c(t,e.fields,e)),t}function a(t){return t&&"object"==typeof t&&"Object"===((t=t.constructor).name||(t.toString().trim().match(b)||[])[1])}function l(t,e,n){var i=g.isObservable(t),o=!i&&Array.isArray(t),r=i?t:o?g.observableArray(t):g.observable(t);return n[e]=function(){return r},(o||i&&"push"in r)&&p(g,r),{configurable:!0,enumerable:!0,get:r,set:g.isWriteableObservable(r)?r:s}}function u(t,e,n){function i(t,e){return o?e?o(t):o:Array.isArray(t)?(o=g.observableArray(t),p(g,o),o):o=g.observable(t)}return g.isObservable(t)?l(t,e,n):(n[e]=function(){return i(t)},{configurable:!0,enumerable:!0,get:function(){return i(t)()},set:function(t){i(t,!0)}});var o}function c(n,t,i){var o,r;t.length&&(o=h(n,!0),r={},t.forEach(function(t){var e;t in o||!1===Object.getOwnPropertyDescriptor(n,t).configurable||(e=n[t],r[t]=(i.lazy?u:l)(e,t,o),i.deep&&a(e)&&c(e,Object.keys(e),i))}),Object.defineProperties(n,r))}function h(t,e){var n=(_=_||y()).get(t);return!n&&e&&_.set(t,n={}),n}function n(t,e){var n;_&&(1===arguments.length?_.delete(t):(n=h(t,!1))&&e.forEach(function(t){delete n[t]}))}function i(t,e,n){var i={owner:t,deferEvaluation:!0};if("function"==typeof n)i.read=n;else{if("value"in n)throw new Error('For ko.defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');if("function"!=typeof n.get)throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');i.read=n.get,i.write=n.set}return t[e]=this.computed(i),o.call(this,t,[e]),t}function p(n,i){var o=null;n.computed(function(){o&&(o.dispose(),o=null);var t,e=i();e instanceof Array&&(t=i,o=function(t,e){var n=(v=v||y()).get(e);{var i;n||(n=new t.subscribable,v.set(e,n),function(n,i,o){["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(t){var e=n[t];n[t]=function(){var t=e.apply(this,arguments);return!0!==o.pause&&i.notifySubscribers(this),t}})}(e,n,i={}),function(n,i,o,r){["remove","removeAll","destroy","destroyAll","replace"].forEach(function(e){Object.defineProperty(i,e,{enumerable:!1,value:function(){var t;r.pause=!0;try{t=n.observableArray.fn[e].apply(n.observableArray(i),arguments)}finally{r.pause=!1}return o.notifySubscribers(i),t}})})}(t,e,n,i))}return n}(n,e).subscribe(t))})}function r(t,e){if(!t||"object"!=typeof t)return null;t=h(t,!1);return t&&e in t?t[e]():null}function d(t,e){if(!t||"object"!=typeof t)return!1;t=h(t,!1);return!!t&&e in t}function f(t,e){e=r(t,e);e&&e.valueHasMutated()}function m(t){t.track=o,t.untrack=n,t.getObservable=r,t.valueHasMutated=f,t.defineProperty=i,t.es5={getAllObservablesForObject:h,notifyWhenPresentOrFutureArrayValuesMutate:p,isTracked:d}}var g,_,v,y,t,b=/^function\s*([^\s(]+)/;"object"==typeof exports&&"object"==typeof module?(g=w("knockout"),t=w("../lib/weakmap"),m(g),y=function(){return new t},module.exports=g):qt.amd?qt("KnockoutES5",["knockout"],function(t){return m(g=t),y=function(){return new e.WeakMap},t}):"ko"in e&&(g=e.ko,m(e.ko),y=function(){return new e.WeakMap})}(this),y=function(){return this}(),l=Object.getOwnPropertyNames,u="object"==typeof window?Object.getOwnPropertyNames(window):[],c=Object.defineProperty,k=Function.prototype.toString,C=Object.create,x=Object.prototype.hasOwnProperty,E=/^\n?function\s?(\w*)?_?\(/,o={value:{writable:!0,value:b}},e=C(null),a=Z(),R(Object,F("getOwnPropertyNames",function(t){var e,n=Object(t);if(n!==Window.prototype&&"toString"in n&&"[object Window]"===n.toString())try{e=l(t)}catch(t){e=u}else e=l(t);return x.call(t,a)&&e.splice(e.indexOf(a),1),e})),R(j.prototype,F("get",function(t){return this.unlock(t).value})),R(j.prototype,F("set",function(t,e){this.unlock(t).value=e})),t=function(o){function e(t){return this===y||null==this||this===e.prototype?new e(t):(function(t,e){var n=o.unlock(t);if(n.value)throw new TypeError("Object is already a WeakMap");n.value=e}(this,new L),n=this,void(null!==(i=t)&&"object"==typeof i&&"function"==typeof i.forEach&&i.forEach(function(t,e){t instanceof Array&&2===t.length&&r.call(n,i[e][0],i[e][1])})));var n,i}function t(t){s(t);t=a(this).get(t);return void 0===t?b:t}function r(t,e){s(t),a(this).set(t,e===b?void 0:e)}function n(t){return s(t),a(this).get(t)!==b}function i(){return a(this),"[object WeakMap]"}function s(t){if(null==t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")}function a(t){if(!(t=o.unlock(t).value))throw new TypeError("WeakMap is not generic");return t}t._name="get",r._name="set",n._name="has",i._name="toString";var l=(""+Object).split("Object"),u=F("toString",function(){return l[0]+U(this)+l[1]});R(u,u);var c={__proto__:[]}instanceof Array?function(t){t.__proto__=u}:function(t){R(t,u)};return c(e),[i,t,r,n,function(t){s(t);var e=a(this),n=e.get(t)!==b;return e.set(t,b),n}].forEach(function(t){R(e.prototype,t),c(t)}),e}(new(L=j)),T=Object.create?function(){return Object.create(null)}:function(){return{}},"undefined"!=typeof module?module.exports=t:"undefined"!=typeof exports?exports.WeakMap=t:"WeakMap"in y||(y.WeakMap=t),t.createStorage=q,y.WeakMap&&(y.WeakMap.createStorage=q),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():qt.amd?qt("markdown-it-sanitizer",[],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownitSanitizer=t()}(function(){return function i(o,r,s){function a(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof w&&w;if(!t&&e)return e(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=r[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return a(e||t)},e,e.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof w&&w,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){"use strict";e.exports=function(t,e){function a(t){var e=n.match(t);return e&&1===e.length&&0===e[0].index&&e[0].lastIndex===t.length?e[0].url:null}function o(t){var r=RegExp('<a\\shref="([^"<>]*)"(?:\\stitle="([^"<>]*)")?>',"i"),s=RegExp('<img\\s([^<>]*src="[^"<>]*"[^<>]*)\\s?\\/?>',"i");return t.replace(/<[^<>]*>?/gi,function(t){var e;if(/(^<->|^<-\s|^<3\s)/.test(t))return t;if(e=t.match(s)){var n,i=e[1],o=a(i.match(/src="([^"<>]*)"/i)[1]);if(n=(n=i.match(/alt="([^"<>]*)"/i))&&void 0!==n[1]?n[1]:"",i=(i=i.match(/title="([^"<>]*)"/i))&&void 0!==i[1]?i[1]:"",o&&/^https?:\/\//i.test(o))return""!==c?'<img src="'+o+'" alt="'+n+'" title="'+i+'" class="'+c+'">':'<img src="'+o+'" alt="'+n+'" title="'+i+'">'}return n=p.indexOf("a"),(e=t.match(r))&&(i=void 0!==e[2]?e[2]:"",(o=a(e[1]))&&/^(?:https?:\/\/|ftp:\/\/|mailto:|xmpp:)/i.test(o))?(h=!0,d[n]+=1,'<a href="'+o+'" title="'+i+'" target="_blank">'):(e=/<\/a>/i.test(t))?(h=!0,--d[n],d[n]<0&&(f[n]=!0),"</a>"):(e=t.match(/<(br|hr)\s?\/?>/i))?"<"+e[1].toLowerCase()+">":(e=t.match(/<(\/?)(b|blockquote|code|em|h[1-6]|li|ol(?: start="\d+")?|p|pre|s|sub|sup|strong|ul)>/i))&&!/<\/ol start="\d+"/i.test(t)?(h=!0,n=p.indexOf(e[2].toLowerCase().split(" ")[0]),"/"===e[1]?--d[n]:d[n]+=1,d[n]<0&&(f[n]=!0),"<"+e[1]+e[2].toLowerCase()+">"):!0===u?"":l(t)})}for(var n=t.linkify,l=t.utils.escapeHtml,u=void 0!==(e=e||{}).removeUnknown&&e.removeUnknown,r=void 0!==e.removeUnbalanced&&e.removeUnbalanced,c=void 0!==e.imageClass?e.imageClass:"",h=!1,p=["a","b","blockquote","code","em","h1","h2","h3","h4","h5","h6","li","ol","p","pre","s","sub","sup","strong","ul"],d=new Array(p.length),f=new Array(p.length),s=0;s<p.length;s++)d[s]=0;for(s=0;s<p.length;s++)f[s]=!1;t.core.ruler.after("linkify","sanitize_inline",function(t){var e,n,i;for(s=0;s<p.length;s++)d[s]=0;for(s=0;s<p.length;s++)f[s]=!1;for(h=!1,n=0;n<t.tokens.length;n++)if("html_block"===t.tokens[n].type&&(t.tokens[n].content=o(t.tokens[n].content)),"inline"===t.tokens[n].type)for(i=t.tokens[n].children,e=0;e<i.length;e++)"html_inline"===i[e].type&&(i[e].content=o(i[e].content))}),t.core.ruler.after("sanitize_inline","sanitize_balance",function(t){function e(t){for(var e,n,i,o=0;o<p.length;o++)!0===f[o]&&(e=t,n=p[o],i=void 0,i="a"===n?RegExp('<a href="[^"<>]*" title="[^"<>]*" target="_blank">',"g"):"ol"===n?/<ol(?: start="\d+")?>/g:RegExp("<"+n+">","g"),n=RegExp("</"+n+">","g"),t=e=!0===r?(e=e.replace(i,"")).replace(n,""):(e=e.replace(i,function(t){return l(t)})).replace(n,function(t){return l(t)}));return t}if(!1!==h){var n,i;for(s=0;s<p.length;s++)0!==d[s]&&(f[s]=!0);for(n=0;n<t.tokens.length;n++)if("html_block"!==t.tokens[n].type){if("inline"===t.tokens[n].type)for(i=t.tokens[n].children,s=0;s<i.length;s++)"html_inline"===i[s].type&&(i[s].content=e(i[s].content))}else t.tokens[n].content=e(t.tokens[n].content)}})}},{}]},{},[1])(1)}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():qt.amd?qt("markdown-it",[],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownit=t()}(function(){return function i(o,r,s){function a(n,t){if(!r[n]){if(!o[n]){var e="function"==typeof w&&w;if(!t&&e)return e(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=r[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return a(e||t)},e,e.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof w&&w,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,n){"use strict";e.exports=t("entities/maps/entities.json")},{"entities/maps/entities.json":53}],2:[function(t,e,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(t,e,n){"use strict";var i="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+i+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+i+"|"+o+")");e.exports.HTML_TAG_RE=r,e.exports.HTML_OPEN_CLOSE_TAG_RE=o},{}],4:[function(t,e,n){"use strict";function i(t,e){return a.call(t,e)}function o(t){return!(55296<=t&&t<=57343||64976<=t&&t<=65007||65535==(65535&t)||65534==(65535&t)||0<=t&&t<=8||11===t||14<=t&&t<=31||127<=t&&t<=159||1114111<t)}function r(t){return 65535<t?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t)}function s(t){return f[t]}var a=Object.prototype.hasOwnProperty,l=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=new RegExp(l.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,h=t("./entities"),p=/[&<>"]/,d=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},m=/[.?*+^$[\]\\(){}|-]/g,g=t("uc.micro/categories/P/regex");n.lib={},n.lib.mdurl=t("mdurl"),n.lib.ucmicro=t("uc.micro"),n.assign=function(n){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(t){n[t]=e[t]})}}),n},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.has=i,n.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(l,"$1")},n.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(u,function(t,e,n){return e||(e=t,t=0,i(h,n=n)?h[n]:35===n.charCodeAt(0)&&c.test(n)&&o(t="x"===n[1].toLowerCase()?parseInt(n.slice(2),16):parseInt(n.slice(1),10))?r(t):e)})},n.isValidEntityCode=o,n.fromCodePoint=r,n.escapeHtml=function(t){return p.test(t)?t.replace(d,s):t},n.arrayReplaceAt=function(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))},n.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},n.isWhiteSpace=function(t){if(8192<=t&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},n.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},n.isPunctChar=function(t){return g.test(t)},n.escapeRE=function(t){return t.replace(m,"\\$&")},n.normalizeReference=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:59,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(t,e,n){"use strict";n.parseLinkLabel=t("./parse_link_label"),n.parseLinkDestination=t("./parse_link_destination"),n.parseLinkTitle=t("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(t,e,n){"use strict";var a=t("../common/utils").isSpace,l=t("../common/utils").unescapeAll;e.exports=function(t,e,n){var i,o,r=e,s={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(i=t.charCodeAt(e))||a(i))return s;if(62===i)return s.pos=e+1,s.str=l(t.slice(r+1,e)),s.ok=!0,s;92===i&&e+1<n?e+=2:e++}return s}for(o=0;e<n&&32!==(i=t.charCodeAt(e))&&!(i<32||127===i);)if(92===i&&e+1<n)e+=2;else{if(40===i&&1<++o)break;if(41===i&&--o<0)break;e++}return r===e||(s.str=l(t.slice(r,e)),s.lines=0,s.pos=e,s.ok=!0),s}},{"../common/utils":4}],7:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i,o,r,s,a=-1,l=t.posMax,u=t.pos;for(t.pos=e+1,i=1;t.pos<l;){if(93===(r=t.src.charCodeAt(t.pos))&&0===--i){o=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===r)if(s===t.pos-1)i++;else if(n)return t.pos=u,-1}return o&&(a=t.pos),t.pos=u,a}},{}],8:[function(t,e,n){"use strict";var l=t("../common/utils").unescapeAll;e.exports=function(t,e,n){var i,o,r=0,s=e,a={ok:!1,pos:0,lines:0,str:""};if(n<=e)return a;if(34!==(o=t.charCodeAt(e))&&39!==o&&40!==o)return a;for(e++,40===o&&(o=41);e<n;){if((i=t.charCodeAt(e))===o)return a.pos=e+1,a.lines=r,a.str=l(t.slice(s+1,e)),a.ok=!0,a;10===i?r++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&r++),e++}return a}},{"../common/utils":4}],9:[function(t,e,n){"use strict";function i(t){t=t.trim().toLowerCase();return!_.test(t)||!!v.test(t)}function o(t){t=f.parse(t,!0);if(t.hostname&&(!t.protocol||0<=y.indexOf(t.protocol)))try{t.hostname=m.toASCII(t.hostname)}catch(t){}return f.encode(f.format(t))}function r(t){t=f.parse(t,!0);if(t.hostname&&(!t.protocol||0<=y.indexOf(t.protocol)))try{t.hostname=m.toUnicode(t.hostname)}catch(t){}return f.decode(f.format(t))}function s(t,e){return this instanceof s?(e||a.isString(t)||(e=t||{},t="default"),this.inline=new p,this.block=new h,this.core=new c,this.renderer=new u,this.linkify=new d,this.validateLink=i,this.normalizeLink=o,this.normalizeLinkText=r,this.utils=a,this.helpers=l,this.options={},this.configure(t),void(e&&this.set(e))):new s(t,e)}var a=t("./common/utils"),l=t("./helpers"),u=t("./renderer"),c=t("./parser_core"),h=t("./parser_block"),p=t("./parser_inline"),d=t("linkify-it"),f=t("mdurl"),m=t("punycode"),g={default:t("./presets/default"),zero:t("./presets/zero"),commonmark:t("./presets/commonmark")},_=/^(vbscript|javascript|file|data):/,v=/^data:image\/(gif|png|jpeg|webp);/,y=["http:","https:","mailto:"];s.prototype.set=function(t){return a.assign(this.options,t),this},s.prototype.configure=function(e){var t,n=this;if(a.isString(e)&&!(e=g[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)}),this},s.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this);var n=n.concat(this.inline.ruler2.enable(e,!0)),i=e.filter(function(t){return n.indexOf(t)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},s.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this);var n=n.concat(this.inline.ruler2.disable(e,!0)),i=e.filter(function(t){return n.indexOf(t)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},s.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},s.prototype.parse=function(t,e){e=new this.core.State(t,this,e);return this.core.process(e),e.tokens},s.prototype.render=function(t,e){return this.renderer.render(this.parse(t,e=e||{}),this.options,e)},s.prototype.parseInline=function(t,e){e=new this.core.State(t,this,e);return e.inlineMode=!0,this.core.process(e),e.tokens},s.prototype.renderInline=function(t,e){return this.renderer.render(this.parseInline(t,e=e||{}),this.options,e)},e.exports=s},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":54,mdurl:59,punycode:52}],10:[function(t,e,n){"use strict";function i(){this.ruler=new o;for(var t=0;t<r.length;t++)this.ruler.push(r[t][0],r[t][1],{alt:(r[t][2]||[]).slice()})}var o=t("./ruler"),r=[["table",t("./rules_block/table"),["paragraph","reference"]],["code",t("./rules_block/code")],["fence",t("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","reference","list"]],["hr",t("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",t("./rules_block/reference")],["heading",t("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",t("./rules_block/lheading")],["html_block",t("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",t("./rules_block/paragraph")]];i.prototype.tokenize=function(t,e,n){for(var i,o=this.ruler.getRules(""),r=o.length,s=e,a=!1,l=t.md.options.maxNesting;s<n&&(t.line=s=t.skipEmptyLines(s),!(n<=s))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=l){t.line=n;break}for(i=0;i<r&&!o[i](t,s,n,!1);i++);if(t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),(s=t.line)<n&&t.isEmpty(s)){if(a=!0,++s<n&&"list"===t.parentType&&t.isEmpty(s))break;t.line=s}}},i.prototype.parse=function(t,e,n,i){t&&(i=new this.State(t,e,n,i),this.tokenize(i,i.line,i.lineMax))},i.prototype.State=t("./rules_block/state_block"),e.exports=i},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(t,e,n){"use strict";function i(){this.ruler=new o;for(var t=0;t<r.length;t++)this.ruler.push(r[t][0],r[t][1])}var o=t("./ruler"),r=[["normalize",t("./rules_core/normalize")],["block",t("./rules_core/block")],["inline",t("./rules_core/inline")],["linkify",t("./rules_core/linkify")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")]];i.prototype.process=function(t){for(var e=this.ruler.getRules(""),n=0,i=e.length;n<i;n++)e[n](t)},i.prototype.State=t("./rules_core/state_core"),e.exports=i},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(t,e,n){"use strict";function i(){var t;for(this.ruler=new o,t=0;t<r.length;t++)this.ruler.push(r[t][0],r[t][1]);for(this.ruler2=new o,t=0;t<s.length;t++)this.ruler2.push(s[t][0],s[t][1])}var o=t("./ruler"),r=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["strikethrough",t("./rules_inline/strikethrough").tokenize],["emphasis",t("./rules_inline/emphasis").tokenize],["link",t("./rules_inline/link")],["image",t("./rules_inline/image")],["autolink",t("./rules_inline/autolink")],["html_inline",t("./rules_inline/html_inline")],["entity",t("./rules_inline/entity")]],s=[["balance_pairs",t("./rules_inline/balance_pairs")],["strikethrough",t("./rules_inline/strikethrough").postProcess],["emphasis",t("./rules_inline/emphasis").postProcess],["text_collapse",t("./rules_inline/text_collapse")]];i.prototype.skipToken=function(t){var e,n,i=t.pos,o=this.ruler.getRules(""),r=o.length,s=t.md.options.maxNesting,a=t.cache;if(void 0===a[i]){if(t.level<s)for(n=0;n<r&&(t.level++,e=o[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,a[i]=t.pos}else t.pos=a[i]},i.prototype.tokenize=function(t){for(var e,n,i=this.ruler.getRules(""),o=i.length,r=t.posMax,s=t.md.options.maxNesting;t.pos<r;){if(t.level<s)for(n=0;n<o&&!(e=i[n](t,!1));n++);if(e){if(t.pos>=r)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},i.prototype.parse=function(t,e,n,i){var o,r,s,a=new this.State(t,e,n,i);for(this.tokenize(a),s=(r=this.ruler2.getRules("")).length,o=0;o<s;o++)r[o](a)},i.prototype.State=t("./rules_inline/state_inline"),e.exports=i},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(t,e,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(t,e,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(t,e,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(t,e,n){"use strict";function i(){this.rules=o({},r)}var o=t("./common/utils").assign,l=t("./common/utils").unescapeAll,u=t("./common/utils").escapeHtml,r={code_inline:function(t,e,n,i,o){var r=t[e],r=o.renderAttrs(r);return"<code"+(r?" "+r:"")+">"+u(t[e].content)+"</code>"},code_block:function(t,e,n,i,o){var r=t[e],r=o.renderAttrs(r);return"<pre"+(r?" "+r:"")+"><code>"+u(t[e].content)+"</code></pre>\n"},fence:function(t,e,n,i,o){var r=t[e],s=r.info?l(r.info).trim():"",a="";return s&&(a=s.split(/\s+/g)[0]),0===(t=n.highlight&&n.highlight(r.content,a)||u(r.content)).indexOf("<pre")?t+"\n":s?(e=r.attrIndex("class"),s=r.attrs?r.attrs.slice():[],e<0?s.push(["class",n.langPrefix+a]):s[e]+=" "+n.langPrefix+a,"<pre><code"+o.renderAttrs({attrs:s})+">"+t+"</code></pre>\n"):"<pre><code"+o.renderAttrs(r)+">"+t+"</code></pre>\n"},image:function(t,e,n,i,o){var r=t[e];return r.attrs[r.attrIndex("alt")][1]=o.renderInlineAsText(r.children,n,i),o.renderToken(t,e,n)},hardbreak:function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},softbreak:function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},text:function(t,e){return u(t[e].content)},html_block:function(t,e){return t[e].content},html_inline:function(t,e){return t[e].content}};i.prototype.renderAttrs=function(t){var e,n,i;if(!t.attrs)return"";for(i="",e=0,n=t.attrs.length;e<n;e++)i+=" "+u(t.attrs[e][0])+'="'+u(t.attrs[e][1])+'"';return i},i.prototype.renderToken=function(t,e,n){var i="",o=!1,r=t[e];return r.hidden?"":(r.block&&-1!==r.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(i+=" /"),r.block&&(o=!0,1===r.nesting&&e+1<t.length&&(("inline"===(e=t[e+1]).type||e.hidden||-1===e.nesting&&e.tag===r.tag)&&(o=!1))),i+(o?">\n":">"))},i.prototype.renderInline=function(t,e,n){for(var i,o="",r=this.rules,s=0,a=t.length;s<a;s++)o+=void 0!==r[i=t[s].type]?r[i](t,s,e,n,this):this.renderToken(t,s,e);return o},i.prototype.renderInlineAsText=function(t,e,n){for(var i="",o=0,r=t.length;o<r;o++)"text"===t[o].type?i+=t[o].content:"image"===t[o].type&&(i+=this.renderInlineAsText(t[o].children,e,n));return i},i.prototype.render=function(t,e,n){for(var i,o="",r=this.rules,s=0,a=t.length;s<a;s++)o+="inline"===(i=t[s].type)?this.renderInline(t[s].children,e,n):void 0!==r[i]?r[t[s].type](t,s,e,n,this):this.renderToken(t,s,e,n);return o},e.exports=i},{"./common/utils":4}],17:[function(t,e,n){"use strict";function i(){this.__rules__=[],this.__cache__=null}i.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},i.prototype.__compile__=function(){var n=this,e=[""];n.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),n.__cache__={},e.forEach(function(e){n.__cache__[e]=[],n.__rules__.forEach(function(t){t.enabled&&(e&&t.alt.indexOf(e)<0||n.__cache__[e].push(t.fn))})})},i.prototype.at=function(t,e,n){var i=this.__find__(t),n=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=n.alt||[],this.__cache__=null},i.prototype.before=function(t,e,n,i){var o=this.__find__(t),i=i||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},i.prototype.after=function(t,e,n,i){var o=this.__find__(t),i=i||{};if(-1===o)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},i.prototype.push=function(t,e,n){this.__rules__.push({name:t,enabled:!0,fn:e,alt:(n||{}).alt||[]}),this.__cache__=null},i.prototype.enable=function(t,n){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var e=this.__find__(t);if(e<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[e].enabled=!0,i.push(t)},this),this.__cache__=null,i},i.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(t,e)},i.prototype.disable=function(t,n){Array.isArray(t)||(t=[t]);var i=[];return t.forEach(function(t){var e=this.__find__(t);if(e<0){if(n)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[e].enabled=!1,i.push(t)},this),this.__cache__=null,i},i.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},e.exports=i},{}],18:[function(t,e,n){"use strict";var w=t("../common/utils").isSpace;e.exports=function(t,e,n,i){var o,r,s,a,l,u,c,h,p,d,f,m,g,_,v,y=t.bMarks[e]+t.tShift[e],b=t.eMarks[e];if(62!==t.src.charCodeAt(y++))return!1;if(i)return!0;for(32===t.src.charCodeAt(y)&&y++,u=t.blkIndent,t.blkIndent=0,h=p=t.sCount[e]+y-(t.bMarks[e]+t.tShift[e]),l=[t.bMarks[e]],t.bMarks[e]=y;y<b&&(d=t.src.charCodeAt(y),w(d));)9===d?p+=4-p%4:p++,y++;for(r=b<=y,a=[t.sCount[e]],t.sCount[e]=p-h,s=[t.tShift[e]],t.tShift[e]=y-t.bMarks[e],f=t.md.block.ruler.getRules("blockquote"),o=e+1;o<n&&!(t.sCount[o]<u)&&(y=t.bMarks[o]+t.tShift[o],!((b=t.eMarks[o])<=y));o++)if(62!==t.src.charCodeAt(y++)){if(r)break;for(v=!1,g=0,_=f.length;g<_;g++)if(f[g](t,o,n,!0)){v=!0;break}if(v)break;l.push(t.bMarks[o]),s.push(t.tShift[o]),a.push(t.sCount[o]),t.sCount[o]=-1}else{for(32===t.src.charCodeAt(y)&&y++,h=p=t.sCount[o]+y-(t.bMarks[o]+t.tShift[o]),l.push(t.bMarks[o]),t.bMarks[o]=y;y<b&&(d=t.src.charCodeAt(y),w(d));)9===d?p+=4-p%4:p++,y++;r=b<=y,a.push(t.sCount[o]),t.sCount[o]=p-h,s.push(t.tShift[o]),t.tShift[o]=y-t.bMarks[o]}for(c=t.parentType,t.parentType="blockquote",(m=t.push("blockquote_open","blockquote",1)).markup=">",m.map=i=[e,0],t.md.block.tokenize(t,e,o),(m=t.push("blockquote_close","blockquote",-1)).markup=">",t.parentType=c,i[1]=t.line,g=0;g<s.length;g++)t.bMarks[g+e]=l[g],t.tShift[g+e]=s[g],t.sCount[g+e]=a[g];return t.blkIndent=u,!0}},{"../common/utils":4}],19:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i,o,r,s=0;if(t.sCount[e]-t.blkIndent<4)return!1;for(o=i=e+1;i<n;)if(t.isEmpty(i)){if(2<=++s&&"list"===t.parentType)break;i++}else{if(s=0,!(4<=t.sCount[i]-t.blkIndent))break;o=++i}return t.line=o,(r=t.push("code_block","code",0)).content=t.getLines(e,o,4+t.blkIndent,!0),r.map=[e,t.line],!0}},{}],20:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){var o,r,s,a,l,u,c=!1,h=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(p<h+3)return!1;if(126!==(o=t.src.charCodeAt(h))&&96!==o)return!1;if(l=h,(r=(h=t.skipChars(h,o))-l)<3)return!1;if(u=t.src.slice(l,h),0<=(s=t.src.slice(h,p)).indexOf("`"))return!1;if(i)return!0;for(a=e;!(n<=++a||(h=l=t.bMarks[a]+t.tShift[a])<(p=t.eMarks[a])&&t.sCount[a]<t.blkIndent);)if(t.src.charCodeAt(h)===o&&!(4<=t.sCount[a]-t.blkIndent||((h=t.skipChars(h,o))-l<r||(h=t.skipSpaces(h))<p))){c=!0;break}return r=t.sCount[e],t.line=a+(c?1:0),(i=t.push("fence","code",0)).info=s,i.content=t.getLines(e+1,a,r,!0),i.markup=u,i.map=[e,t.line],!0}},{}],21:[function(t,e,n){"use strict";var l=t("../common/utils").isSpace;e.exports=function(t,e,n,i){var o,r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=t.src.charCodeAt(r);if(35!==a||s<=r)return!1;for(o=1,a=t.src.charCodeAt(++r);35===a&&r<s&&o<=6;)o++,a=t.src.charCodeAt(++r);return!(6<o||r<s&&32!==a||!i&&(s=t.skipSpacesBack(s,r),r<(i=t.skipCharsBack(s,35,r))&&l(t.src.charCodeAt(i-1))&&(s=i),t.line=e+1,(i=t.push("heading_open","h"+String(o),1)).markup="########".slice(0,o),i.map=[e,t.line],(i=t.push("inline","",0)).content=t.src.slice(r,s).trim(),i.map=[e,t.line],i.children=[],(i=t.push("heading_close","h"+String(o),-1)).markup="########".slice(0,o),0))}},{"../common/utils":4}],22:[function(t,e,n){"use strict";var u=t("../common/utils").isSpace;e.exports=function(t,e,n,i){var o,r,s=t.bMarks[e]+t.tShift[e],a=t.eMarks[e],l=t.src.charCodeAt(s++);if(42!==l&&45!==l&&95!==l)return!1;for(o=1;s<a;){if((r=t.src.charCodeAt(s++))!==l&&!u(r))return!1;r===l&&o++}return!(o<3||!i&&(t.line=e+1,(i=t.push("hr","hr",0)).map=[e,t.line],i.markup=Array(o+1).join(String.fromCharCode(l)),0))}},{"../common/utils":4}],23:[function(t,e,n){"use strict";var i=t("../common/html_blocks"),t=t("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,u=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+i.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(t.source+"\\s*$"),/^$/,!1]];e.exports=function(t,e,n,i){var o,r,s,a=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(a))return!1;for(s=t.src.slice(a,l),o=0;o<u.length&&!u[o][0].test(s);o++);if(o===u.length)return!1;if(i)return u[o][2];if(r=e+1,!u[o][1].test(s))for(;r<n&&!(t.sCount[r]<t.blkIndent);r++)if(a=t.bMarks[r]+t.tShift[r],l=t.eMarks[r],s=t.src.slice(a,l),u[o][1].test(s)){0!==s.length&&r++;break}return t.line=r,(i=t.push("html_block","",0)).map=[e,r],i.content=t.getLines(e,r,t.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var i,o,r,s,a,l,u,c,h,p=e+1,d=t.md.block.ruler.getRules("paragraph");p<n&&!t.isEmpty(p);p++)if(!(3<t.sCount[p]-t.blkIndent)){if(t.sCount[p]>=t.blkIndent&&((l=t.bMarks[p]+t.tShift[p])<(u=t.eMarks[p])&&((45===(h=t.src.charCodeAt(l))||61===h)&&(l=t.skipChars(l,h),u<=(l=t.skipSpaces(l)))))){c=61===h?1:2;break}if(!(t.sCount[p]<0)){for(o=!1,r=0,s=d.length;r<s;r++)if(d[r](t,p,n,!0)){o=!0;break}if(o)break}}return!!c&&(i=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,(a=t.push("heading_open","h"+String(c),1)).markup=String.fromCharCode(h),a.map=[e,t.line],(a=t.push("inline","",0)).content=i,a.map=[e,t.line-1],a.children=[],(a=t.push("heading_close","h"+String(c),-1)).markup=String.fromCharCode(h),!0)}},{}],25:[function(t,e,n){"use strict";function D(t,e){var n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],e=t.src.charCodeAt(n++);return 42!==e&&45!==e&&43!==e||n<i&&(t=t.src.charCodeAt(n),!A(t))?-1:n}function P(t,e){var n,i=t.bMarks[e]+t.tShift[e],o=i,r=t.eMarks[e];if(r<=o+1)return-1;if((n=t.src.charCodeAt(o++))<48||57<n)return-1;for(;;){if(r<=o)return-1;if(!(48<=(n=t.src.charCodeAt(o++))&&n<=57)){if(41===n||46===n)break;return-1}if(10<=o-i)return-1}return o<r&&(n=t.src.charCodeAt(o),!A(n))?-1:o}var A=t("../common/utils").isSpace;e.exports=function(t,e,n,i){var o,r,s,a,l,u,c,h,p,d,f,m,g,_,v,y,b,w,k,C,x,E,L,T=!0;if(0<=(h=P(t,e)))_=!0;else{if(!(0<=(h=D(t,e))))return!1;_=!1}if(g=t.src.charCodeAt(h-1),i)return!0;for(i=t.tokens.length,_?(b=t.bMarks[e]+t.tShift[e],b=Number(t.src.substr(b,h-b-1)),C=t.push("ordered_list_open","ol",1),1!==b&&(C.attrs=[["start",b]])):C=t.push("bullet_list_open","ul",1),C.map=b=[e,0],C.markup=String.fromCharCode(g),o=e,y=!1,k=t.md.block.ruler.getRules("list");o<n;){for(d=h,f=t.eMarks[o],u=r=t.sCount[o]+h-(t.bMarks[e]+t.tShift[e]);d<f&&(p=t.src.charCodeAt(d),A(p));)9===p?r+=4-r%4:r++,d++;if(s=u+(m=4<(m=f<=(v=d)?1:r-u)?1:m),(C=t.push("list_item_open","li",1)).markup=String.fromCharCode(g),C.map=w=[e,0],l=t.blkIndent,c=t.tight,a=t.tShift[e],u=t.sCount[e],m=t.parentType,t.blkIndent=s,t.tight=!0,t.parentType="list",t.tShift[e]=v-t.bMarks[e],t.sCount[e]=r,f<=v&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!y||(T=!1),y=1<t.line-e&&t.isEmpty(t.line-1),t.blkIndent=l,t.tShift[e]=a,t.sCount[e]=u,t.tight=c,t.parentType=m,(C=t.push("list_item_close","li",-1)).markup=String.fromCharCode(g),o=e=t.line,w[1]=o,t.bMarks[e],n<=o)break;if(t.isEmpty(o))break;if(t.sCount[o]<t.blkIndent)break;for(L=!1,x=0,E=k.length;x<E;x++)if(k[x](t,o,n,!0)){L=!0;break}if(L)break;if(_){if((h=P(t,o))<0)break}else if((h=D(t,o))<0)break;if(g!==t.src.charCodeAt(h-1))break}return(C=_?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),b[1]=o,t.line=o,T&&function(t,e){for(var n=t.level+2,i=e+2,o=t.tokens.length-2;i<o;i++)t.tokens[i].level===n&&"paragraph_open"===t.tokens[i].type&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}(t,i),!0}},{"../common/utils":4}],26:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n,i,o,r,s,a=e+1,l=t.md.block.ruler.getRules("paragraph"),u=t.lineMax;a<u&&!t.isEmpty(a);a++)if(!(3<t.sCount[a]-t.blkIndent||t.sCount[a]<0)){for(i=!1,o=0,r=l.length;o<r;o++)if(l[o](t,a,u,!0)){i=!0;break}if(i)break}return n=t.getLines(e,a,t.blkIndent,!1).trim(),t.line=a,(s=t.push("paragraph_open","p",1)).map=[e,t.line],(s=t.push("inline","",0)).content=n,s.map=[e,t.line],s.children=[],t.push("paragraph_close","p",-1),!0}},{}],27:[function(t,e,n){"use strict";var C=t("../helpers/parse_link_destination"),x=t("../helpers/parse_link_title"),E=t("../common/utils").normalizeReference,L=t("../common/utils").isSpace;e.exports=function(t,e,n,i){var o,r,s,a,l,u,c,h,p,d,f,m,g,_,v,y=0,b=t.bMarks[e]+t.tShift[e],w=t.eMarks[e],k=e+1;if(91!==t.src.charCodeAt(b))return!1;for(;++b<w;)if(93===t.src.charCodeAt(b)&&92!==t.src.charCodeAt(b-1)){if(b+1===w)return!1;if(58!==t.src.charCodeAt(b+1))return!1;break}for(a=t.lineMax,_=t.md.block.ruler.getRules("reference");k<a&&!t.isEmpty(k);k++)if(!(3<t.sCount[k]-t.blkIndent||t.sCount[k]<0)){for(g=!1,u=0,c=_.length;u<c;u++)if(_[u](t,k,a,!0)){g=!0;break}if(g)break}for(w=(m=t.getLines(e,k,t.blkIndent,!1).trim()).length,b=1;b<w;b++){if(91===(o=m.charCodeAt(b)))return!1;if(93===o){p=b;break}10===o?y++:92===o&&(++b<w&&10===m.charCodeAt(b)&&y++)}if(p<0||58!==m.charCodeAt(p+1))return!1;for(b=p+2;b<w;b++)if(10===(o=m.charCodeAt(b)))y++;else if(!L(o))break;if(!(d=C(m,b,w)).ok)return!1;if(l=t.md.normalizeLink(d.str),!t.md.validateLink(l))return!1;for(b=d.pos,s=y+=d.lines,f=r=b;b<w;b++)if(10===(o=m.charCodeAt(b)))y++;else if(!L(o))break;for(d=x(m,b,w),b<w&&f!==b&&d.ok?(v=d.str,b=d.pos,y+=d.lines):(v="",b=r,y=s);b<w&&(o=m.charCodeAt(b),L(o));)b++;if(b<w&&10!==m.charCodeAt(b)&&v)for(v="",b=r,y=s;b<w&&(o=m.charCodeAt(b),L(o));)b++;return!(b<w&&10!==m.charCodeAt(b)||!(h=E(m.slice(1,p)))||!i&&(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[h]&&(t.env.references[h]={title:v,href:l}),t.line=e+y+1,0))}},{"../common/utils":4,"../helpers/parse_link_destination":6,"../helpers/parse_link_title":8}],28:[function(t,e,n){"use strict";function i(t,e,n,i){var o,r,s,a,l,u,c,h;for(this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",h=!1,s=a=u=c=0,l=(r=this.src).length;a<l;a++){if(o=r.charCodeAt(a),!h){if(p(o)){u++,9===o?c+=4-c%4:c++;continue}h=!0}10!==o&&a!==l-1||(10!==o&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(u),this.sCount.push(c),h=!1,c=u=0,s=a+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.lineMax=this.bMarks.length-1}var o=t("../token"),p=t("../common/utils").isSpace;i.prototype.push=function(t,e,n){e=new o(t,e,n);return e.block=!0,n<0&&this.level--,e.level=this.level,0<n&&this.level++,this.tokens.push(e),e},i.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},i.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},i.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),p(e));t++);return t},i.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;e<t;)if(!p(this.src.charCodeAt(--t)))return t+1;return t},i.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},i.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;n<t;)if(e!==this.src.charCodeAt(--t))return t+1;return t},i.prototype.getLines=function(t,e,n,i){var o,r,s,a,l,u,c,h=t;if(e<=t)return"";for(u=new Array(e-t),o=0;h<e;h++,o++){for(r=0,c=a=this.bMarks[h],l=h+1<e||i?this.eMarks[h]+1:this.eMarks[h];a<l&&r<n;){if(s=this.src.charCodeAt(a),p(s))9===s?r+=4-r%4:r++;else{if(!(a-c<this.tShift[h]))break;r++}a++}u[o]=this.src.slice(a,l)}return u.join("")},i.prototype.Token=o,e.exports=i},{"../common/utils":4,"../token":51}],29:[function(t,e,n){"use strict";function d(t,e){var n=t.bMarks[e]+t.blkIndent,e=t.eMarks[e];return t.src.substr(n,e-n)}function f(t){for(var e=[],n=0,i=t.length,o=0,r=0,s=!1,a=0,l=t.charCodeAt(n);n<i;)96===l&&o%2==0?(s=!s,a=n):124!==l||o%2!=0||s?92===l?o++:o=0:(e.push(t.substring(r,n)),r=n+1),++n===i&&s&&(s=!1,n=a+1),l=t.charCodeAt(n);return e.push(t.substring(r)),e}e.exports=function(t,e,n,i){var o,r,s,a,l,u,c,h,p;if(n<e+2)return!1;if(t.sCount[s=e+1]<t.blkIndent)return!1;if((p=t.bMarks[s]+t.tShift[s])>=t.eMarks[s])return!1;if(124!==(p=t.src.charCodeAt(p))&&45!==p&&58!==p)return!1;if(o=d(t,e+1),!/^[-:| ]+$/.test(o))return!1;for(a=o.split("|"),c=[],r=0;r<a.length;r++){if(!(h=a[r].trim())){if(0===r||r===a.length-1)continue;return!1}if(!/^:?-+:?$/.test(h))return!1;58===h.charCodeAt(h.length-1)?c.push(58===h.charCodeAt(0)?"center":"right"):58===h.charCodeAt(0)?c.push("left"):c.push("")}if(-1===(o=d(t,e).trim()).indexOf("|"))return!1;if((l=(a=f(o.replace(/^\||\|$/g,""))).length)>c.length)return!1;if(i)return!0;for((u=t.push("table_open","table",1)).map=p=[e,0],(u=t.push("thead_open","thead",1)).map=[e,e+1],(u=t.push("tr_open","tr",1)).map=[e,e+1],r=0;r<a.length;r++)(u=t.push("th_open","th",1)).map=[e,e+1],c[r]&&(u.attrs=[["style","text-align:"+c[r]]]),(u=t.push("inline","",0)).content=a[r].trim(),u.map=[e,e+1],u.children=[],u=t.push("th_close","th",-1);for(u=t.push("tr_close","tr",-1),u=t.push("thead_close","thead",-1),(u=t.push("tbody_open","tbody",1)).map=i=[e+2,0],s=e+2;s<n&&!(t.sCount[s]<t.blkIndent)&&-1!==(o=d(t,s)).indexOf("|");s++){for(a=f(o.replace(/^\||\|\s*$/g,"")),u=t.push("tr_open","tr",1),r=0;r<l;r++)u=t.push("td_open","td",1),c[r]&&(u.attrs=[["style","text-align:"+c[r]]]),(u=t.push("inline","",0)).content=a[r]?a[r].trim():"",u.children=[],u=t.push("td_close","td",-1);u=t.push("tr_close","tr",-1)}return u=t.push("tbody_close","tbody",-1),u=t.push("table_close","table",-1),p[1]=i[1]=s,t.line=s,!0}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.tokens,i=0,o=n.length;i<o;i++)"inline"===(e=n[i]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},{}],32:[function(t,e,n){"use strict";var v=t("../common/utils").arrayReplaceAt;e.exports=function(t){var e,n,i,o,r,s,a,l,u,c,h,p,d,f,m,g,_=t.tokens;if(t.md.options.linkify)for(n=0,i=_.length;n<i;n++)if("inline"===_[n].type&&t.md.linkify.pretest(_[n].content))for(p=0,e=(o=_[n].children).length-1;0<=e;e--)if("link_close"!==(s=o[e]).type){if("html_inline"===s.type&&(/^<a[>\s]/i.test(s.content)&&0<p&&p--,/^<\/a\s*>/i.test(s.content)&&p++),!(0<p)&&"text"===s.type&&t.md.linkify.test(s.content)){for(u=s.content,g=t.md.linkify.match(u),a=[],h=s.level,l=c=0;l<g.length;l++)d=g[l].url,f=t.md.normalizeLink(d),t.md.validateLink(f)&&(m=g[l].text,m=g[l].schema?"mailto:"!==g[l].schema||/^mailto:/i.test(m)?t.md.normalizeLinkText(m):t.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,""),c<(d=g[l].index)&&((r=new t.Token("text","",0)).content=u.slice(c,d),r.level=h,a.push(r)),(r=new t.Token("link_open","a",1)).attrs=[["href",f]],r.level=h++,r.markup="linkify",r.info="auto",a.push(r),(r=new t.Token("text","",0)).content=m,r.level=h,a.push(r),(r=new t.Token("link_close","a",-1)).level=--h,r.markup="linkify",r.info="auto",a.push(r),c=g[l].lastIndex);c<u.length&&((r=new t.Token("text","",0)).content=u.slice(c),r.level=h,a.push(r)),_[n].children=o=v(o,e,a)}}else for(e--;o[e].level!==s.level&&"link_open"!==o[e].type;)e--}},{"../common/utils":4}],33:[function(t,e,n){"use strict";var i=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(t){var e=t.src.replace(i,"\n");e=e.replace(o,""),t.src=e}},{}],34:[function(t,e,n){"use strict";function i(t,e){return a[e.toLowerCase()]}var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,s=/\((c|tm|r|p)\)/gi,a={c:"",r:"",p:"",tm:""};e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;0<=e;e--)"inline"===t.tokens[e].type&&(r.test(t.tokens[e].content)&&function(t){for(var e,n=t.length-1;0<=n;n--)"text"===(e=t[n]).type&&(e.content=e.content.replace(s,i))}(t.tokens[e].children),o.test(t.tokens[e].content)&&function(t){for(var e,n=t.length-1;0<=n;n--)"text"===(e=t[n]).type&&o.test(e.content)&&(e.content=e.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2"))}(t.tokens[e].children))}},{}],35:[function(t,e,n){"use strict";function C(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}var x=t("../common/utils").isWhiteSpace,E=t("../common/utils").isPunctChar,L=t("../common/utils").isMdAsciiPunct,i=/['"]/,T=/['"]/g;e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;0<=e;e--)"inline"===t.tokens[e].type&&i.test(t.tokens[e].content)&&function(t,e){for(var n,i,o,r,s,a,l,u,c,h,p,d,f,m,g,_,v,y,b,w=[],k=0;k<t.length;k++){for(n=t[k],a=t[k].level,_=w.length-1;0<=_&&!(w[_].level<=a);_--);if(w.length=_+1,"text"===n.type){r=0,s=(i=n.content).length;t:for(;r<s&&(T.lastIndex=r,o=T.exec(i));){if(m=g=!0,r=o.index+1,v="'"===o[0],u=32,0<=o.index-1)u=i.charCodeAt(o.index-1);else for(_=k-1;0<=_;_--)if("text"===t[_].type){u=t[_].content.charCodeAt(t[_].content.length-1);break}if(c=32,r<s)c=i.charCodeAt(r);else for(_=k+1;_<t.length;_++)if("text"===t[_].type){c=t[_].content.charCodeAt(0);break}if(h=L(u)||E(String.fromCharCode(u)),p=L(c)||E(String.fromCharCode(c)),d=x(u),(f=x(c))?m=!1:p&&(d||h||(m=!1)),d?g=!1:h&&(f||p||(g=!1)),34===c&&'"'===o[0]&&48<=u&&u<=57&&(g=m=!1),m&&g&&(m=!1,g=p),m||g){if(g)for(_=w.length-1;0<=_&&(l=w[_],!(w[_].level<a));_--)if(l.single===v&&w[_].level===a){l=w[_],b=v?(y=e.md.options.quotes[2],e.md.options.quotes[3]):(y=e.md.options.quotes[0],e.md.options.quotes[1]),n.content=C(n.content,o.index,b),t[l.token].content=C(t[l.token].content,l.pos,y),r+=b.length-1,l.token===k&&(r+=y.length-1),s=(i=n.content).length,w.length=_;continue t}m?w.push({token:k,pos:o.index,single:v,level:a}):g&&v&&(n.content=C(n.content,o.index,""))}else v&&(n.content=C(n.content,o.index,""))}}}}(t.tokens[e].children,t)}},{"../common/utils":4}],36:[function(t,e,n){"use strict";function i(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}t=t("../token");i.prototype.Token=t,e.exports=i},{"../token":51}],37:[function(t,e,n){"use strict";var a=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,l=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(t,e){var n,i,o,r,s=t.pos;return 60===t.src.charCodeAt(s)&&!((n=t.src.slice(s)).indexOf(">")<0||(l.test(n)?(i=(s=n.match(l))[0].slice(1,-1),o=t.md.normalizeLink(i),!t.md.validateLink(o)||(e||((r=t.push("link_open","a",1)).attrs=[["href",o]],r.markup="autolink",r.info="auto",(r=t.push("text","",0)).content=t.md.normalizeLinkText(i),(r=t.push("link_close","a",-1)).markup="autolink",r.info="auto"),t.pos+=s[0].length,0)):!a.test(n)||(i=(n=n.match(a))[0].slice(1,-1),o=t.md.normalizeLink("mailto:"+i),!t.md.validateLink(o)||(e||((r=t.push("link_open","a",1)).attrs=[["href",o]],r.markup="autolink",r.info="auto",(r=t.push("text","",0)).content=t.md.normalizeLinkText(i),(r=t.push("link_close","a",-1)).markup="autolink",r.info="auto"),t.pos+=n[0].length,0))))}},{}],38:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o,r,s,a,l=t.pos;if(96!==t.src.charCodeAt(l))return!1;for(n=l,l++,i=t.posMax;l<i&&96===t.src.charCodeAt(l);)l++;for(o=t.src.slice(n,l),s=l;-1!==(r=t.src.indexOf("`",s));){for(s=r+1;s<i&&96===t.src.charCodeAt(s);)s++;if(s-r===o.length)return e||((a=t.push("code_inline","code",0)).markup=o,a.content=t.src.slice(l,r).replace(/[ \n]+/g," ").trim()),t.pos=s,!0}return e||(t.pending+=o),t.pos+=o.length,!0}},{}],39:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n,i,o=t.delimiters,r=t.delimiters.length,s=0;s<r;s++)if((n=o[s]).close)for(e=s-n.jump-1;0<=e;){if((i=o[e]).open&&i.marker===n.marker&&i.end<0&&i.level===n.level){n.jump=s-e,n.open=!1,i.end=s,i.jump=0;break}e-=i.jump+1}}},{}],40:[function(t,e,n){"use strict";e.exports.tokenize=function(t,e){var n,i,o=t.pos,r=t.src.charCodeAt(o);if(e)return!1;if(95!==r&&42!==r)return!1;for(i=t.scanDelims(t.pos,42===r),n=0;n<i.length;n++)t.push("text","",0).content=String.fromCharCode(r),t.delimiters.push({marker:r,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},e.exports.postProcess=function(t){for(var e,n,i,o,r,s=t.delimiters,a=t.delimiters.length,l=0;l<a;l++)95!==(e=s[l]).marker&&42!==e.marker||-1!==e.end&&(n=s[e.end],r=l+1<a&&s[l+1].end===e.end-1&&s[l+1].token===e.token+1&&s[e.end-1].token===n.token-1&&s[l+1].marker===e.marker,o=String.fromCharCode(e.marker),(i=t.tokens[e.token]).type=r?"strong_open":"em_open",i.tag=r?"strong":"em",i.nesting=1,i.markup=r?o+o:o,i.content="",(i=t.tokens[n.token]).type=r?"strong_close":"em_close",i.tag=r?"strong":"em",i.nesting=-1,i.markup=r?o+o:o,i.content="",r&&(t.tokens[s[l+1].token].content="",t.tokens[s[e.end-1].token].content="",l++))}},{}],41:[function(t,e,n){"use strict";var r=t("../common/entities"),s=t("../common/utils").has,a=t("../common/utils").isValidEntityCode,l=t("../common/utils").fromCodePoint,u=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(t,e){var n,i=t.pos,o=t.posMax;if(38!==t.src.charCodeAt(i))return!1;if(i+1<o)if(35===t.src.charCodeAt(i+1)){if(n=t.src.slice(i).match(u))return e||(o="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),t.pending+=l(a(o)?o:65533)),t.pos+=n[0].length,!0}else if((n=t.src.slice(i).match(c))&&s(r,n[1]))return e||(t.pending+=r[n[1]]),t.pos+=n[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(t,e,n){"use strict";for(var r=t("../common/utils").isSpace,s=[],i=0;i<256;i++)s.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){s[t.charCodeAt(0)]=1}),e.exports=function(t,e){var n,i=t.pos,o=t.posMax;if(92!==t.src.charCodeAt(i))return!1;if(++i<o){if((n=t.src.charCodeAt(i))<256&&0!==s[n])return e||(t.pending+=t.src[i]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),i++;i<o&&(n=t.src.charCodeAt(i),r(n));)i++;return t.pos=i,!0}}return e||(t.pending+="\\"),t.pos++,!0}},{"../common/utils":4}],43:[function(t,e,n){"use strict";var r=t("../common/html_re").HTML_TAG_RE;e.exports=function(t,e){var n,i,o=t.pos;return!(!t.md.options.html||(i=t.posMax,60!==t.src.charCodeAt(o)||i<=o+2||(33!==(i=t.src.charCodeAt(o+1))&&63!==i&&47!==i&&(i=i,!(97<=(i|=32)&&i<=122))||!(n=t.src.slice(o).match(r))||(e||(t.push("html_inline","",0).content=t.src.slice(o,o+n[0].length)),t.pos+=n[0].length,0))))}},{"../common/html_re":3}],44:[function(t,e,n){"use strict";var d=t("../helpers/parse_link_label"),f=t("../helpers/parse_link_destination"),m=t("../helpers/parse_link_title"),g=t("../common/utils").normalizeReference,_=t("../common/utils").isSpace;e.exports=function(t,e){var n,i,o,r,s,a,l,u,c="",h=t.pos,p=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(l=t.pos+2,(a=d(t,t.pos+1,!1))<0)return!1;if((i=a+1)<p&&40===t.src.charCodeAt(i)){for(i++;i<p&&(n=t.src.charCodeAt(i),_(n)||10===n);i++);if(p<=i)return!1;for(u=i,(r=f(t.src,i,t.posMax)).ok&&(c=t.md.normalizeLink(r.str),t.md.validateLink(c)?i=r.pos:c=""),u=i;i<p&&(n=t.src.charCodeAt(i),_(n)||10===n);i++);if(r=m(t.src,i,t.posMax),i<p&&u!==i&&r.ok)for(s=r.str,i=r.pos;i<p&&(n=t.src.charCodeAt(i),_(n)||10===n);i++);else s="";if(p<=i||41!==t.src.charCodeAt(i))return t.pos=h,!1;i++}else{if(void 0===t.env.references)return!1;if(i<p&&91===t.src.charCodeAt(i)?(u=i+1,0<=(i=d(t,i))?o=t.src.slice(u,i++):i=a+1):i=a+1,o=o||t.src.slice(l,a),!(o=t.env.references[g(o)]))return t.pos=h,!1;c=o.href,s=o.title}return e||(e=t.src.slice(l,a),t.md.inline.parse(e,t.md,t.env,l=[]),(a=t.push("image","img",0)).attrs=c=[["src",c],["alt",""]],a.children=l,a.content=e,s&&c.push(["title",s])),t.pos=i,t.posMax=p,!0}},{"../common/utils":4,"../helpers/parse_link_destination":6,"../helpers/parse_link_label":7,"../helpers/parse_link_title":8}],45:[function(t,e,n){"use strict";var d=t("../helpers/parse_link_label"),f=t("../helpers/parse_link_destination"),m=t("../helpers/parse_link_title"),g=t("../common/utils").normalizeReference,_=t("../common/utils").isSpace;e.exports=function(t,e){var n,i,o,r,s,a,l,u="",c=t.pos,h=t.posMax,p=t.pos;if(91!==t.src.charCodeAt(t.pos))return!1;if(o=t.pos+1,(i=d(t,t.pos,!0))<0)return!1;if((r=i+1)<h&&40===t.src.charCodeAt(r)){for(r++;r<h&&(n=t.src.charCodeAt(r),_(n)||10===n);r++);if(h<=r)return!1;for(p=r,(s=f(t.src,r,t.posMax)).ok&&(u=t.md.normalizeLink(s.str),t.md.validateLink(u)?r=s.pos:u=""),p=r;r<h&&(n=t.src.charCodeAt(r),_(n)||10===n);r++);if(s=m(t.src,r,t.posMax),r<h&&p!==r&&s.ok)for(l=s.str,r=s.pos;r<h&&(n=t.src.charCodeAt(r),_(n)||10===n);r++);else l="";if(h<=r||41!==t.src.charCodeAt(r))return t.pos=c,!1;r++}else{if(void 0===t.env.references)return!1;if(r<h&&91===t.src.charCodeAt(r)?(p=r+1,0<=(r=d(t,r))?a=t.src.slice(p,r++):r=i+1):r=i+1,a=a||t.src.slice(o,i),!(a=t.env.references[g(a)]))return t.pos=c,!1;u=a.href,l=a.title}return e||(t.pos=o,t.posMax=i,t.push("link_open","a",1).attrs=u=[["href",u]],l&&u.push(["title",l]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=r,t.posMax=h,!0}},{"../common/utils":4,"../helpers/parse_link_destination":6,"../helpers/parse_link_label":7,"../helpers/parse_link_title":8}],46:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,o=t.pos;if(10!==t.src.charCodeAt(o))return!1;for(n=t.pending.length-1,i=t.posMax,e||(0<=n&&32===t.pending.charCodeAt(n)?1<=n&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),o++;o<i&&32===t.src.charCodeAt(o);)o++;return t.pos=o,!0}},{}],47:[function(t,e,n){"use strict";function i(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var o=t("../token"),p=t("../common/utils").isWhiteSpace,d=t("../common/utils").isPunctChar,f=t("../common/utils").isMdAsciiPunct;i.prototype.pushPending=function(){var t=new o("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},i.prototype.push=function(t,e,n){this.pending&&this.pushPending();e=new o(t,e,n);return n<0&&this.level--,e.level=this.level,0<n&&this.level++,this.pendingLevel=this.level,this.tokens.push(e),e},i.prototype.scanDelims=function(t,e){for(var n,i,o,r,s=t,a=!0,l=!0,u=this.posMax,c=this.src.charCodeAt(t),h=0<t?this.src.charCodeAt(t-1):32;s<u&&this.src.charCodeAt(s)===c;)s++;return n=s-t,r=s<u?this.src.charCodeAt(s):32,o=f(h)||d(String.fromCharCode(h)),t=f(r)||d(String.fromCharCode(r)),h=p(h),(r=p(r))?a=!1:t&&(h||o||(a=!1)),h?l=!1:o&&(r||t||(l=!1)),t=e?(i=a,l):(i=a&&(!l||o),l&&(!a||t)),{can_open:i,can_close:t,length:n}},i.prototype.Token=o,e.exports=i},{"../common/utils":4,"../token":51}],48:[function(t,e,n){"use strict";e.exports.tokenize=function(t,e){var n,i,o,r,s=t.pos,a=t.src.charCodeAt(s);if(e)return!1;if(126!==a)return!1;if(o=(i=t.scanDelims(t.pos,!0)).length,r=String.fromCharCode(a),o<2)return!1;for(o%2&&(t.push("text","",0).content=r,o--),n=0;n<o;n+=2)t.push("text","",0).content=r+r,t.delimiters.push({marker:a,jump:n,token:t.tokens.length-1,level:t.level,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},e.exports.postProcess=function(t){for(var e,n,i,o,r=[],s=t.delimiters,a=t.delimiters.length,l=0;l<a;l++)126===(n=s[l]).marker&&-1!==n.end&&(i=s[n.end],(o=t.tokens[n.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=t.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&r.push(i.token-1));for(;r.length;){for(e=(l=r.pop())+1;e<t.tokens.length&&"s_close"===t.tokens[e].type;)e++;l!==--e&&(o=t.tokens[e],t.tokens[e]=t.tokens[l],t.tokens[l]=o)}}},{}],49:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!function(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return 1;default:return}}(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},{}],50:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=0,i=t.tokens,o=t.tokens.length,r=e=0;r<o;r++)n+=i[r].nesting,i[r].level=n,"text"===i[r].type&&r+1<o&&"text"===i[r+1].type?i[r+1].content=i[r].content+i[r+1].content:(r!==e&&(i[e]=i[r]),e++);r!==e&&(i.length=e)}},{}],51:[function(t,e,n){"use strict";function i(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}i.prototype.attrIndex=function(t){var e,n,i;if(!this.attrs)return-1;for(n=0,i=(e=this.attrs).length;n<i;n++)if(e[n][0]===t)return n;return-1},i.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},i.prototype.attrSet=function(t,e){var n=this.attrIndex(t),e=[t,e];n<0?this.attrPush(e):this.attrs[n]=e},i.prototype.attrGet=function(t){var e=this.attrIndex(t),t=null;return t=0<=e?this.attrs[e][1]:t},i.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},e.exports=i},{}],52:[function(t,D,P){!function(T){!function(t){function g(t){throw new RangeError(m[t])}function o(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function e(t,e){var n=t.split("@"),i="";return 1<n.length&&(i=n[0]+"@",t=n[1]),i+o((t=t.replace(d,".")).split("."),e).join(".")}function _(t){for(var e,n,i=[],o=0,r=t.length;o<r;)55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<r?56320==(64512&(n=t.charCodeAt(o++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--):i.push(e);return i}function f(t){return o(t,function(t){var e="";return 65535<t&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+E(t)}).join("")}function v(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function y(t,e,n){var i=0;for(t=n?x(t/c):t>>1,t+=x(t/e);C*k>>1<t;i+=w)t=x(t/C);return x(i+(C+1)*t/(t+u))}function n(t){var e,n,i,o,r,s,a,l=[],u=t.length,c=0,h=128,p=72,d=t.lastIndexOf("-");for(d<0&&(d=0),n=0;n<d;++n)128<=t.charCodeAt(n)&&g("not-basic"),l.push(t.charCodeAt(n));for(i=0<d?d+1:0;i<u;){for(o=c,r=1,s=w;u<=i&&g("invalid-input"),a=t.charCodeAt(i++),(w<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:w)||a>x((b-c)/r))&&g("overflow"),c+=a*r,!(a<(a=s<=p?1:p+k<=s?k:s-p));s+=w)r>x(b/(a=w-a))&&g("overflow"),r*=a;p=y(c-o,e=l.length+1,0==o),x(c/e)>b-h&&g("overflow"),h+=x(c/e),c%=e,l.splice(c++,0,h)}return f(l)}function i(t){for(var e,n,i,o,r,s,a,l,u,c,h=[],p=(t=_(t)).length,d=128,f=72,m=e=0;m<p;++m)(a=t[m])<128&&h.push(E(a));for(n=i=h.length,i&&h.push("-");n<p;){for(o=b,m=0;m<p;++m)d<=(a=t[m])&&a<o&&(o=a);for(o-d>x((b-e)/(l=n+1))&&g("overflow"),e+=(o-d)*l,d=o,m=0;m<p;++m)if((a=t[m])<d&&++e>b&&g("overflow"),a==d){for(r=e,s=w;!(r<(u=s<=f?1:f+k<=s?k:s-f));s+=w)h.push(E(v(u+(c=r-u)%(u=w-u),0))),r=x(c/u);h.push(E(v(r,0))),f=y(e,l,n==i),e=0,++n}++e,++d}return h.join("")}var r="object"==typeof P&&P&&!P.nodeType&&P,s="object"==typeof D&&D&&!D.nodeType&&D,a="object"==typeof T&&T;a.global!==a&&a.window!==a&&a.self!==a||(t=a);var l,b=2147483647,w=36,k=26,u=38,c=700,h=/^xn--/,p=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=w-1,x=Math.floor,E=String.fromCharCode,L={version:"1.4.1",ucs2:{decode:_,encode:f},decode:n,encode:i,toASCII:function(t){return e(t,function(t){return p.test(t)?"xn--"+i(t):t})},toUnicode:function(t){return e(t,function(t){return h.test(t)?n(t.slice(4).toLowerCase()):t})}};if(0,r&&s)if(D.exports==r)s.exports=L;else for(l in L)L.hasOwnProperty(l)&&(r[l]=L[l]);else t.punycode=L}(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(t,e,n){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:" ",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:" ",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},{}],54:[function(i,t,e){"use strict";function o(n){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(t){n[t]=e[t]})}),n}function a(t){return Object.prototype.toString.call(t)}function l(t){return"[object Function]"===a(t)}function u(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(){return function(t,e){e.normalize(t)}}function r(o){function t(t){return t.replace("%TLDS%",e.src_tlds)}function r(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}var e=o.re=i("./lib/re")(o.__opts__),n=o.__tlds__.slice();o.onCompile(),o.__tlds_replaced__||n.push(f),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(t(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(t(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(t(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(t(e.tpl_host_fuzzy_test),"i");var s=[];o.__compiled__={},Object.keys(o.__schemas__).forEach(function(t){var n,e=o.__schemas__[t];if(null!==e){var i={validate:null,link:null};return o.__compiled__[t]=i,"[object Object]"===a(e)?("[object RegExp]"===a(e.validate)?i.validate=(n=e.validate,function(t,e){e=t.slice(e);return n.test(e)?e.match(n)[0].length:0}):l(e.validate)?i.validate=e.validate:r(t,e),void(l(e.normalize)?i.normalize=e.normalize:e.normalize?r(t,e):i.normalize=c())):"[object String]"===a(e)?void s.push(t):void r(t,e)}}),s.forEach(function(t){o.__compiled__[o.__schemas__[t]]&&(o.__compiled__[t].validate=o.__compiled__[o.__schemas__[t]].validate,o.__compiled__[t].normalize=o.__compiled__[o.__schemas__[t]].normalize)}),o.__compiled__[""]={validate:null,normalize:c()};n=Object.keys(o.__compiled__).filter(function(t){return 0<t.length&&o.__compiled__[t]}).map(u).join("|");o.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+n+")","i"),o.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+n+")","ig"),o.re.pretest=RegExp("("+o.re.schema_test.source+")|("+o.re.host_fuzzy_test.source+")|@","i"),(n=o).__index__=-1,n.__text_cache__=""}function n(t,e){var n=t.__index__,i=t.__last_index__,o=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=o,this.text=o,this.url=o}function s(t,e){e=new n(t,e);return t.__compiled__[e.schema].normalize(e,t),e}function h(t,e){return this instanceof h?(e||(n=t,Object.keys(n||{}).reduce(function(t,e){return t||p.hasOwnProperty(e)},!1)&&(e=t,t={})),this.__opts__=o({},p,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=o({},d,t),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},void r(this)):new h(t,e);var n}var p={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},d={"http:":{validate:function(t,e,n){e=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(e)?e.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),!n.re.no_http.test(i)||3<=e&&":"===t[e-3]||3<=e&&"/"===t[e-3]?0:i.match(n.re.no_http)[0].length}},"mailto:":{validate:function(t,e,n){e=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(e)?e.match(n.re.mailto)[0].length:0}}},f="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");h.prototype.add=function(t,e){return this.__schemas__[t]=e,r(this),this},h.prototype.set=function(t){return this.__opts__=o(this.__opts__,t),this},h.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,i,o,r,s,a;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(i=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(0<=(a=t.search(this.re.host_fuzzy_test))&&(this.__index__<0||a<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(0<=t.indexOf("@")&&null!==(r=t.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,r=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),0<=this.__index__},h.prototype.pretest=function(t){return this.re.pretest.test(t)},h.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},h.prototype.match=function(t){var e=0,n=[];0<=this.__index__&&this.__text_cache__===t&&(n.push(s(this,e)),e=this.__last_index__);for(var i=e?t.slice(e):t;this.test(i);)n.push(s(this,e)),i=i.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,n){return t!==n[e-1]}).reverse():(this.__tlds__=t.slice(),this.__tlds_replaced__=!0),r(this),this},h.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},h.prototype.onCompile=function(){},t.exports=h},{"./lib/re":55}],55:[function(n,t,e){"use strict";t.exports=function(t){var e={};return e.src_Any=n("uc.micro/properties/Any/regex").source,e.src_Cc=n("uc.micro/categories/Cc/regex").source,e.src_Z=n("uc.micro/categories/Z/regex").source,e.src_P=n("uc.micro/categories/P/regex").source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|"),e.src_pseudo_letter="(?:(?!>|<|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|>|<|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[()[\\]{}.,\"'?!\\-<>]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-(?!-)|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain_root+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|<|>|\\(|"+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],56:[function(t,e,n){"use strict";function i(t,e){var u=function(t){var e,n,i=o[t];if(i)return i;for(i=o[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(e="string"!=typeof e?i.defaultChars:e);return t.replace(/(%[a-f0-9]{2})+/gi,function(t){for(var e,n,i,o,r,s="",a=0,l=t.length;a<l;a+=3)(e=parseInt(t.slice(a+1,a+3),16))<128?s+=u[e]:192==(224&e)&&a+3<l&&128==(192&(n=parseInt(t.slice(a+4,a+6),16)))?(s+=(r=e<<6&1984|63&n)<128?"":String.fromCharCode(r),a+=3):224==(240&e)&&a+6<l&&(n=parseInt(t.slice(a+4,a+6),16),i=parseInt(t.slice(a+7,a+9),16),128==(192&n)&&128==(192&i))?(s+=(r=e<<12&61440|n<<6&4032|63&i)<2048||55296<=r&&r<=57343?"":String.fromCharCode(r),a+=6):240==(248&e)&&a+9<l&&(n=parseInt(t.slice(a+4,a+6),16),i=parseInt(t.slice(a+7,a+9),16),o=parseInt(t.slice(a+10,a+12),16),128==(192&n)&&128==(192&i)&&128==(192&o))?((r=e<<18&1835008|n<<12&258048|i<<6&4032|63&o)<65536||1114111<r?s+="":(r-=65536,s+=String.fromCharCode(55296+(r>>10),56320+(1023&r))),a+=9):s+="";return s})}var o={};i.defaultChars=";/?:@&=+$,#",i.componentChars="",e.exports=i},{}],57:[function(t,e,n){"use strict";function l(t,e,n){var i,o,r,s,a="";for("string"!=typeof e&&(n=e,e=l.defaultChars),void 0===n&&(n=!0),s=function(t){var e,n,i=u[t];if(i)return i;for(i=u[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)i[t.charCodeAt(e)]=t[e];return i}(e),i=0,o=t.length;i<o;i++)if(r=t.charCodeAt(i),n&&37===r&&i+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(i+1,i+3)))a+=t.slice(i,i+3),i+=2;else if(r<128)a+=s[r];else if(55296<=r&&r<=57343){if(55296<=r&&r<=56319&&i+1<o&&(56320<=(r=t.charCodeAt(i+1))&&r<=57343)){a+=encodeURIComponent(t[i]+t[i+1]),i++;continue}a+="%EF%BF%BD"}else a+=encodeURIComponent(t[i]);return a}var u={};l.defaultChars=";/?:@&=+$,-_.!~*'()#",l.componentChars="-_.!~*'()",e.exports=l},{}],58:[function(t,e,n){"use strict";e.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",e+=t.hostname&&-1!==t.hostname.indexOf(":")?"["+t.hostname+"]":t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",(e+=t.search||"")+(t.hash||"")}},{}],59:[function(t,e,n){"use strict";e.exports.encode=t("./encode"),e.exports.decode=t("./decode"),e.exports.format=t("./format"),e.exports.parse=t("./parse")},{"./decode":56,"./encode":57,"./format":58,"./parse":60}],60:[function(t,e,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var y=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,b=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),r=["'"].concat(r),w=["%","/","?",";","#"].concat(r),k=["/","?","#"],C=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};i.prototype.parse=function(t,e){var n,i,o;if(l=(l=t).trim(),!e&&1===t.split("#").length){var r=b.exec(l);if(r)return this.pathname=r[1],r[2]&&(this.search=r[2]),this}r=y.exec(l);if(r&&(n=(r=r[0]).toLowerCase(),this.protocol=r,l=l.substr(r.length)),(e||r||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(o="//"===l.substr(0,2))||r&&E[r]||(l=l.substr(2),this.slashes=!0)),!E[r]&&(o||r&&!L[r])){var s=-1;for(c=0;c<k.length;c++)-1!==(i=l.indexOf(k[c]))&&(-1===s||i<s)&&(s=i);for(-1!==(r=-1===s?l.lastIndexOf("@"):l.lastIndexOf("@",s))&&(a=l.slice(0,r),l=l.slice(r+1),this.auth=a),s=-1,c=0;c<w.length;c++)-1!==(i=l.indexOf(w[c]))&&(-1===s||i<s)&&(s=i);":"===l[(s=-1===s?l.length:s)-1]&&s--;var a=l.slice(0,s),l=l.slice(s);this.parseHost(a),this.hostname=this.hostname||"";a="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!a)for(var u=this.hostname.split(/\./),c=0,h=u.length;c<h;c++){var p=u[c];if(p&&!p.match(C)){for(var d="",f=0,m=p.length;f<m;f++)d+=127<p.charCodeAt(f)?"x":p[f];if(!d.match(C)){var g=u.slice(0,c),_=u.slice(c+1),v=p.match(x);v&&(g.push(v[1]),_.unshift(v[2])),_.length&&(l=_.join(".")+l),this.hostname=g.join(".");break}}}255<this.hostname.length&&(this.hostname=""),a&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}a=l.indexOf("#");-1!==a&&(this.hash=l.substr(a),l=l.slice(0,a));a=l.indexOf("?");return-1!==a&&(this.search=l.substr(a),l=l.slice(0,a)),l&&(this.pathname=l),L[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},i.prototype.parseHost=function(t){var e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.exports=function(t,e){if(t&&t instanceof i)return t;var n=new i;return n.parse(t,e),n}},{}],61:[function(t,e,n){e.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(t,e,n){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(t,e,n){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/},{}],64:[function(t,e,n){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(t,e,n){e.exports.Any=t("./properties/Any/regex"),e.exports.Cc=t("./categories/Cc/regex"),e.exports.Cf=t("./categories/Cf/regex"),e.exports.P=t("./categories/P/regex"),e.exports.Z=t("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(t,e,n){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(t,e,n){"use strict";e.exports=t("./lib/")},{"./lib/":9}]},{},[67])(67)}),qt("Core/KnockoutMarkdownBinding",["markdown-it-sanitizer","markdown-it"],function(t,e){"use strict";var s=/<html(.|\s)*>(.|\s)*<\/html>/im,a=new e({html:!0,linkify:!0});return a.use(t,{imageClass:"",removeUnbalanced:!1,removeUnknown:!1}),{register:function(r){r.bindingHandlers.markdown={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){for(;t.firstChild;)r.removeNode(t.firstChild);var e=r.unwrap(e()),e=s.test(e)?e:a.render(e),n=r.utils.parseHtmlFragment(e,t);t.className=t.className+" markdown";for(var i=0;i<n.length;++i){var o=n[i];!function t(e){e instanceof HTMLAnchorElement&&(e.target="_blank");if(e.childNodes&&0<e.childNodes.length)for(var n=0;n<e.childNodes.length;++n)t(e.childNodes[n])}(o),t.appendChild(o)}}}}}}),function(o,a,u){"use strict";function r(t,e,n){return setTimeout(i(t,n),e)}function n(t,e,n){return Array.isArray(t)&&(s(t,n[e],n),1)}function s(t,e,n){if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==u)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function t(n,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",t=o.console&&(o.console.warn||o.console.log);return t&&t.call(o.console,i,e),n.apply(this,arguments)}}function e(t,e,n){var i=e.prototype,e=t.prototype=Object.create(i);e.constructor=t,e._super=i,n&&nt(e,n)}function i(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==K?t.apply(e&&e[0]||u,e):t}function c(t,e){return t===u?e:t}function h(e,t,n){s(m(t),function(t){e.addEventListener(t,n,!1)})}function p(e,t,n){s(m(t),function(t){e.removeEventListener(t,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function f(t,e){return-1<t.indexOf(e)}function m(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function v(t,n,e){for(var i=[],o=[],r=0;r<t.length;){var s=n?t[r][n]:t[r];g(o,s)<0&&i.push(t[r]),o[r]=s,r++}return i=e?n?i.sort(function(t,e){return t[n]>e[n]}):i.sort():i}function y(t,e){for(var n,i=e[0].toUpperCase()+e.slice(1),o=0;o<Y.length;){if((n=(n=Y[o])?n+i:e)in t)return n;o++}return u}function b(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||o}function w(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function k(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&pt&&i-o==0,o=e&(dt|ft)&&i-o==0;n.isFirst=!!r,n.isFinal=!!o,r&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=C(e)),1<o&&!n.firstMultiple?n.firstMultiple=C(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,a=(s||r).center,o=e.center=x(i);e.timeStamp=et(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=D(a,o),e.distance=T(a,o),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==pt&&r.eventType!==dt||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=L(e.deltaX,e.deltaY);o=E(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=o.x,e.overallVelocityY=o.y,e.overallVelocity=tt(o.x)>tt(o.y)?o.x:o.y,e.scale=s?function(t,e){return T(e[0],e[1],xt)/T(t[0],t[1],xt)}(s.pointers,i):1,e.rotation=s?function(t,e){return D(e[1],e[0],xt)+D(t[1],t[0],xt)}(s.pointers,i):0,e.maxPointers=!n.prevInput||e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers,function(t,e){var n,i,o=t.lastInterval||e,r=e.timeStamp-o.timeStamp;{var s,a,l;e.eventType!=ft&&(ht<r||o.velocity===u)?(s=e.deltaX-o.deltaX,a=e.deltaY-o.deltaY,l=E(r,s,a),n=l.x,i=l.y,l=tt(l.x)>tt(l.y)?l.x:l.y,a=L(s,a),t.lastInterval=e):(l=o.velocity,n=o.velocityX,i=o.velocityY,a=o.direction)}e.velocity=l,e.velocityX=n,e.velocityY=i,e.direction=a}(n,e);t=t.element;d(e.srcEvent.target,t)&&(t=e.srcEvent.target),e.target=t}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function C(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:Q(t.pointers[n].clientX),clientY:Q(t.pointers[n].clientY)},n++;return{timeStamp:et(),pointers:e,center:x(e),deltaX:t.deltaX,deltaY:t.deltaY}}function x(t){var e=t.length;if(1===e)return{x:Q(t[0].clientX),y:Q(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:Q(n/e),y:Q(i/e)}}function E(t,e,n){return{x:e/t||0,y:n/t||0}}function L(t,e){return t===e?mt:tt(t)>=tt(e)?t<0?gt:_t:e<0?vt:yt}function T(t,e,n){var i=e[(n=n||Ct)[0]]-t[n[0]],n=e[n[1]]-t[n[1]];return Math.sqrt(i*i+n*n)}function D(t,e,n){var i=e[(n=n||Ct)[0]]-t[n[0]],n=e[n[1]]-t[n[1]];return 180*Math.atan2(n,i)/Math.PI}function P(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,w.apply(this,arguments)}function A(){this.evEl=Dt,this.evWin=Pt,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function S(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,w.apply(this,arguments)}function M(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},w.apply(this,arguments)}function z(){w.apply(this,arguments);var t=i(this.handler,this);this.touch=new M(this.manager,t),this.mouse=new P(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function O(t){var e,n,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),n=this.lastTouches,setTimeout(function(){var t=n.indexOf(e);-1<t&&n.splice(t,1)},Mt))}function N(t,e){this.manager=t,this.set(e)}function I(t){this.options=nt({},this.defaults,t||{}),this.id=rt++,this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function B(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function R(t){return t==yt?"down":t==vt?"up":t==gt?"left":t==_t?"right":""}function U(t,e){e=e.manager;return e?e.get(t):t}function F(){I.apply(this,arguments)}function q(){F.apply(this,arguments),this.pX=null,this.pY=null}function j(){F.apply(this,arguments)}function Z(){I.apply(this,arguments),this._timer=null,this._input=null}function V(){F.apply(this,arguments)}function H(){F.apply(this,arguments)}function W(){I.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function G(t,e){return(e=e||{}).recognizers=c(e.recognizers,G.defaults.preset),new $(t,e)}function $(t,e){this.options=nt({},G.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((t=this).options.inputClass||(at?A:lt?M:st?z:P))(t,k),this.touchAction=new N(this,this.options.touchAction),J(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function J(n,i){var o,r=n.element;r.style&&(s(n.options.cssProps,function(t,e){o=y(r.style,e),i?(n.oldCssProps[o]=r.style[o],r.style[o]=t):r.style[o]=n.oldCssProps[o]||""}),i||(n.oldCssProps={}))}var Y=["","webkit","Moz","MS","ms","o"],X=a.createElement("div"),K="function",Q=Math.round,tt=Math.abs,et=Date.now,nt="function"!=typeof Object.assign?function(t){if(t===u||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==u&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign,it=t(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)n&&t[i[o]]!==u||(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),ot=t(function(t,e){return it(t,e,!0)},"merge","Use `assign`."),rt=1,st="ontouchstart"in o,at=y(o,"PointerEvent")!==u,lt=st&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ut="touch",ct="mouse",ht=25,pt=1,dt=4,ft=8,mt=1,gt=2,_t=4,vt=8,yt=16,bt=gt|_t,wt=vt|yt,kt=bt|wt,Ct=["x","y"],xt=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(b(this.element),this.evWin,this.domHandler)}};var Et={mousedown:pt,mousemove:2,mouseup:dt};e(P,w,{handler:function(t){var e=Et[t.type];e&pt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=dt),this.pressed&&(e&dt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ct,srcEvent:t}))}});var Lt={pointerdown:pt,pointermove:2,pointerup:dt,pointercancel:ft,pointerout:ft},Tt={2:ut,3:"pen",4:ct,5:"kinect"},Dt="pointerdown",Pt="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Dt="MSPointerDown",Pt="MSPointerMove MSPointerUp MSPointerCancel"),e(A,w,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=Lt[i],r=Tt[t.pointerType]||t.pointerType,s=r==ut,i=g(e,t.pointerId,"pointerId");o&pt&&(0===t.button||s)?i<0&&(e.push(t),i=e.length-1):o&(dt|ft)&&(n=!0),i<0||(e[i]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(i,1))}});var At={touchstart:pt,touchmove:2,touchend:dt,touchcancel:ft};e(S,w,{handler:function(t){var e,n=At[t.type];n===pt&&(this.started=!0),this.started&&(e=function(t,e){var n=_(t.touches),t=_(t.changedTouches);return[n=e&(dt|ft)?v(n.concat(t),"identifier",!0):n,t]}.call(this,t,n),n&(dt|ft)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:ut,srcEvent:t}))}});var St={touchstart:pt,touchmove:2,touchend:dt,touchcancel:ft};e(M,w,{handler:function(t){var e=St[t.type],n=function(t,e){var n=_(t.touches),i=this.targetIds;if(e&(2|pt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r=_(t.changedTouches),s=[],a=this.target,l=n.filter(function(t){return d(t.target,a)});if(e===pt)for(o=0;o<l.length;)i[l[o].identifier]=!0,o++;for(o=0;o<r.length;)i[r[o].identifier]&&s.push(r[o]),e&(dt|ft)&&delete i[r[o].identifier],o++;return s.length?[v(l.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:ut,srcEvent:t})}});var Mt=2500;e(z,w,{handler:function(t,e,n){var i=n.pointerType==ut,o=n.pointerType==ct;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)!function(t,e){t&pt?(this.primaryTouch=e.changedPointers[0].identifier,O.call(this,e)):t&(dt|ft)&&O.call(this,e)}.call(this,e,n);else if(o&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),o=Math.abs(n-o.y);if(r<=25&&o<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var zt=y(X.style,"touchAction"),Ot=zt!==u,Nt="compute",It="manipulation",Bt="none",Rt="pan-x",Ut="pan-y",Ft=function(){if(!Ot)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();N.prototype={set:function(t){t==Nt&&(t=this.compute()),Ot&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[zt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(f(t,Bt))return Bt;var e=f(t,Rt),n=f(t,Ut);return e&&n?Bt:e||n?e?Rt:Ut:f(t,It)?It:"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=f(i,Bt)&&!Ft[Bt],r=f(i,Ut)&&!Ft[Ut],s=f(i,Rt)&&!Ft[Rt];if(o){var a=1===t.pointers.length,i=t.distance<2,t=t.deltaTime<250;if(a&&i&&t)return}return(!s||!r)&&(o||r&&n&bt||s&&n&wt)?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};I.prototype={defaults:{},set:function(t){return nt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=U(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=U(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===g(e,t=U(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=U(t,this);t=g(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<8&&t(n.options.event+B(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),8<=i&&t(n.options.event+B(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=nt({},t);return l(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),void(30&this.state&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},e(F,I,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,t=this.attrTest(t);return i&&(n&ft||!t)?16|e:i||t?n&dt?8|e:2&e?4|e:2:32}}),e(q,F,{defaults:{event:"pan",threshold:10,pointers:1,direction:kt},getTouchAction:function(){var t=this.options.direction,e=[];return t&bt&&e.push(Ut),t&wt&&e.push(Rt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(i=e.direction&bt?(o=0===r?mt:r<0?gt:_t,n=r!=this.pX,Math.abs(t.deltaX)):(o=0===s?mt:s<0?vt:yt,n=s!=this.pY,Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return F.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=R(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),e(j,F,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),e(Z,I,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(dt|ft)&&!o)this.reset();else if(t.eventType&pt)this.reset(),this._timer=r(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&dt)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&dt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=et(),this.manager.emit(this.options.event,this._input)))}}),e(V,F,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),e(H,F,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:bt|wt,pointers:1},getTouchAction:function(){return q.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(bt|wt)?e=t.overallVelocity:n&bt?e=t.overallVelocityX:n&wt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&tt(e)>this.options.velocity&&t.eventType&dt},emit:function(t){var e=R(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),e(W,I,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[It]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&pt&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=dt)return this.failTimeout();o=!this.pTime||t.timeStamp-this.pTime<e.interval,n=!this.pCenter||T(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,n&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=r(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=r(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),G.VERSION="2.0.7",G.defaults={domEvents:!1,touchAction:Nt,enable:!0,inputTarget:null,inputClass:null,preset:[[V,{enable:!1}],[j,{enable:!1},["rotate"]],[H,{direction:bt}],[q,{direction:bt},["swipe"]],[W],[W,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};$.prototype={set:function(t){return nt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||8&o.state)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof I)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){return n(t,"remove",this)||!(t=this.get(t))||-1!==(t=g(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this;var e},on:function(t,e){if(t!==u&&e!==u){var n=this.handlers;return s(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==u){var n=this.handlers;return s(m(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,i,o;this.options.domEvents&&(n=t,i=e,(o=a.createEvent("Event")).initEvent(n,!0,!0),(o.gesture=i).target.dispatchEvent(o));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<r.length;)r[s](e),s++}},destroy:function(){this.element&&J(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},nt(G,{INPUT_START:pt,INPUT_MOVE:2,INPUT_END:dt,INPUT_CANCEL:ft,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:mt,DIRECTION_LEFT:gt,DIRECTION_RIGHT:_t,DIRECTION_UP:vt,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:bt,DIRECTION_VERTICAL:wt,DIRECTION_ALL:kt,Manager:$,Input:w,TouchAction:N,TouchInput:M,MouseInput:P,PointerEventInput:A,TouchMouseInput:z,SingleTouchInput:S,Recognizer:I,AttrRecognizer:F,Tap:W,Pan:q,Swipe:H,Pinch:j,Rotate:V,Press:Z,on:h,off:p,each:s,merge:ot,extend:it,assign:nt,inherit:e,bindFn:i,prefixed:y}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=G,qt.amd?qt("Hammer",[],function(){return G}):"undefined"!=typeof module&&module.exports?module.exports=G:o.Hammer=G}(window,document),qt("Core/KnockoutHammerBinding",["KnockoutES5","Hammer"],function(t,a){"use strict";return{register:function(s){s.bindingHandlers.swipeLeft={init:function(t,e,n,i,o){var r=s.unwrap(e());new a(t).on("swipeleft",function(t){var e=o.$data;r.apply(e,arguments)})}},s.bindingHandlers.swipeRight={init:function(t,e,n,i,o){var r=s.unwrap(e());new a(t).on("swiperight",function(t){var e=o.$data;r.apply(e,arguments)})}}}}}),qt("Core/registerKnockoutBindings",["Cesium/Widgets/SvgPathBindingHandler","KnockoutES5","Core/KnockoutMarkdownBinding","Core/KnockoutHammerBinding"],function(t,r,e,n){"use strict";return function(){t.register(r),e.register(r),n.register(r),r.bindingHandlers.embeddedComponent={init:function(t,e,n,i,o){return r.unwrap(e()).show(t),{controlsDescendantBindings:!0}},update:function(t,e,n,i,o){}}}}),qt("Core/createFragmentFromTemplate",[],function(){"use strict";return function(t){var e=document.createElement("div");e.innerHTML=t;for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n}}),qt("Core/loadView",["Cesium/Widgets/getElement","KnockoutES5","Core/createFragmentFromTemplate"],function(a,l,u){"use strict";return function(t,e,n){e=a(e);for(var i=u(t),o=[],r=0;r<i.childNodes.length;++r)o.push(i.childNodes[r]);for(e.appendChild(i),r=0;r<o.length;++r){var s=o[r];1!==s.nodeType&&8!==s.nodeType||l.applyBindings(n,s)}return o}}),function(o,h,s){var i,r,e,n,a,t=o.L,d={};function l(t){for(var e,n=["webkit","moz","o","ms"],i=0;i<n.length&&!e;i++)e=o[n[i]+t];return e}function u(t){var e=+new Date,n=Math.max(0,16-(e-i));return i=e+n,o.setTimeout(t,n)}d.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=d:qt.amd&&qt("leaflet",d),d.noConflict=function(){return o.L=t,this},(o.L=d).Util={extend:function(t){for(var e,n,i=Array.prototype.slice.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in n=i[o]||{})n.hasOwnProperty(e)&&(t[e]=n[e]);return t},bind:function(t,e){var n=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:(n=0,a="_leaflet_id",function(t){return t[a]=t[a]||++n,t[a]}),invokeEach:function(t,e,n){var i,o;if("object"!=typeof t)return!1;for(i in o=Array.prototype.slice.call(arguments,3),t)e.apply(n,[i,t[i]].concat(o));return!0},limitExecByInterval:function(n,i,o){var r,s;return function t(){var e=arguments;return r?void(s=!0):(r=!0,setTimeout(function(){r=!1,s&&(t.apply(o,e),s=!1)},i),void n.apply(o,e))}},falseFn:function(){return!1},formatNum:function(t,e){e=Math.pow(10,e||5);return Math.round(t*e)/e},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return d.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=d.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i,o=[];for(i in t)o.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")},template:function(t,n){return t.replace(/\{ *([\w_]+) *\}/g,function(t,e){e=n[e];if(e===s)throw new Error("No value provided for variable "+t);return e="function"==typeof e?e(n):e})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},i=0,r=o.requestAnimationFrame||l("RequestAnimationFrame")||u,e=o.cancelAnimationFrame||l("CancelAnimationFrame")||l("CancelRequestAnimationFrame")||function(t){o.clearTimeout(t)},d.Util.requestAnimFrame=function(t,e,n,i){return t=d.bind(t,e),n&&r===u?void t():r.call(o,t,i)},d.Util.cancelAnimFrame=function(t){t&&e.call(o,t)},d.extend=d.Util.extend,d.bind=d.Util.bind,d.stamp=d.Util.stamp,d.setOptions=d.Util.setOptions,d.Class=function(){},d.Class.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()}function n(){}n.prototype=this.prototype;var i,o=new n;for(i in(o.constructor=e).prototype=o,this)this.hasOwnProperty(i)&&"prototype"!==i&&(e[i]=this[i]);t.statics&&(d.extend(e,t.statics),delete t.statics),t.includes&&(d.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=d.extend({},o.options,t.options)),d.extend(o,t),o._initHooks=[];var r=this;return e.__super__=r.prototype,o.callInitHooks=function(){if(!this._initHooksCalled){r.prototype.callInitHooks&&r.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},d.Class.include=function(t){d.extend(this.prototype,t)},d.Class.mergeOptions=function(t){d.extend(this.prototype.options,t)},d.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var c,p,f,m,g,_,v,y,b,w,k,C,x,E,L,T,D,P="_leaflet_events";function A(t){return d.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){n<i?t.setLatLngs(e[n++]):this.removeLayer(t)},this);n<i;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var e=[];return this.eachLayer(function(t){e.push(t.getLatLngs())}),e}})}d.Mixin={},d.Mixin.Events={addEventListener:function(t,e,n){if(d.Util.invokeEach(t,this.addEventListener,this,e,n))return this;for(var i,o,r,s,a=this[P]=this[P]||{},l=n&&n!==this&&d.stamp(n),u=0,c=(t=d.Util.splitWords(t)).length;u<c;u++)i={action:e,context:n||this},o=t[u],l?(r=(s=o+"_idx")+"_len",(s=a[s]=a[s]||{})[l]||(s[l]=[],a[r]=(a[r]||0)+1),s[l].push(i)):(a[o]=a[o]||[],a[o].push(i));return this},hasEventListeners:function(t){var e=this[P];return!!e&&(t in e&&0<e[t].length||t+"_idx"in e&&0<e[t+"_idx_len"])},removeEventListener:function(t,e,n){if(!this[P])return this;if(!t)return this.clearAllEventListeners();if(d.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;for(var i,o,r,s,a,l,u=this[P],c=n&&n!==this&&d.stamp(n),h=0,p=(t=d.Util.splitWords(t)).length;h<p;h++)if(a=(s=(i=t[h])+"_idx")+"_len",l=u[s],e){if(o=c&&l?l[c]:u[i]){for(r=o.length-1;0<=r;r--)o[r].action!==e||n&&o[r].context!==n||(o.splice(r,1)[0].action=d.Util.falseFn);n&&l&&0===o.length&&(delete l[c],u[a]--)}}else delete u[i],delete u[s],delete u[a];return this},clearAllEventListeners:function(){return delete this[P],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,o,r,s,a=d.Util.extend({},e,{type:t,target:this}),e=this[P];if(e[t])for(i=0,o=(n=e[t].slice()).length;i<o;i++)n[i].action.call(n[i].context,a);for(s in r=e[t+"_idx"])if(n=r[s].slice())for(i=0,o=n.length;i<o;i++)n[i].action.call(n[i].context,a);return this},addOneTimeEventListener:function(t,e,n){if(d.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=d.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},d.Mixin.Events.on=d.Mixin.Events.addEventListener,d.Mixin.Events.off=d.Mixin.Events.removeEventListener,d.Mixin.Events.once=d.Mixin.Events.addOneTimeEventListener,d.Mixin.Events.fire=d.Mixin.Events.fireEvent,p="ActiveXObject"in o,f=p&&!h.addEventListener,m=navigator.userAgent.toLowerCase(),g=-1!==m.indexOf("webkit"),_=-1!==m.indexOf("chrome"),v=-1!==m.indexOf("phantom"),y=-1!==m.indexOf("android"),b=-1!==m.search("android [23]"),w=-1!==m.indexOf("gecko"),k=typeof orientation!=s+"",C=!o.PointerEvent&&o.MSPointerEvent,x=o.PointerEvent&&o.navigator.pointerEnabled||C,S="devicePixelRatio"in o&&1<o.devicePixelRatio||"matchMedia"in o&&o.matchMedia("(min-resolution:144dpi)")&&o.matchMedia("(min-resolution:144dpi)").matches,E=h.documentElement,L=p&&"transition"in E.style,T="WebKitCSSMatrix"in o&&"m11"in new o.WebKitCSSMatrix&&!b,D="MozPerspective"in E.style,m="OTransition"in E.style,E=!o.L_DISABLE_3D&&(L||T||D||m)&&!v,v=!o.L_NO_TOUCH&&!v&&(x||"ontouchstart"in o||o.DocumentTouch&&h instanceof o.DocumentTouch),d.Browser={ie:p,ielt9:f,webkit:g,gecko:w&&!g&&!o.opera&&!p,android:y,android23:b,chrome:_,ie3d:L,webkit3d:T,gecko3d:D,opera3d:m,any3d:E,mobile:k,mobileWebkit:k&&g,mobileWebkit3d:k&&T,mobileOpera:k&&o.opera,touch:v,msPointer:C,pointer:x,retina:S},d.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},d.Point.prototype={clone:function(){return new d.Point(this.x,this.y)},add:function(t){return this.clone()._add(d.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(d.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){var e=(t=d.point(t)).x-this.x,t=t.y-this.y;return Math.sqrt(e*e+t*t)},equals:function(t){return(t=d.point(t)).x===this.x&&t.y===this.y},contains:function(t){return t=d.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+d.Util.formatNum(this.x)+", "+d.Util.formatNum(this.y)+")"}},d.point=function(t,e,n){return t instanceof d.Point?t:d.Util.isArray(t)?new d.Point(t[0],t[1]):t===s||null===t?t:new d.Point(t,e,n)},d.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},d.Bounds.prototype={extend:function(t){return t=d.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new d.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new d.Point(this.min.x,this.max.y)},getTopRight:function(){return new d.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof d.Point?d.point(t):d.bounds(t))instanceof d.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=d.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,t=o.x>=e.x&&i.x<=n.x,n=o.y>=e.y&&i.y<=n.y;return t&&n},isValid:function(){return!(!this.min||!this.max)}},d.bounds=function(t,e){return!t||t instanceof d.Bounds?t:new d.Bounds(t,e)},d.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},d.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new d.Point((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}},d.DomUtil={get:function(t){return"string"==typeof t?h.getElementById(t):t},getStyle:function(t,e){var n=t.style[e];return"auto"===(n=(!(n=!n&&t.currentStyle?t.currentStyle[e]:n)||"auto"===n)&&h.defaultView?(t=h.defaultView.getComputedStyle(t,null))?t[e]:null:n)?null:n},getViewportOffset:function(t){var e=0,n=0,i=t,o=h.body,r=h.documentElement;do{if(e+=i.offsetTop||0,n+=i.offsetLeft||0,e+=parseInt(d.DomUtil.getStyle(i,"borderTopWidth"),10)||0,n+=parseInt(d.DomUtil.getStyle(i,"borderLeftWidth"),10)||0,l=d.DomUtil.getStyle(i,"position"),i.offsetParent===o&&"absolute"===l)break;if("fixed"===l){e+=o.scrollTop||r.scrollTop||0,n+=o.scrollLeft||r.scrollLeft||0;break}if("relative"===l&&!i.offsetLeft){var s=d.DomUtil.getStyle(i,"width"),a=d.DomUtil.getStyle(i,"max-width"),l=i.getBoundingClientRect();"none"===s&&"none"===a||(n+=l.left+i.clientLeft),e+=l.top+(o.scrollTop||r.scrollTop||0);break}}while(i=i.offsetParent);for(i=t;i!==o&&(e-=i.scrollTop||0,n-=i.scrollLeft||0,i=i.parentNode););return new d.Point(n,e)},documentIsLtr:function(){return d.DomUtil._docIsLtrCached||(d.DomUtil._docIsLtrCached=!0,d.DomUtil._docIsLtr="ltr"===d.DomUtil.getStyle(h.body,"direction")),d.DomUtil._docIsLtr},create:function(t,e,n){t=h.createElement(t);return t.className=e,n&&n.appendChild(t),t},hasClass:function(t,e){if(t.classList!==s)return t.classList.contains(e);t=d.DomUtil._getClass(t);return 0<t.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)},addClass:function(t,e){var n;if(t.classList!==s)for(var i=d.Util.splitWords(e),o=0,r=i.length;o<r;o++)t.classList.add(i[o]);else d.DomUtil.hasClass(t,e)||(n=d.DomUtil._getClass(t),d.DomUtil._setClass(t,(n?n+" ":"")+e))},removeClass:function(t,e){t.classList!==s?t.classList.remove(e):d.DomUtil._setClass(t,d.Util.trim((" "+d.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===s?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===s?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var e=h.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1},getTranslateString:function(t){var e=d.Browser.webkit3d;return"translate"+(e?"3d":"")+"("+t.x+"px,"+t.y+"px"+((e?",0":"")+")")},getScaleString:function(t,e){return d.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t)))+(" scale("+t+") ")},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&d.Browser.any3d?t.style[d.DomUtil.TRANSFORM]=d.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},d.DomUtil.TRANSFORM=d.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),d.DomUtil.TRANSITION=d.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),d.DomUtil.TRANSITION_END="webkitTransition"===d.DomUtil.TRANSITION||"OTransition"===d.DomUtil.TRANSITION?d.DomUtil.TRANSITION+"End":"transitionend","onselectstart"in h?d.extend(d.DomUtil,{disableTextSelection:function(){d.DomEvent.on(o,"selectstart",d.DomEvent.preventDefault)},enableTextSelection:function(){d.DomEvent.off(o,"selectstart",d.DomEvent.preventDefault)}}):(c=d.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),d.extend(d.DomUtil,{disableTextSelection:function(){var t;c&&(t=h.documentElement.style,this._userSelect=t[c],t[c]="none")},enableTextSelection:function(){c&&(h.documentElement.style[c]=this._userSelect,delete this._userSelect)}})),d.extend(d.DomUtil,{disableImageDrag:function(){d.DomEvent.on(o,"dragstart",d.DomEvent.preventDefault)},enableImageDrag:function(){d.DomEvent.off(o,"dragstart",d.DomEvent.preventDefault)}}),d.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==s&&(this.alt=parseFloat(n))},d.extend(d.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),d.LatLng.prototype={equals:function(t){return!!t&&(t=d.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=d.LatLng.MAX_MARGIN)},toString:function(t){return"LatLng("+d.Util.formatNum(this.lat,t)+", "+d.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=d.latLng(t);var e=d.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*e,i=(t.lng-this.lng)*e,o=this.lat*e,e=t.lat*e,n=Math.sin(n/2),i=Math.sin(i/2),e=n*n+i*i*Math.cos(o)*Math.cos(e);return 12756274*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))},wrap:function(t,e){var n=this.lng;return new d.LatLng(this.lat,n=(n+(e=e||180))%(e-(t=t||-180))+(n<t||n===e?e:t))}},d.latLng=function(t,e){return t instanceof d.LatLng?t:d.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new d.LatLng(t[0],t[1],t[2]):null:t===s||null===t?t:"object"==typeof t&&"lat"in t?new d.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===s?null:new d.LatLng(t,e)},d.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])},d.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=d.latLng(t);return(t=null!==e?e:d.latLngBounds(t))instanceof d.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new d.LatLng(t.lat,t.lng),this._northEast=new d.LatLng(t.lat,t.lng)):t instanceof d.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,t=Math.abs(e.lng-n.lng)*t;return new d.LatLngBounds(new d.LatLng(e.lat-i,e.lng-t),new d.LatLng(n.lat+i,n.lng+t))},getCenter:function(){return new d.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new d.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new d.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof d.LatLng?d.latLng(t):d.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof d.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=d.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>=e.lat&&i.lat<=n.lat,n=o.lng>=e.lng&&i.lng<=n.lng;return t&&n},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=d.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},d.latLngBounds=function(t,e){return!t||t instanceof d.LatLngBounds?t:new d.LatLngBounds(t,e)},d.Projection={},d.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=d.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,n=Math.max(Math.min(n,t.lat),-n),t=t.lng*e,e=n*e,e=Math.log(Math.tan(Math.PI/4+e/2));return new d.Point(t,e)},unproject:function(t){var e=d.LatLng.RAD_TO_DEG,n=t.x*e,e=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new d.LatLng(e,n)}},d.Projection.LonLat={project:function(t){return new d.Point(t.lng,t.lat)},unproject:function(t){return new d.LatLng(t.y,t.x)}},d.CRS={latLngToPoint:function(t,e){t=this.projection.project(t),e=this.scale(e);return this.transformation._transform(t,e)},pointToLatLng:function(t,e){e=this.scale(e),e=this.transformation.untransform(t,e);return this.projection.unproject(e)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){t=this.scale(t);return d.point(t,t)}},d.CRS.Simple=d.extend({},d.CRS,{projection:d.Projection.LonLat,transformation:new d.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),d.CRS.EPSG3857=d.extend({},d.CRS,{code:"EPSG:3857",projection:d.Projection.SphericalMercator,transformation:new d.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){return this.projection.project(t).multiplyBy(6378137)}}),d.CRS.EPSG900913=d.extend({},d.CRS.EPSG3857,{code:"EPSG:900913"}),d.CRS.EPSG4326=d.extend({},d.CRS,{code:"EPSG:4326",projection:d.Projection.LonLat,transformation:new d.Transformation(1/360,.5,-1/360,.5)}),d.Map=d.Class.extend({includes:d.Mixin.Events,options:{crs:d.CRS.EPSG3857,fadeAnimation:d.DomUtil.TRANSITION&&!d.Browser.android23,trackResize:!0,markerZoomAnimation:d.DomUtil.TRANSITION&&d.Browser.any3d},initialize:function(t,e){e=d.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=d.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==s&&this.setView(d.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===s?this.getZoom():e,this._resetView(d.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),i=(t instanceof d.Point?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),i=this.containerPointToLatLng(o.add(i));return this.setView(i,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():d.latLngBounds(t);var n=d.point(e.paddingTopLeft||e.padding||[0,0]),i=d.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i)),o=e.maxZoom?Math.min(e.maxZoom,o):o,i=i.subtract(n).divideBy(2),n=this.project(t.getSouthWest(),o),t=this.project(t.getNorthEast(),o),i=this.unproject(n.add(t).divideBy(2).add(i),o);return this.setView(i,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(d.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=d.latLngBounds(t),(this.options.maxBounds=t)?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),t=this._limitCenter(n,this._zoom,t);return n.equals(t)?this:this.panTo(t,e)},addLayer:function(t){var e=d.stamp(t);return this._layers[e]||(!(this._layers[e]=t).options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&d.TileLayer&&t instanceof d.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t)),this},removeLayer:function(t){var e=d.stamp(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&d.TileLayer&&t instanceof d.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this))),this},hasLayer:function(t){return!!t&&d.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=d.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),o=i.subtract(o);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;e=this[t]=new e(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=s}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),t=this.unproject(t.getTopRight());return new d.LatLngBounds(e,t)},getMinZoom:function(){return this.options.minZoom===s?this._layersMinZoom===s?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===s?this._layersMaxZoom===s?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=d.latLngBounds(t);var i,o=this.getMinZoom()-(e?1:0),r=this.getMaxZoom(),s=this.getSize(),a=t.getNorthWest(),l=t.getSouthEast(),u=!0;for(n=d.point(n||[0,0]);i=this.project(l,++o).subtract(this.project(a,o)).add(n),(u=e?i.x<s.x||i.y<s.y:s.contains(i))&&o<=r;);return u&&e?null:e?o:o-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new d.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new d.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===s?this._zoom:e,this.options.crs.latLngToPoint(d.latLng(t),e)},unproject:function(t,e){return e=e===s?this._zoom:e,this.options.crs.pointToLatLng(d.point(t),e)},layerPointToLatLng:function(t){t=d.point(t).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(t){return this.project(d.latLng(t))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return d.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return d.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){t=this.containerPointToLayerPoint(d.point(t));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(d.latLng(t)))},mouseEventToContainerPoint:function(t){return d.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){t=this._container=d.DomUtil.get(t);if(!t)throw new Error("Map container not found.");if(t._leaflet)throw new Error("Map container is already initialized.");t._leaflet=!0},_initLayout:function(){var t=this._container;d.DomUtil.addClass(t,"leaflet-container"+(d.Browser.touch?" leaflet-touch":"")+(d.Browser.retina?" leaflet-retina":"")+(d.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=d.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(d.DomUtil.addClass(t.markerPane,e),d.DomUtil.addClass(t.shadowPane,e),d.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return d.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){for(var e=0,n=(t=t?d.Util.isArray(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var o=this._zoom!==e;i||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):d.DomUtil.setPosition(this._mapPane,new d.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;t=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),t&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){d.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-1/0,i=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===s?this._layersMaxZoom=this._layersMinZoom=s:(this._layersMaxZoom=n,this._layersMinZoom=e),i!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){if(d.DomEvent){d.DomEvent[t=t||"on"](this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],n=0,i=e.length;n<i;n++)d.DomEvent[t](this._container,e[n],this._fireMouseEvent,this);this.options.trackResize&&d.DomEvent[t](o,"resize",this._onResize,this)}},_onResize:function(){d.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=d.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||d.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){var e,n,i,o;this._loaded&&!d.DomEvent._skipped(t)&&(o="mouseenter"===(o=t.type)?"mouseover":"mouseleave"===o?"mouseout":o,this.hasEventListeners(o)&&("contextmenu"===o&&d.DomEvent.preventDefault(t),e=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(e),i=this.layerPointToLatLng(n),this.fire(o,{latlng:i,layerPoint:n,containerPoint:e,originalEvent:t})))},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return d.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){n=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),t=this.getSize().divideBy(2),t=new d.Bounds(i.subtract(t),i.add(t)),n=this._getBoundsOffset(t,n,e);return this.unproject(i.add(n),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),n=new d.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),n=this.project(e.getSouthEast(),n).subtract(t.max),t=this._rebound(i.x,-n.x),n=this._rebound(i.y,-n.y);return new d.Point(t,n)},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),d.map=function(t,e){return new d.Map(t,e)},d.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=d.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=this.R_MAJOR,n=this.R_MINOR,t=t.lng*e*o,i=i*e,e=n/o,n=Math.sqrt(1-e*e),e=n*Math.sin(i),e=Math.pow((1-e)/(1+e),.5*n),e=Math.tan(.5*(.5*Math.PI-i))/e,i=-o*Math.log(e);return new d.Point(t,i)},unproject:function(t){for(var e,n=d.LatLng.RAD_TO_DEG,i=this.R_MAJOR,o=this.R_MINOR,r=t.x*n/i,o=o/i,s=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),l=Math.PI/2-2*Math.atan(a),u=15,c=.1;1e-7<Math.abs(c)&&0<--u;)e=s*Math.sin(l),l+=c=Math.PI/2-2*Math.atan(a*Math.pow((1-e)/(1+e),.5*s))-l;return new d.LatLng(l*n,r)}},d.CRS.EPSG3395=d.extend({},d.CRS,{code:"EPSG:3395",projection:d.Projection.Mercator,transformation:(S=d.Projection.Mercator.R_MAJOR,S=.5/(Math.PI*S),new d.Transformation(S,.5,-S,.5))}),d.TileLayer=d.Class.extend({includes:d.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:d.Browser.mobile,updateWhenIdle:d.Browser.mobile},initialize:function(t,e){(e=d.setOptions(this,e)).detectRetina&&d.Browser.retina&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,0<e.minZoom&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=d.latLngBounds(e.bounds)),this._url=t;t=this.options.subdomains;"string"==typeof t&&(this.options.subdomains=t.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=d.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==s&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){for(var n,i=t.children,o=-e(1/0,-1/0),r=0,s=i.length;r<s;r++)i[r]!==this._container&&(n=parseInt(i[r].style.zIndex,10),isNaN(n)||(o=e(o,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(o)?o:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(d.Browser.ielt9)for(t in e)d.DomUtil.setOpacity(e[t],this.options.opacity);else d.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t,e=this._map._panes.tilePane;this._container||(this._container=d.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(this._bgBuffer=d.DomUtil.create("div",t="leaflet-tile-container",this._container),this._tileContainer=d.DomUtil.create("div",t,this._container)):this._tileContainer=this._container,e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return i=n&&n<e?Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i):i},_update:function(){var t,e,n;this._map&&(t=(n=this._map).getPixelBounds(),e=n.getZoom(),n=this._getTileSize(),e>this.options.maxZoom||e<this.options.minZoom||(n=d.bounds(t.min.divideBy(n)._floor(),t.max.divideBy(n)._floor()),this._addTilesFromCenterOut(n),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(n)))},_addTilesFromCenterOut:function(t){for(var e,n,i=[],o=t.getCenter(),r=t.min.y;r<=t.max.y;r++)for(e=t.min.x;e<=t.max.x;e++)n=new d.Point(e,r),this._tileShouldBeLoaded(n)&&i.push(n);var s=i.length;if(0!==s){i.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)});var a=h.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=s,e=0;e<s;e++)this._addTile(i[e],a);this._tileContainer.appendChild(a)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){n=this._getTileSize(),t=t.multiplyBy(n),n=t.add([n,n]),t=this._map.unproject(t),n=this._map.unproject(n);if(e.continuousWorld||e.noWrap||(t=t.wrap(),n=n.wrap()),!e.bounds.intersects([t,n]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i;for(i in this._tiles)n=i.split(":"),e=parseInt(n[0],10),n=parseInt(n[1],10),(e<t.min.x||e>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(i)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(d.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),d.Browser.android||(e.onload=null,e.src=d.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();d.DomUtil.setPosition(i,n,d.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return d.Util.template(this._url,d.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){t=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[t]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=d.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=d.Util.falseFn,d.Browser.ielt9&&this.options.opacity!==s&&d.DomUtil.setOpacity(t,this.options.opacity),d.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&d.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(d.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==d.Util.emptyImageUrl&&(d.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),d.tileLayer=function(t,e){return new d.TileLayer(t,e)},d.TileLayer.WMS=d.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n,i=d.extend({},this.defaultWmsParams),t=e.tileSize||this.options.tileSize;for(n in e.detectRetina&&d.Browser.retina?i.width=i.height=2*t:i.width=i.height=t,e)this.options.hasOwnProperty(n)||"crs"===n||(i[n]=e[n]);this.wmsParams=i,d.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,d.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),n=i.add([n,n]),i=this._crs.project(e.unproject(i,t.z)),n=this._crs.project(e.unproject(n,t.z)),i=(1.3<=this._wmsVersion&&this._crs===d.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),t=d.Util.template(this._url,{s:this._getSubdomain(t)});return t+d.Util.getParamString(this.wmsParams,t,!0)+"&BBOX="+i},setParams:function(t,e){return d.extend(this.wmsParams,t),e||this.redraw(),this}}),d.tileLayer.wms=function(t,e){return new d.TileLayer.WMS(t,e)},d.TileLayer.Canvas=d.TileLayer.extend({options:{async:!1},initialize:function(t){d.setOptions(this,t)},redraw:function(){for(var t in this._map&&(this._reset({hard:!0}),this._update()),this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=d.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=d.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),d.tileLayer.canvas=function(t){return new d.TileLayer.Canvas(t)},d.ImageOverlay=d.Class.extend({includes:d.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=d.latLngBounds(e),d.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&d.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=d.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&d.Browser.any3d?d.DomUtil.addClass(this._image,"leaflet-zoom-animated"):d.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),d.extend(this._image,{galleryimg:"no",onselectstart:d.Util.falseFn,onmousemove:d.Util.falseFn,onload:d.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),r=this._bounds.getSouthEast(),o=e._latLngToNewLayerPoint(o,t.zoom,t.center),t=e._latLngToNewLayerPoint(r,t.zoom,t.center)._subtract(o),t=o._add(t._multiplyBy(.5*(1-1/i)));n.style[d.DomUtil.TRANSFORM]=d.DomUtil.getTranslateString(t)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);d.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){d.DomUtil.setOpacity(this._image,this.options.opacity)}}),d.imageOverlay=function(t,e,n){return new d.ImageOverlay(t,e,n)},d.Icon=d.Class.extend({options:{className:""},initialize:function(t){d.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(n)return n=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(n,t),n;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,e){var n=this.options,i=d.point(n[e+"Size"]),o="shadow"===e?d.point(n.shadowAnchor||n.iconAnchor):d.point(n.iconAnchor);!o&&i&&(o=i.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||h.createElement("img")).src=t,e},_getIconUrl:function(t){return d.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),d.icon=function(t){return new d.Icon(t)},d.Icon.Default=d.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];d.Browser.retina&&"icon"===t&&(t+="-2x");e=d.Icon.Default.imagePath;if(!e)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return e+"/marker-"+t+".png"}}),d.Icon.Default.imagePath=function(){for(var t,e=h.getElementsByTagName("script"),n=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,i=0,o=e.length;i<o;i++)if((t=e[i].src).match(n))return((t=t.split(n)[0])?t+"/":"")+"images"}(),d.Marker=d.Class.extend({includes:d.Mixin.Events,options:{icon:new d.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){d.setOptions(this,e),this._latlng=d.latLng(t)},onAdd:function(t){(this._map=t).on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=d.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),d.DomUtil.addClass(i,n),t.keyboard&&(i.tabIndex="0"),this._icon=i,this._initInteraction(),t.riseOnHover&&d.DomEvent.on(i,"mouseover",this._bringToFront,this).on(i,"mouseout",this._resetZIndex,this);e=t.icon.createShadow(this._shadow),i=!1;e!==this._shadow&&(this._removeShadow(),i=!0),e&&d.DomUtil.addClass(e,n),this._shadow=e,t.opacity<1&&this._updateOpacity();t=this._map._panes;o&&t.markerPane.appendChild(this._icon),e&&i&&t.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&d.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){d.DomUtil.setPosition(this._icon,t),this._shadow&&d.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];d.DomUtil.addClass(t,"leaflet-clickable"),d.DomEvent.on(t,"click",this._onMouseClick,this),d.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)d.DomEvent.on(t,e[n],this._fireMouseEvent,this);d.Handler.MarkerDrag&&(this.dragging=new d.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&d.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&d.DomEvent.preventDefault(t),"mousedown"!==t.type?d.DomEvent.stopPropagation(t):d.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){d.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&d.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),d.marker=function(t,e){return new d.Marker(t,e)},d.DivIcon=d.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:h.createElement("div"),t=this.options;return!1!==t.html?e.innerHTML=t.html:e.innerHTML="",t.bgPos&&(e.style.backgroundPosition=-t.bgPos.x+"px "+-t.bgPos.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}}),d.divIcon=function(t){return new d.DivIcon(t)},d.Map.mergeOptions({closePopupOnClick:!0}),d.Popup=d.Class.extend({includes:d.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){d.setOptions(this,t),this._source=e,this._animated=d.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&d.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&d.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),d.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&d.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=d.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=t+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),e=this._container=d.DomUtil.create("div",e);this.options.closeButton&&((n=this._closeButton=d.DomUtil.create("a",t+"-close-button",e)).href="#close",n.innerHTML="&#215;",d.DomEvent.disableClickPropagation(n),d.DomEvent.on(n,"click",this._onCloseButtonClick,this));var n=this._wrapper=d.DomUtil.create("div",t+"-content-wrapper",e);d.DomEvent.disableClickPropagation(n),this._contentNode=d.DomUtil.create("div",t+"-content",n),d.DomEvent.disableScrollPropagation(this._contentNode),d.DomEvent.on(n,"contextmenu",d.DomEvent.stopPropagation),this._tipContainer=d.DomUtil.create("div",t+"-tip-container",e),this._tip=d.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth,n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,n="leaflet-popup-scrolled";o&&o<i?(e.height=o+"px",d.DomUtil.addClass(t,n)):d.DomUtil.removeClass(t,n),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var t,e,n;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=d.point(this.options.offset),e&&d.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px")},_zoomAnimation:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);d.DomUtil.setPosition(this._container,t)},_adjustPan:function(){var t,e,n,i,o,r,s,a;this.options.autoPan&&(t=this._map,e=this._container.offsetHeight,a=this._containerWidth,r=new d.Point(this._containerLeft,-e-this._containerBottom),this._animated&&r._add(d.DomUtil.getPosition(this._container)),n=t.layerPointToContainerPoint(r),s=d.point(this.options.autoPanPadding),i=d.point(this.options.autoPanPaddingTopLeft||s),o=d.point(this.options.autoPanPaddingBottomRight||s),r=t.getSize(),s=0,n.x+a+o.x>r.x&&(s=n.x+a-r.x+o.x),n.x-s-i.x<(a=0)&&(s=n.x-i.x),n.y+e+o.y>r.y&&(a=n.y+e-r.y+o.y),n.y-a-i.y<0&&(a=n.y-i.y),(s||a)&&t.fire("autopanstart").panBy([s,a]))},_onCloseButtonClick:function(t){this._close(),d.DomEvent.stop(t)}}),d.popup=function(t,e){return new d.Popup(t,e)},d.Map.include({openPopup:function(t,e,n){var i;return this.closePopup(),t instanceof d.Popup||(i=t,t=new d.Popup(n).setLatLng(e).setContent(i)),t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),d.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=(n=d.point(this.options.icon.options.popupAnchor||[0,0])).add(d.Popup.prototype.options.offset);return e&&e.offset&&(n=n.add(e.offset)),e=d.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof d.Popup?(d.setOptions(t,e),(this._popup=t)._source=this):this._popup=new d.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),d.LayerGroup=d.Class.extend({initialize:function(t){var e,n;if(this._layers={},t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){t=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t,e=[];for(t in this._layers)e.push(this._layers[t]);return e},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return d.stamp(t)}}),d.layerGroup=function(t){return new d.LayerGroup(t)},d.FeatureGroup=d.LayerGroup.extend({includes:d.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(d.FeatureGroup.EVENTS,this._propagateEvent,this),d.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?("off"in(t=t in this._layers?this._layers[t]:t)&&t.off(d.FeatureGroup.EVENTS,this._propagateEvent,this),d.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new d.LatLngBounds;return this.eachLayer(function(t){e.extend(t instanceof d.Marker?t.getLatLng():t.getBounds())}),e},_propagateEvent:function(t){t=d.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),d.featureGroup=function(t){return new d.FeatureGroup(t)},d.Path=d.Class.extend({includes:[d.Mixin.Events],statics:{CLIP_PADDING:(S=((d.Browser.mobile?1280:2e3)/Math.max(o.outerWidth,o.outerHeight)-1)/2,Math.max(0,Math.min(.5,S)))},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){d.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,d.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return d.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),d.Map.include({_updatePathViewport:function(){var t=d.Path.CLIP_PADDING,e=this.getSize(),n=d.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),t=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new d.Bounds(n,t)}}),d.Path.SVG_NS="http://www.w3.org/2000/svg",d.Browser.svg=!(!h.createElementNS||!h.createElementNS(d.Path.SVG_NS,"svg").createSVGRect),d.Path=d.Path.extend({statics:{SVG:d.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return h.createElementNS(d.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&d.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=(t=this.getPathString())||"M0 0";this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){!d.Browser.svg&&d.Browser.vml||d.DomUtil.addClass(this._path,"leaflet-clickable"),d.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)d.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){var e,n,i;this._map&&this.hasEventListeners(t.type)&&(e=(i=this._map).mouseEventToContainerPoint(t),n=i.containerPointToLayerPoint(e),i=i.layerPointToLatLng(n),this.fire(t.type,{latlng:i,layerPoint:n,containerPoint:e,originalEvent:t}),"contextmenu"===t.type&&d.DomEvent.preventDefault(t),"mousemove"!==t.type&&d.DomEvent.stopPropagation(t))}}),d.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=d.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&d.Browser.any3d?(d.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):d.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),t=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[d.DomUtil.TRANSFORM]=d.DomUtil.getTranslateString(t)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){var t,e,n,i,o;this._pathZooming||(this._updatePathViewport(),t=(i=this._pathViewport).min,e=(o=i.max).x-t.x,n=o.y-t.y,i=this._pathRoot,o=this._panes.overlayPane,d.Browser.mobileWebkit&&o.removeChild(i),d.DomUtil.setPosition(i,t),i.setAttribute("width",e),i.setAttribute("height",n),i.setAttribute("viewBox",[t.x,t.y,e,n].join(" ")),d.Browser.mobileWebkit&&o.appendChild(i))}}),d.Path.include({bindPopup:function(t,e){return t instanceof d.Popup?this._popup=t:(this._popup&&!e||(this._popup=new d.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),d.Browser.vml=!d.Browser.svg&&function(){try{var t=h.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),d.Path=d.Browser.svg||!d.Browser.vml?d.Path:d.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return h.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return h.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return h.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");d.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&d.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||((t=this._stroke=this._createElement("stroke")).endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=d.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),d.Map.include(d.Browser.svg||!d.Browser.vml?{}:{_initPathRoot:function(){var t;this._pathRoot||((t=this._pathRoot=h.createElement("div")).className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport())}}),d.Browser.canvas=!!h.createElement("canvas").getContext,d.Path=d.Path.SVG&&!o.L_PREFER_CANVAS||!d.Browser.canvas?d.Path:d.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return d.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!d.Path._updateRequest&&(d.Path._updateRequest=d.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){d.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,o;for(this._ctx.beginPath(),t=0,n=this._parts.length;t<n;t++){for(e=0,i=this._parts[t].length;e<i;e++)o=this._parts[t][e],this._ctx[(0===e?"move":"line")+"To"](o.x,o.y);this instanceof d.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){var t,e;this._checkIfEmpty()||(t=this._ctx,e=this.options,this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore())},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),d.Map.include(d.Path.SVG&&!o.L_PREFER_CANVAS||!d.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||((e=this._pathRoot=h.createElement("canvas")).style.position="absolute",(t=this._canvasCtx=e.getContext("2d")).lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){var t,e,n;this._pathZooming||(this._updatePathViewport(),t=(n=this._pathViewport).min,e=n.max.subtract(t),n=this._pathRoot,d.DomUtil.setPosition(n,t),n.width=e.x,n.height=e.y,n.getContext("2d").translate(-t.x,-t.y))}}),d.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();e*=e;return t=this._reducePoints(t,e),this._simplifyDP(t,e)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,i=new(typeof Uint8Array!=s+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,this._simplifyDPStep(t,i,e,0,n-1);for(var o=[],r=0;r<n;r++)i[r]&&o.push(t[r]);return o},_simplifyDPStep:function(t,e,n,i,o){for(var r,s,a=0,l=i+1;l<=o-1;l++)a<(s=this._sqClosestPointOnSegment(t[l],t[i],t[o],!0))&&(r=l,a=s);n<a&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i){var o,r,s,a=i?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(a|l))return[t,e];if(a&l)return!1;r=this._getEdgeIntersection(t,e,o=a||l,n),s=this._getBitCode(r,n),o===a?(t=r,a=s):(e=r,l=s)}},_getEdgeIntersection:function(t,e,n,i){var o=e.x-t.x,r=e.y-t.y,e=i.min,i=i.max;return 8&n?new d.Point(t.x+o*(i.y-t.y)/r,i.y):4&n?new d.Point(t.x+o*(e.y-t.y)/r,e.y):2&n?new d.Point(i.x,t.y+r*(i.x-t.x)/o):1&n?new d.Point(e.x,t.y+r*(e.x-t.x)/o):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,t=e.y-t.y;return n*n+t*t},_sqClosestPointOnSegment:function(t,e,n,i){var o=e.x,r=e.y,s=n.x-o,a=n.y-r,e=s*s+a*a;return 0<e&&(1<(e=((t.x-o)*s+(t.y-r)*a)/e)?(o=n.x,r=n.y):0<e&&(o+=s*e,r+=a*e)),s=t.x-o,a=t.y-r,i?s*s+a*a:new d.Point(o,r)}},d.Polyline=d.Path.extend({initialize:function(t,e){d.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;t<e;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";t<e;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(d.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e=1/0,n=this._parts,i=null,o=0,r=n.length;o<r;o++)for(var s=n[o],a=1,l=s.length;a<l;a++){var u=s[a-1],c=s[a],h=d.LineUtil._sqClosestPointOnSegment(t,u,c,!0);h<e&&(e=h,i=d.LineUtil._sqClosestPointOnSegment(t,u,c))}return i&&(i.distance=Math.sqrt(e)),i},getBounds:function(){return new d.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){for(var n=e?t:[],i=0,o=t.length;i<o;i++){if(d.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;n[i]=d.latLng(t[i])}return n},_initEvents:function(){d.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=d.Path.VML,i=0,o=t.length,r="";i<o;i++)e=t[i],n&&e._round(),r+=(i?"L":"M")+e.x+" "+e.y;return r},_clipPoints:function(){var t,e=this._originalPoints,n=e.length;if(this.options.noClip)this._parts=[e];else{this._parts=[];for(var i=this._parts,o=this._map._pathViewport,r=d.LineUtil,s=0,a=0;s<n-1;s++)(t=r.clipSegment(e[s],e[s+1],o,s))&&(i[a]=i[a]||[],i[a].push(t[0]),t[1]===e[s+1]&&s!==n-2||(i[a].push(t[1]),a++))}},_simplifyPoints:function(){for(var t=this._parts,e=d.LineUtil,n=0,i=t.length;n<i;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),d.Path.prototype._updatePath.call(this))}}),d.polyline=function(t,e){return new d.Polyline(t,e)},d.PolyUtil={},d.PolyUtil.clipPolygon=function(t,e){for(var n,i,o,r,s,a,l,u=[1,4,2,8],c=d.LineUtil,h=0,p=t.length;h<p;h++)t[h]._code=c._getBitCode(t[h],e);for(o=0;o<4;o++){for(a=u[o],n=[],h=0,i=(p=t.length)-1;h<p;i=h++)r=t[h],s=t[i],r._code&a?s._code&a||((l=c._getEdgeIntersection(s,r,a,e))._code=c._getBitCode(l,e),n.push(l)):(s._code&a&&((l=c._getEdgeIntersection(s,r,a,e))._code=c._getBitCode(l,e),n.push(l)),n.push(r));t=n}return t},d.Polygon=d.Polyline.extend({options:{fill:!0},initialize:function(t,e){d.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&d.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;e<n;e++)(i=this._holes[e]=this._convertLatLngs(this._holes[e]))[0].equals(i[i.length-1])&&i.pop();2<=(t=this._latlngs).length&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(d.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes)for(var t,e,n=0,i=this._holes.length;n<i;n++)for(this._holePoints[n]=[],t=0,e=this._holes[n].length;t<e;t++)this._holePoints[n][t]=this._map.latLngToLayerPoint(this._holes[n][t])},setLatLngs:function(t){return t&&d.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):d.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;n<i;n++){var o=d.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){return d.Polyline.prototype._getPathPartStr.call(this,t)+(d.Browser.svg?"z":"x")}}),d.polygon=function(t,e){return new d.Polygon(t,e)},d.MultiPolyline=A(d.Polyline),d.MultiPolygon=A(d.Polygon),d.multiPolyline=function(t,e){return new d.MultiPolyline(t,e)},d.multiPolygon=function(t,e){return new d.MultiPolygon(t,e)},d.Rectangle=d.Polygon.extend({initialize:function(t,e){d.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=d.latLngBounds(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),d.rectangle=function(t,e){return new d.Rectangle(t,e)},d.Circle=d.Path.extend({initialize:function(t,e,n){d.Path.prototype.initialize.call(this,n),this._latlng=d.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=d.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,t=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-t.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new d.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":d.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(d.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),d.circle=function(t,e,n){return new d.Circle(t,e,n)},d.CircleMarker=d.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){d.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){d.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return d.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),d.circleMarker=function(t,e){return new d.CircleMarker(t,e)},d.Polyline.include(d.Path.CANVAS?{_containsPoint:function(t,e){var n,i,o,r,s,a,l=this.options.weight/2;for(d.Browser.touch&&(l+=10),n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&d.LineUtil.pointToSegmentDistance(t,a[o],a[i])<=l)return!0;return!1}}:{}),d.Polygon.include(d.Path.CANVAS?{_containsPoint:function(t){var e,n,i,o,r,s,a,l,u=!1;if(d.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u}}:{}),d.Circle.include(d.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),d.CircleMarker.include(d.Path.CANVAS?{_updateStyle:function(){d.Path.prototype._updateStyle.call(this)}}:{}),d.GeoJSON=d.FeatureGroup.extend({initialize:function(t,e){d.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=d.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(o[e]);return this}var r=this.options;if(!r.filter||r.filter(t)){var s=d.GeoJSON.geometryToLayer(t,r.pointToLayer,r.coordsToLatLng,r);return s.feature=d.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(d.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(e){this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),d.extend(d.GeoJSON,{geometryToLayer:function(t,e,n,i){var o,r,s,a,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return o=n(u),e?e(t,o):new d.Marker(o);case"MultiPoint":for(s=0,a=u.length;s<a;s++)o=n(u[s]),c.push(e?e(t,o):new d.Marker(o));return new d.FeatureGroup(c);case"LineString":return r=this.coordsToLatLngs(u,0,n),new d.Polyline(r,i);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return r=this.coordsToLatLngs(u,1,n),new d.Polygon(r,i);case"MultiLineString":return r=this.coordsToLatLngs(u,1,n),new d.MultiPolyline(r,i);case"MultiPolygon":return r=this.coordsToLatLngs(u,2,n),new d.MultiPolygon(r,i);case"GeometryCollection":for(s=0,a=l.geometries.length;s<a;s++)c.push(this.geometryToLayer({geometry:l.geometries[s],type:"Feature",properties:t.properties},e,n,i));return new d.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new d.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),o.push(i);return o},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==s&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(d.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?d.extend({},t.feature,{geometry:e}):d.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var S={toGeoJSON:function(){return d.GeoJSON.getFeature(this,{type:"Point",coordinates:d.GeoJSON.latLngToCoords(this.getLatLng())})}};function M(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),d.GeoJSON.getFeature(this,{type:t,coordinates:e})}}d.Marker.include(S),d.Circle.include(S),d.CircleMarker.include(S),d.Polyline.include({toGeoJSON:function(){return d.GeoJSON.getFeature(this,{type:"LineString",coordinates:d.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),d.Polygon.include({toGeoJSON:function(){var t,e,n,i=[d.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;t<e;t++)(n=d.GeoJSON.latLngsToCoords(this._holes[t])).push(n[0]),i.push(n);return d.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),d.MultiPolyline.include({toGeoJSON:M("MultiLineString")}),d.MultiPolygon.include({toGeoJSON:M("MultiPolygon")}),d.LayerGroup.include({toGeoJSON:function(){var e,t=this.feature&&this.feature.geometry,n=[];if(t&&"MultiPoint"===t.type)return M("MultiPoint").call(this);var i=t&&"GeometryCollection"===t.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(i?e.geometry:d.GeoJSON.asFeature(e)))}),i?d.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}}),d.geoJson=function(t,e){return new d.GeoJSON(t,e)},d.DomEvent={addListener:function(e,t,n,i){var o,r,s=d.stamp(n),a="_leaflet_"+t+s;return e[a]?this:(o=function(t){return n.call(i||e,t||d.DomEvent._getEvent())},d.Browser.pointer&&0===t.indexOf("touch")?this.addPointerListener(e,t,o,s):(d.Browser.touch&&"dblclick"===t&&this.addDoubleTapListener&&this.addDoubleTapListener(e,o,s),"addEventListener"in e?"mousewheel"===t?(e.addEventListener("DOMMouseScroll",o,!1),e.addEventListener(t,o,!1)):"mouseenter"===t||"mouseleave"===t?(r=o,o=function(t){return d.DomEvent._checkMouse(e,t)?r(t):void 0},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",o,!1)):("click"===t&&d.Browser.android&&(r=o,o=function(t){return d.DomEvent._filterClick(t,r)}),e.addEventListener(t,o,!1)):"attachEvent"in e&&e.attachEvent("on"+t,o),e[a]=o,this))},removeListener:function(t,e,n){var i=d.stamp(n),o="_leaflet_"+e+i,n=t[o];return n&&(d.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):d.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",n,!1),t.removeEventListener(e,n,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",n,!1):t.removeEventListener(e,n,!1):"detachEvent"in t&&t.detachEvent("on"+e,n),t[o]=null),this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,d.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=d.DomEvent.stopPropagation;return d.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=d.DomEvent.stopPropagation,n=d.Draggable.START.length-1;0<=n;n--)d.DomEvent.on(t,d.Draggable.START[n],e);return d.DomEvent.on(t,"click",d.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return d.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new d.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new d.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),e=t.detail?-t.detail/3:e},_skipEvents:{},_fakeStop:function(t){d.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t},_getEvent:function(){var t=o.event;if(!t)for(var e=arguments.callee.caller;e&&(!(t=e.arguments[0])||o.Event!==t.constructor);)e=e.caller;return t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=d.DomEvent._lastClick&&n-d.DomEvent._lastClick;return i&&100<i&&i<500||t.target._simulatedClick&&!t._simulated?void d.DomEvent.stop(t):(d.DomEvent._lastClick=n,e(t))}},d.DomEvent.on=d.DomEvent.addListener,d.DomEvent.off=d.DomEvent.removeListener,d.Draggable=d.Class.extend({includes:d.Mixin.Events,statics:{START:d.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=d.Draggable.START.length-1;0<=t;t--)d.DomEvent.on(this._dragStartTarget,d.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=d.Draggable.START.length-1;0<=t;t--)d.DomEvent.off(this._dragStartTarget,d.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){var e;this._moved=!1,t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(d.DomEvent.stopPropagation(t),d.Draggable._disabled||(d.DomUtil.disableImageDrag(),d.DomUtil.disableTextSelection(),this._moving))||(e=t.touches?t.touches[0]:t,this._startPoint=new d.Point(e.clientX,e.clientY),this._startPos=this._newPos=d.DomUtil.getPosition(this._element),d.DomEvent.on(h,d.Draggable.MOVE[t.type],this._onMove,this).on(h,d.Draggable.END[t.type],this._onUp,this))},_onMove:function(t){var e;t.touches&&1<t.touches.length?this._moved=!0:(e=t.touches&&1===t.touches.length?t.touches[0]:t,((e=new d.Point(e.clientX,e.clientY).subtract(this._startPoint)).x||e.y)&&(d.Browser.touch&&Math.abs(e.x)+Math.abs(e.y)<3||(d.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=d.DomUtil.getPosition(this._element).subtract(e),d.DomUtil.addClass(h.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,d.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,d.Util.cancelAnimFrame(this._animRequest),this._animRequest=d.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))))},_updatePosition:function(){this.fire("predrag"),d.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){for(var t in d.DomUtil.removeClass(h.body,"leaflet-dragging"),this._lastTarget&&(d.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),d.Draggable.MOVE)d.DomEvent.off(h,d.Draggable.MOVE[t],this._onMove).off(h,d.Draggable.END[t],this._onUp);d.DomUtil.enableImageDrag(),d.DomUtil.enableTextSelection(),this._moved&&this._moving&&(d.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),d.Handler=d.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),d.Map.mergeOptions({dragging:!0,inertia:!d.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:d.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),d.Map.Drag=d.Handler.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new d.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){var t,e;this._map.options.inertia&&(t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos,this._positions.push(e),this._times.push(t),200<t-this._times[0]&&(this._positions.shift(),this._times.shift())),this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,e=(i+e+n)%t-e-n,e=Math.abs(o+n)<Math.abs(e+n)?o:e;this._draggable._newPos.x=e},_onDragEnd:function(t){var e,n,i,o=this._map,r=o.options,s=+new Date-this._lastTime,a=!r.inertia||s>r.inertiaThreshold||!this._positions[0];o.fire("dragend",t),a?o.fire("moveend"):(t=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+s-this._times[0])/1e3,e=r.easeLinearity,t=(s=t.multiplyBy(e/a)).distanceTo([0,0]),a=Math.min(r.inertiaMaxSpeed,t),t=s.multiplyBy(a/t),n=a/(r.inertiaDeceleration*e),(i=t.multiplyBy(-n/2).round()).x&&i.y?(i=o._limitOffset(i,o.options.maxBounds),d.Util.requestAnimFrame(function(){o.panBy(i,{duration:n,easeLinearity:e,noMoveStart:!0})})):o.fire("moveend"))}}),d.Map.addInitHook("addHandler","dragging",d.Map.Drag),d.Map.mergeOptions({doubleClickZoom:!0}),d.Map.DoubleClickZoom=d.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),d.Map.addInitHook("addHandler","doubleClickZoom",d.Map.DoubleClickZoom),d.Map.mergeOptions({scrollWheelZoom:!0}),d.Map.ScrollWheelZoom=d.Handler.extend({addHooks:function(){d.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),d.DomEvent.on(this._map._container,"MozMousePixelScroll",d.DomEvent.preventDefault),this._delta=0},removeHooks:function(){d.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),d.DomEvent.off(this._map._container,"MozMousePixelScroll",d.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=d.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);e=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d.bind(this._performZoom,this),e),d.DomEvent.preventDefault(t),d.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom(),e=0<e?Math.ceil(e):Math.floor(e);e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),d.Map.addInitHook("addHandler","scrollWheelZoom",d.Map.ScrollWheelZoom),d.extend(d.DomEvent,{_touchstart:d.Browser.msPointer?"MSPointerDown":d.Browser.pointer?"pointerdown":"touchstart",_touchend:d.Browser.msPointer?"MSPointerUp":d.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,o,e){function n(t){var e,n;1<(d.Browser.pointer?(c.push(t.pointerId),c.length):t.touches.length)||(n=(e=Date.now())-(r||e),s=t.touches?t.touches[0]:t,a=0<n&&n<=250,r=e)}function i(t){if(d.Browser.pointer){t=c.indexOf(t.pointerId);if(-1===t)return;c.splice(t,1)}if(a){if(d.Browser.pointer){var e,n,i={};for(n in s)e=s[n],i[n]="function"==typeof e?e.bind(s):e;s=i}s.type="dblclick",o(s),r=null}}var r,s,a=!1,l=this._touchstart,u=this._touchend,c=[];t["_leaflet_"+l+e]=n,t["_leaflet_"+u+e]=i;e=d.Browser.pointer?h.documentElement:t;return t.addEventListener(l,n,!1),e.addEventListener(u,i,!1),d.Browser.pointer&&e.addEventListener(d.DomEvent.POINTER_CANCEL,i,!1),this},removeDoubleTapListener:function(t,e){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(d.Browser.pointer?h.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),d.Browser.pointer&&h.documentElement.removeEventListener(d.DomEvent.POINTER_CANCEL,t[n+this._touchend+e],!1),this}}),d.extend(d.DomEvent,{POINTER_DOWN:d.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:d.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:d.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:d.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,e,i,n){var o=this._pointers,r=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&d.DomEvent.preventDefault(t);for(var e=!1,n=0;n<o.length;n++)if(o[n].pointerId===t.pointerId){e=!0;break}e||o.push(t),t.touches=o.slice(),t.changedTouches=[t],i(t)};return t["_leaflet_touchstart"+n]=r,t.addEventListener(this.POINTER_DOWN,r,!1),this._pointerDocumentListener||(r=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}},h.documentElement.addEventListener(this.POINTER_UP,r,!1),h.documentElement.addEventListener(this.POINTER_CANCEL,r,!1),this._pointerDocumentListener=!0),this},addPointerListenerMove:function(t,e,n,i){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r[e]=t;break}t.touches=r.slice(),t.changedTouches=[t],n(t)}}var r=this._pointers;return t["_leaflet_touchmove"+i]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,n,i){function o(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}t.touches=r.slice(),t.changedTouches=[t],n(t)}var r=this._pointers;return t["_leaflet_touchend"+i]=o,t.addEventListener(this.POINTER_UP,o,!1),t.addEventListener(this.POINTER_CANCEL,o,!1),this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,i,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,i,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,i,!1),t.removeEventListener(this.POINTER_CANCEL,i,!1)}return this}}),d.Map.mergeOptions({touchZoom:d.Browser.touch&&!d.Browser.android23,bounceAtZoomLimits:!0}),d.Map.TouchZoom=d.Handler.extend({addHooks:function(){d.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){d.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,n,i,o=this._map;!t.touches||2!==t.touches.length||o._animatingZoom||this._zooming||(e=o.mouseEventToLayerPoint(t.touches[0]),n=o.mouseEventToLayerPoint(t.touches[1]),i=o._getCenterLayerPoint(),this._startCenter=e.add(n)._divideBy(2),this._startDist=e.distanceTo(n),this._moved=!1,this._zooming=!0,this._centerOffset=i.subtract(this._startCenter),o._panAnim&&o._panAnim.stop(),d.DomEvent.on(h,"touchmove",this._onTouchMove,this).on(h,"touchend",this._onTouchEnd,this),d.DomEvent.preventDefault(t))},_onTouchMove:function(t){var e,n,i=this._map;t.touches&&2===t.touches.length&&this._zooming&&(e=i.mouseEventToLayerPoint(t.touches[0]),n=i.mouseEventToLayerPoint(t.touches[1]),this._scale=e.distanceTo(n)/this._startDist,this._delta=e._add(n)._divideBy(2)._subtract(this._startCenter),1===this._scale||!i.options.bounceAtZoomLimits&&(i.getZoom()===i.getMinZoom()&&this._scale<1||i.getZoom()===i.getMaxZoom()&&1<this._scale)||(this._moved||(d.DomUtil.addClass(i._mapPane,"leaflet-touching"),i.fire("movestart").fire("zoomstart"),this._moved=!0),d.Util.cancelAnimFrame(this._animRequest),this._animRequest=d.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),d.DomEvent.preventDefault(t)))},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),e=t.getScaleZoom(this._scale);t._animateZoom(n,e,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){var t,e,n,i,o;this._moved&&this._zooming?(t=this._map,this._zooming=!1,d.DomUtil.removeClass(t._mapPane,"leaflet-touching"),d.Util.cancelAnimFrame(this._animRequest),d.DomEvent.off(h,"touchmove",this._onTouchMove).off(h,"touchend",this._onTouchEnd),e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getZoom(),o=0<(o=t.getScaleZoom(this._scale)-i)?Math.ceil(o):Math.floor(o),i=t._limitZoom(i+o),o=t.getZoomScale(i)/this._scale,t._animateZoom(n,i,e,o)):this._zooming=!1},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),d.Map.addInitHook("addHandler","touchZoom",d.Map.TouchZoom),d.Map.mergeOptions({tap:!0,tapTolerance:15}),d.Map.Tap=d.Handler.extend({addHooks:function(){d.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){d.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(d.DomEvent.preventDefault(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],t=e.target;this._startPos=this._newPos=new d.Point(e.clientX,e.clientY),t.tagName&&"a"===t.tagName.toLowerCase()&&d.DomUtil.addClass(t,"leaflet-active"),this._holdTimeout=setTimeout(d.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),d.DomEvent.on(h,"touchmove",this._onMove,this).on(h,"touchend",this._onUp,this)}},_onUp:function(t){var e;clearTimeout(this._holdTimeout),d.DomEvent.off(h,"touchmove",this._onMove,this).off(h,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches&&((t=(e=t.changedTouches[0]).target)&&t.tagName&&"a"===t.tagName.toLowerCase()&&d.DomUtil.removeClass(t,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",e))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){t=t.touches[0];this._newPos=new d.Point(t.clientX,t.clientY)},_simulateEvent:function(t,e){var n=h.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,o,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}}),d.Browser.touch&&!d.Browser.pointer&&d.Map.addInitHook("addHandler","tap",d.Map.Tap),d.Map.mergeOptions({boxZoom:!0}),d.Map.BoxZoom=d.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){d.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){d.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!(!t.shiftKey||1!==t.which&&1!==t.button)&&(d.DomUtil.disableTextSelection(),d.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void d.DomEvent.on(h,"mousemove",this._onMouseMove,this).on(h,"mouseup",this._onMouseUp,this).on(h,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=d.DomUtil.create("div","leaflet-zoom-box",this._pane),d.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),t=i.subtract(e),e=new d.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));d.DomUtil.setPosition(n,e),this._moved=!0,n.style.width=Math.max(0,Math.abs(t.x)-4)+"px",n.style.height=Math.max(0,Math.abs(t.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),d.DomUtil.enableTextSelection(),d.DomUtil.enableImageDrag(),d.DomEvent.off(h,"mousemove",this._onMouseMove).off(h,"mouseup",this._onMouseUp).off(h,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,t=e.mouseEventToLayerPoint(t);this._startLayerPoint.equals(t)||(t=new d.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(t)),e.fitBounds(t),e.fire("boxzoomend",{boxZoomBounds:t}))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),d.Map.addInitHook("addHandler","boxZoom",d.Map.BoxZoom),d.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),d.Map.Keyboard=d.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),d.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;d.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){var t,e,n;this._focused||(t=h.body,n=h.documentElement,e=t.scrollTop||n.scrollTop,n=t.scrollLeft||n.scrollLeft,this._map._container.focus(),o.scrollTo(n,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){for(var e=this._panKeys={},n=this.keyCodes,i=0,o=n.left.length;i<o;i++)e[n.left[i]]=[-1*t,0];for(i=0,o=n.right.length;i<o;i++)e[n.right[i]]=[t,0];for(i=0,o=n.down.length;i<o;i++)e[n.down[i]]=[0,t];for(i=0,o=n.up.length;i<o;i++)e[n.up[i]]=[0,-1*t]},_setZoomOffset:function(t){for(var e=this._zoomKeys={},n=this.keyCodes,i=0,o=n.zoomIn.length;i<o;i++)e[n.zoomIn[i]]=t;for(i=0,o=n.zoomOut.length;i<o;i++)e[n.zoomOut[i]]=-t},_addHooks:function(){d.DomEvent.on(h,"keydown",this._onKeyDown,this)},_removeHooks:function(){d.DomEvent.off(h,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}d.DomEvent.stop(t)}}),d.Map.addInitHook("addHandler","keyboard",d.Map.Keyboard),d.Handler.MarkerDrag=d.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new d.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),d.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),d.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=d.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&d.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),d.Control=d.Class.extend({options:{position:"topright"},initialize:function(t){d.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),t=t._controlCorners[n];return d.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?t.insertBefore(e,t.firstChild):t.appendChild(e),this},removeFrom:function(t){var e=this.getPosition();return t._controlCorners[e].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),d.control=function(t){return new d.Control(t)},d.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,e){n[t+e]=d.DomUtil.create("div",i+t+" "+i+e,o)}var n=this._controlCorners={},i="leaflet-",o=this._controlContainer=d.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),d.Control.Zoom=d.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=d.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,o,r){i=d.DomUtil.create("a",n,i);i.innerHTML=t,i.href="#",i.title=e;e=d.DomEvent.stopPropagation;return d.DomEvent.on(i,"click",e).on(i,"mousedown",e).on(i,"dblclick",e).on(i,"click",d.DomEvent.preventDefault).on(i,"click",o,r).on(i,"click",this._refocusOnMap,r),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";d.DomUtil.removeClass(this._zoomInButton,e),d.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&d.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&d.DomUtil.addClass(this._zoomInButton,e)}}),d.Map.mergeOptions({zoomControl:!0}),d.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new d.Control.Zoom,this.addControl(this.zoomControl))}),d.control.zoom=function(t){return new d.Control.Zoom(t)},d.Control.Attribution=d.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d.setOptions(this,t),this._attributions={}},onAdd:function(t){for(var e in this._container=d.DomUtil.create("div","leaflet-control-attribution"),d.DomEvent.disableClickPropagation(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),d.Map.mergeOptions({attributionControl:!0}),d.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new d.Control.Attribution).addTo(this))}),d.control.attribution=function(t){return new d.Control.Attribution(t)},d.Control.Scale=d.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=d.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=d.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=d.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180)*(t.getNorthEast().lng-t.getSouthWest().lng)/180,i=this._map.getSize(),e=this.options,t=0;0<i.x&&(t=n*(e.maxWidth/i.x)),this._updateScales(e,t)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=e<1e3?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n=3.2808399*t,i=this._iScale;5280<n?(e=this._getRoundNum(t=n/5280),i.style.width=this._getScaleWidth(e/t)+"px",i.innerHTML=e+" mi"):(e=this._getRoundNum(n),i.style.width=this._getScaleWidth(e/n)+"px",i.innerHTML=e+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),t=t/e;return e*(t=10<=t?10:5<=t?5:3<=t?3:2<=t?2:1)}}),d.control.scale=function(t){return new d.Control.Scale(t)},d.Control.Layers=d.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){for(var i in d.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){t=d.stamp(t);return delete this._layers[t],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=d.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),d.Browser.touch?d.DomEvent.on(e,"click",d.DomEvent.stopPropagation):d.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n,i=this._form=d.DomUtil.create("form",t+"-list");this.options.collapsed?(d.Browser.android||d.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this),(n=this._layersLink=d.DomUtil.create("a",t+"-toggle",e)).href="#",n.title="Layers",d.Browser.touch?d.DomEvent.on(n,"click",d.DomEvent.stop).on(n,"click",this._expand,this):d.DomEvent.on(n,"focus",this._expand,this),d.DomEvent.on(i,"click",function(){setTimeout(d.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)):this._expand(),this._baseLayersList=d.DomUtil.create("div",t+"-base",i),this._separator=d.DomUtil.create("div",t+"-separator",i),this._overlaysList=d.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,n){var i=d.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[d.stamp(t.layer)];e&&(this._handlingClick||this._update(),(t=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null)&&this._map.fire(t,e))},_createRadioElement:function(t,e){t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(t+=' checked="checked"'),t+="/>";e=h.createElement("div");return e.innerHTML=t,e.firstChild},_addItem:function(t){var e,n=h.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=h.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),e.layerId=d.stamp(t.layer),d.DomEvent.on(e,"click",this._onInputClick,this);i=h.createElement("span");return i.innerHTML=" "+t.name,n.appendChild(e),n.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),n},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=i.length;for(this._handlingClick=!0,t=0;t<o;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){d.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),d.control.layers=function(t,e,n){return new d.Control.Layers(t,e,n)},d.PosAnimation=d.Class.extend({includes:d.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[d.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",d.DomEvent.on(t,d.DomUtil.TRANSITION_END,this._onTransitionEnd,this),d.DomUtil.setPosition(t,e),d.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(d.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(d.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),d.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var t,e,n=this._el,n=o.getComputedStyle(n);if(d.Browser.any3d){if(!(e=n[d.DomUtil.TRANSFORM].match(this._transformRe)))return;t=parseFloat(e[1]),e=parseFloat(e[2])}else t=parseFloat(n.left),e=parseFloat(n.top);return new d.Point(t,e,!0)},_onTransitionEnd:function(){d.DomEvent.off(this._el,d.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[d.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),d.Map.include({setView:function(t,e,n){if((e=e===s?this._zoom:this._limitZoom(e),t=this._limitCenter(d.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&!0!==n)&&(n.animate!==s&&(n.zoom=d.extend({animate:n.animate},n.zoom),n.pan=d.extend({animate:n.animate},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},panBy:function(t,e){return e=e||{},((t=d.point(t).round()).x||t.y)&&(this._panAnim||(this._panAnim=new d.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(d.DomUtil.addClass(this._mapPane,"leaflet-pan-anim"),n=this._getMapPanePos().subtract(t),this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))),this;var n},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){d.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){t=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(t))&&(this.panBy(t,e),!0)}}),d.PosAnimation=d.DomUtil.TRANSITION?d.PosAnimation:d.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=d.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=d.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;t<e?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){t=this._startPos.add(this._offset.multiplyBy(t));d.DomUtil.setPosition(this._el,t),this.fire("step")},_complete:function(){d.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),d.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),d.DomUtil.TRANSITION&&d.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&d.DomUtil.TRANSITION&&d.Browser.any3d&&!d.Browser.android23&&!d.Browser.mobileOpera,this._zoomAnimated&&d.DomEvent.on(this._mapPane,d.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),d.Map.include(d.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i),r=this._getCenterLayerPoint()._add(o);return!(!0!==n.animate&&!this.getSize().contains(o))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,r,i,null,!0),!0)},_animateZoom:function(t,e,n,i,o,r,s){s||(this._animatingZoom=!0),d.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,d.Draggable&&(d.Draggable._disabled=!0),d.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:o,backwards:r}),setTimeout(d.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,d.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),d.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),d.Draggable&&(d.Draggable._disabled=!1)},this))}}:{}),d.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=d.DomUtil.TRANSFORM,i=t.delta?d.DomUtil.getTranslateString(t.delta):e.style[n],o=d.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?o+" "+i:i+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),d.Util.falseFn(e.offsetWidth);e=this._map.getZoom();(e>this.options.maxZoom||e<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[d.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&.5<n&&i<.5?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[d.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){for(var e=t.getElementsByTagName("img"),n=0,i=0,o=e.length;i<o;i++)e[i].complete&&n++;return n/o},_stopLoadingImages:function(t){for(var e,n=Array.prototype.slice.call(t.getElementsByTagName("img")),i=0,o=n.length;i<o;i++)(e=n[i]).complete||(e.onload=d.Util.falseFn,e.onerror=d.Util.falseFn,e.src=d.Util.emptyImageUrl,e.parentNode.removeChild(e))}}),d.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=d.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=d.bind(this._handleGeolocationResponse,this),n=d.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new d.LatLng(e,n),o=180*t.coords.accuracy/40075017,r=o/Math.cos(d.LatLng.DEG_TO_RAD*e),n=d.latLngBounds([e-o,n-r],[e+o,n+r]),r=this._locateOptions;r.setView&&(r=Math.min(this.getBoundsZoom(n),r.maxZoom),this.setView(i,r));var s,a={latlng:i,bounds:n,timestamp:t.timestamp};for(s in t.coords)"number"==typeof t.coords[s]&&(a[s]=t.coords[s]);this.fire("locationfound",a)}})}(window,document),qt("ViewModels/DistanceLegendViewModel",["Cesium/Core/defined","Cesium/Core/DeveloperError","Cesium/Core/EllipsoidGeodesic","Cesium/Core/Cartesian2","Cesium/Core/getTimestamp","Cesium/Core/EventHelper","KnockoutES5","Core/loadView","leaflet"],function(c,n,t,h,p,o,r,e,s){"use strict";function i(t){if(!c(t)||!c(t.terria))throw new n("options.terria is required.");this.terria=t.terria,this._removeSubscription=void 0,this._lastLegendUpdate=void 0,this.eventHelper=new o,this.distanceLabel=void 0,this.barWidth=void 0,r.track(this,["distanceLabel","barWidth"]),this.eventHelper.add(this.terria.afterWidgetChanged,function(){c(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0)},this);var i=this;function e(){var t,e,n;c(i.terria)?(t=i.terria.scene,i._removeSubscription=t.postRender.addEventListener(function(){!function(t,e){var n=p();if(!(n<t._lastLegendUpdate+250)){t._lastLegendUpdate=n;var i=e.canvas.clientWidth,o=e.canvas.clientHeight,r=new h(i/2|0,o-1),s=new h(1+i/2|0,o-1),n=e.camera.getPickRay(r),i=e.camera.getPickRay(s),o=e.globe,n=o.pick(n,e),i=o.pick(i,e);if(c(n)&&c(i)||(n=e.camera.pickEllipsoid(r,e.globe.ellipsoid),i=e.camera.pickEllipsoid(s,e.globe.ellipsoid)),c(n)&&c(i)){n=o.ellipsoid.cartesianToCartographic(n),i=o.ellipsoid.cartesianToCartographic(i);d.setEndPoints(n,i);for(var a,l=d.surfaceDistance,u=f.length-1;!c(a)&&0<=u;--u)f[u]/l<100&&(a=f[u]);c(a)?(i=1e3<=a?(a/1e3).toString()+" km":a.toString()+" m",t.barWidth=a/l|0,t.distanceLabel=i):(t.barWidth=void 0,t.distanceLabel=void 0)}else t.barWidth=void 0,t.distanceLabel=void 0}}(this,t)},i)):c(i.terria.leaflet)&&(e=i.terria.leaflet.map,n=function(){a(i,e)},i._removeSubscription=function(){e.off("zoomend",n),e.off("moveend",n)},e.on("zoomend",n),e.on("moveend",n),a(i,e))}e(),this.eventHelper.add(this.terria.afterWidgetChanged,function(){e()},this)}i.prototype.destroy=function(){this.eventHelper.removeAll()},i.prototype.show=function(t){e('<div class="distance-legend" data-bind="visible: distanceLabel && barWidth"><div class="distance-legend-label" data-bind="text: distanceLabel"></div><div class="distance-legend-scale-bar" data-bind="style: { width: barWidth + \'px\', left: (5 + (125 - barWidth) / 2) + \'px\' }"></div></div>',t,this)},i.create=function(t){var e=new i(t);return e.show(t.container),e};var d=new t,f=[1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6,2e6,3e6,5e6,1e7,2e7,3e7,5e7];function a(t,e){var n=e.getSize().y/2,i=e.containerPointToLatLng([0,n]).distanceTo(e.containerPointToLatLng([100,n])),e=s.control.scale()._getRoundNum(i),n=e<1e3?e+" m":e/1e3+" km";t.barWidth=e/i*100,t.distanceLabel=n}return i}),qt("ViewModels/UserInterfaceControl",["Cesium/Core/defined","Cesium/Core/defineProperties","Cesium/Core/DeveloperError","KnockoutES5"],function(e,t,n,i){"use strict";function o(t){if(!e(t))throw new n("terria is required");this._terria=t,this.name="Unnamed Control",this.text=void 0,this.svgIcon=void 0,this.svgHeight=void 0,this.svgWidth=void 0,this.cssClass=void 0,this.isActive=!1,i.track(this,["name","svgIcon","svgHeight","svgWidth","cssClass","isActive"])}return Object.defineProperties(o.prototype,{terria:{get:function(){return this._terria}},hasText:{get:function(){return e(this.text)&&"string"==typeof this.text}}}),o.prototype.activate=function(){throw new n("activate must be implemented in the derived class.")},o}),qt("ViewModels/NavigationControl",["ViewModels/UserInterfaceControl"],function(e){"use strict";function t(t){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t}),qt("SvgPaths/svgReset",[],function(){"use strict";return"M 7.5,0 C 3.375,0 0,3.375 0,7.5 0,11.625 3.375,15 7.5,15 c 3.46875,0 6.375,-2.4375 7.21875,-5.625 l -1.96875,0 C 12,11.53125 9.9375,13.125 7.5,13.125 4.40625,13.125 1.875,10.59375 1.875,7.5 1.875,4.40625 4.40625,1.875 7.5,1.875 c 1.59375,0 2.90625,0.65625 3.9375,1.6875 l -3,3 6.5625,0 L 15,0 12.75,2.25 C 11.4375,0.84375 9.5625,0 7.5,0 z"}),qt("ViewModels/ResetViewNavigationControl",["Cesium/Core/defined","Cesium/Scene/Camera","Cesium/Core/Rectangle","Cesium/Core/Cartographic","ViewModels/NavigationControl","SvgPaths/svgReset"],function(i,o,r,s,e,n){"use strict";function t(t){e.apply(this,arguments),this.name="Reset View",this.svgIcon=n,this.svgHeight=15,this.svgWidth=15,this.cssClass="navigation-control-icon-reset"}return(t.prototype=Object.create(e.prototype)).resetView=function(){var t=this.terria.scene;if(t.screenSpaceCameraController.enableInputs){this.isActive=!0;var e=t.camera;if(i(this.terria.trackedEntity)){var n=this.terria.trackedEntity;this.terria.trackedEntity=void 0,this.terria.trackedEntity=n}else if(this.terria.options.defaultResetView){if(this.terria.options.defaultResetView&&this.terria.options.defaultResetView instanceof s)e.flyTo({destination:t.globe.ellipsoid.cartographicToCartesian(this.terria.options.defaultResetView)});else if(this.terria.options.defaultResetView&&this.terria.options.defaultResetView instanceof r)try{r.validate(this.terria.options.defaultResetView),e.flyTo({destination:this.terria.options.defaultResetView})}catch(t){console.log("Cesium-navigation/ResetViewNavigationControl:   options.defaultResetView Cesium rectangle is  invalid!")}}else"function"==typeof e.flyHome?e.flyHome(1):e.flyTo({destination:o.DEFAULT_VIEW_RECTANGLE,duration:1});this.isActive=!1}},t.prototype.activate=function(){this.resetView()},t}),qt("Core/Utils",["Cesium/Core/defined","Cesium/Core/Ray","Cesium/Core/Cartesian3","Cesium/Core/Cartographic","Cesium/Core/ReferenceFrame","Cesium/Scene/SceneMode"],function(r,t,s,e,n,a){"use strict";var i={},l=new e,u=new t;return i.getCameraFocus=function(t,e,n){var i=t.scene,o=i.camera;if(i.mode!=a.MORPHING&&(r(n)||(n=new s),n=r(t.trackedEntity)?t.trackedEntity.position.getValue(t.clock.currentTime,n):(u.origin=o.positionWC,u.direction=o.directionWC,i.globe.pick(u,i,n)),r(n)))return i.mode==a.SCENE2D||i.mode==a.COLUMBUS_VIEW?(n=o.worldToCameraCoordinatesPoint(n,n),e&&(n=i.globe.ellipsoid.cartographicToCartesian(i.mapProjection.unproject(n,l),n))):e||(n=o.worldToCameraCoordinatesPoint(n,n)),n},i}),qt("ViewModels/ZoomNavigationControl",["Cesium/Core/defined","Cesium/Core/Ray","Cesium/Core/IntersectionTests","Cesium/Core/Cartesian3","Cesium/Scene/SceneMode","ViewModels/NavigationControl","Core/Utils"],function(a,l,u,c,h,n,p){"use strict";function t(t,e){n.apply(this,arguments),this.name="Zoom "+(e?"In":"Out"),this.text=e?"+":"-",this.cssClass="navigation-control-icon-zoom-"+(e?"in":"out"),this.relativeAmount=2,e&&(this.relativeAmount=1/this.relativeAmount)}t.prototype.relativeAmount=1,(t.prototype=Object.create(n.prototype)).activate=function(){this.zoom(this.relativeAmount)};var d=new c;return t.prototype.zoom=function(t){if(this.isActive=!0,a(this.terria)){var e=this.terria.scene,n=e.screenSpaceCameraController;if(!n.enableInputs||!n.enableZoom)return;var i,o=e.camera;switch(e.mode){case h.MORPHING:break;case h.SCENE2D:o.zoomIn(o.positionCartographic.height*(1-this.relativeAmount));break;default:s=a(this.terria.trackedEntity)?new c:p.getCameraFocus(this.terria,!1),i=a(s)?{direction:o.direction,up:o.up}:(r=new l(o.worldToCameraCoordinatesPoint(e.globe.ellipsoid.cartographicToCartesian(o.positionCartographic)),o.directionWC),s=u.grazingAltitudeLocation(r,e.globe.ellipsoid),{heading:o.heading,pitch:o.pitch,roll:o.roll});var r=c.subtract(o.position,s,d),r=c.multiplyByScalar(r,t,r),s=c.add(s,r,s);a(this.terria.trackedEntity)||e.mode==h.COLUMBUS_VIEW?o.position=s:o.flyTo({destination:s,orientation:i,duration:.5,convert:!1})}}this.isActive=!1},t}),qt("SvgPaths/svgCompassOuterRing",[],function(){"use strict";return"m 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z"}),qt("SvgPaths/svgCompassGyro",[],function(){"use strict";return"m 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z"}),qt("SvgPaths/svgCompassRotationMarker",[],function(){"use strict";return"M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z"}),qt("ViewModels/NavigationViewModel",["Cesium/Core/defined","Cesium/Core/Math","Cesium/Core/getTimestamp","Cesium/Core/EventHelper","Cesium/Core/Transforms","Cesium/Scene/SceneMode","Cesium/Core/Cartesian2","Cesium/Core/Cartesian3","Cesium/Core/Matrix4","Cesium/Core/BoundingSphere","Cesium/Core/HeadingPitchRange","KnockoutES5","Core/loadView","ViewModels/ResetViewNavigationControl","ViewModels/ZoomNavigationControl","SvgPaths/svgCompassOuterRing","SvgPaths/svgCompassGyro","SvgPaths/svgCompassRotationMarker","Core/Utils"],function(u,c,h,i,p,d,f,m,g,s,a,o,e,r,l,_,v,y,b){"use strict";function n(t){this.terria=t.terria,this.eventHelper=new i,this.controls=t.controls,u(this.controls)||(this.controls=[new l(this.terria,!0),new r(this.terria),new l(this.terria,!1)]),this.svgCompassOuterRing=_,this.svgCompassGyro=v,this.svgCompassRotationMarker=y,this.showCompass=u(this.terria),this.heading=this.showCompass?this.terria.scene.camera.heading:0,this.isOrbiting=!1,this.orbitCursorAngle=0,this.orbitCursorOpacity=0,this.orbitLastTimestamp=0,this.orbitFrame=void 0,this.orbitIsLook=!1,this.orbitMouseMoveFunction=void 0,this.orbitMouseUpFunction=void 0,this.isRotating=!1,this.rotateInitialCursorAngle=void 0,this.rotateFrame=void 0,this.rotateIsLook=!1,this.rotateMouseMoveFunction=void 0,this.rotateMouseUpFunction=void 0,this._unsubcribeFromPostRender=void 0,o.track(this,["controls","showCompass","heading","isOrbiting","orbitCursorAngle","isRotating"]);var e=this;function n(){u(e.terria)?(e._unsubcribeFromPostRender&&(e._unsubcribeFromPostRender(),e._unsubcribeFromPostRender=void 0),e.showCompass=!0,e._unsubcribeFromPostRender=e.terria.scene.postRender.addEventListener(function(){e.heading=e.terria.scene.camera.heading})):(e._unsubcribeFromPostRender&&(e._unsubcribeFromPostRender(),e._unsubcribeFromPostRender=void 0),e.showCompass=!1)}this.eventHelper.add(this.terria.afterWidgetChanged,n,this),n()}n.prototype.destroy=function(){this.eventHelper.removeAll()},n.prototype.show=function(t){e('<div class="compass" title="Drag outer ring: rotate view. Drag inner gyroscope: free orbit.Double-click: reset view.TIP: You can also free orbit by holding the CTRL key and dragging the map." data-bind="visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick }"><div class="compass-outer-ring-background"></div>'+" <div class=\"compass-rotation-marker\" data-bind=\"visible: isOrbiting, style: { transform: 'rotate(-' + orbitCursorAngle + 'rad)', '-webkit-transform': 'rotate(-' + orbitCursorAngle + 'rad)', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }\"></div> <div class=\"compass-outer-ring\" title=\"Click and drag to rotate the camera\" data-bind=\"style: { transform: 'rotate(-' + heading + 'rad)', '-webkit-transform': 'rotate(-' + heading + 'rad)' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }\"></div> <div class=\"compass-gyro-background\"></div> <div class=\"compass-gyro\" data-bind=\"cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { 'compass-gyro-active': isOrbiting }\"></div></div><div class=\"navigation-controls\">\x3c!-- ko foreach: controls --\x3e<div data-bind=\"click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? 'navigation-control-last' : 'navigation-control' \">   \x3c!-- ko if: $data.hasText --\x3e   <div data-bind=\"text: $data.text, css: $data.isActive ?  'navigation-control-icon-active ' + $data.cssClass : $data.cssClass\"></div>   \x3c!-- /ko --\x3e  \x3c!-- ko ifnot: $data.hasText --\x3e  <div data-bind=\"cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  'navigation-control-icon-active ' + $data.cssClass : $data.cssClass\"></div>  \x3c!-- /ko --\x3e </div> \x3c!-- /ko --\x3e</div>",t,this)},n.prototype.add=function(t){this.controls.push(t)},n.prototype.remove=function(t){this.controls.remove(t)},n.prototype.isLastControl=function(t){return t===this.controls[this.controls.length-1]};var w=new f;n.prototype.handleMouseDown=function(t,e){if(this.terria.scene.mode==d.MORPHING)return!0;var o,r,n,i=e.currentTarget,s=e.currentTarget.getBoundingClientRect(),a=s.width/2,l=new f((s.right-s.left)/2,(s.bottom-s.top)/2),s=new f(e.clientX-s.left,e.clientY-s.top),s=f.subtract(s,l,w),l=f.magnitude(s)/a;if(l<50/145)!function(s,i,t){var a=s.terria.scene,e=a.screenSpaceCameraController;if(a.mode!=d.MORPHING&&e.enableInputs){switch(a.mode){case d.COLUMBUS_VIEW:if(e.enableLook)break;if(!e.enableTranslate||!e.enableTilt)return;break;case d.SCENE3D:if(e.enableLook)break;if(!e.enableTilt||!e.enableRotate)return;break;case d.SCENE2D:if(!e.enableTranslate)return}document.removeEventListener("mousemove",s.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",s.orbitMouseUpFunction,!1),u(s.orbitTickFunction)&&s.terria.clock.onTick.removeEventListener(s.orbitTickFunction),s.orbitMouseMoveFunction=void 0,s.orbitMouseUpFunction=void 0,s.orbitTickFunction=void 0,s.isOrbiting=!0,s.orbitLastTimestamp=h();var n,l=a.camera;u(s.terria.trackedEntity)?(s.orbitFrame=void 0,s.orbitIsLook=!1):(n=b.getCameraFocus(s.terria,!0,x),u(n)?(s.orbitFrame=p.eastNorthUpToFixedFrame(n,a.globe.ellipsoid,C),s.orbitIsLook=!1):(s.orbitFrame=p.eastNorthUpToFixedFrame(l.positionWC,a.globe.ellipsoid,C),s.orbitIsLook=!0)),s.orbitTickFunction=function(t){var e,n=h(),i=(n-s.orbitLastTimestamp)*(2.5*(s.orbitCursorOpacity-.5)/1e3),o=s.orbitCursorAngle+c.PI_OVER_TWO,r=Math.cos(o)*i,o=Math.sin(o)*i;u(s.orbitFrame)&&(e=g.clone(l.transform,k),l.lookAtTransform(s.orbitFrame)),a.mode==d.SCENE2D?l.move(new m(r,o,0),Math.max(a.canvas.clientWidth,a.canvas.clientHeight)/100*l.positionCartographic.height*i):s.orbitIsLook?(l.look(m.UNIT_Z,-r),l.look(l.right,-o)):(l.rotateLeft(r),l.rotateUp(o)),u(s.orbitFrame)&&l.lookAtTransform(e),s.orbitLastTimestamp=n},s.orbitMouseMoveFunction=function(t){var e=i.getBoundingClientRect(),n=new f((e.right-e.left)/2,(e.bottom-e.top)/2),t=new f(t.clientX-e.left,t.clientY-e.top);o(f.subtract(t,n,w),e.width)},s.orbitMouseUpFunction=function(t){s.isOrbiting=!1,document.removeEventListener("mousemove",s.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",s.orbitMouseUpFunction,!1),u(s.orbitTickFunction)&&s.terria.clock.onTick.removeEventListener(s.orbitTickFunction),s.orbitMouseMoveFunction=void 0,s.orbitMouseUpFunction=void 0,s.orbitTickFunction=void 0},document.addEventListener("mousemove",s.orbitMouseMoveFunction,!1),document.addEventListener("mouseup",s.orbitMouseUpFunction,!1),s.terria.clock.onTick.addEventListener(s.orbitTickFunction),o(t,i.getBoundingClientRect().width)}function o(t,e){var n=Math.atan2(-t.y,t.x);s.orbitCursorAngle=c.zeroToTwoPi(n-c.PI_OVER_TWO);t=f.magnitude(t),e=Math.min(t/(e/2),1);s.orbitCursorOpacity=.5*e*e+.5}}(this,i,s);else{if(!(l<1))return!0;r=i,a=s,l=(o=this).terria.scene,i=l.camera,s=l.screenSpaceCameraController,l.mode!=d.MORPHING&&l.mode!=d.SCENE2D&&s.enableInputs&&(s.enableLook||l.mode!=d.COLUMBUS_VIEW&&(l.mode!=d.SCENE3D||s.enableRotate))&&(document.removeEventListener("mousemove",o.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",o.rotateMouseUpFunction,!1),o.rotateMouseMoveFunction=void 0,o.rotateMouseUpFunction=void 0,o.isRotating=!0,o.rotateInitialCursorAngle=Math.atan2(-a.y,a.x),u(o.terria.trackedEntity)?(o.rotateFrame=void 0,o.rotateIsLook=!1):(a=b.getCameraFocus(o.terria,!0,x),u(a)&&(l.mode!=d.COLUMBUS_VIEW||s.enableLook||s.enableTranslate)?(o.rotateFrame=p.eastNorthUpToFixedFrame(a,l.globe.ellipsoid,C),o.rotateIsLook=!1):(o.rotateFrame=p.eastNorthUpToFixedFrame(i.positionWC,l.globe.ellipsoid,C),o.rotateIsLook=!0)),u(o.rotateFrame)&&(n=g.clone(i.transform,k),i.lookAtTransform(o.rotateFrame)),o.rotateInitialCameraAngle=-i.heading,u(o.rotateFrame)&&i.lookAtTransform(n),o.rotateMouseMoveFunction=function(t){var e,n=r.getBoundingClientRect(),i=new f((n.right-n.left)/2,(n.bottom-n.top)/2),t=new f(t.clientX-n.left,t.clientY-n.top),n=f.subtract(t,i,w),t=Math.atan2(-n.y,n.x)-o.rotateInitialCursorAngle,i=c.zeroToTwoPi(o.rotateInitialCameraAngle-t),n=o.terria.scene.camera;u(o.rotateFrame)&&(e=g.clone(n.transform,k),n.lookAtTransform(o.rotateFrame));t=-n.heading;n.rotateRight(i-t),u(o.rotateFrame)&&n.lookAtTransform(e)},o.rotateMouseUpFunction=function(t){o.isRotating=!1,document.removeEventListener("mousemove",o.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",o.rotateMouseUpFunction,!1),o.rotateMouseMoveFunction=void 0,o.rotateMouseUpFunction=void 0},document.addEventListener("mousemove",o.rotateMouseMoveFunction,!1),document.addEventListener("mouseup",o.rotateMouseUpFunction,!1))}};var k=new g,C=new g,x=new m;return n.prototype.handleDoubleClick=function(t,e){var n=t.terria.scene,i=n.camera,o=n.screenSpaceCameraController;if(n.mode==d.MORPHING||!o.enableInputs)return!0;if(n.mode!=d.COLUMBUS_VIEW||o.enableTranslate){if(n.mode==d.SCENE3D||n.mode==d.COLUMBUS_VIEW){if(!o.enableLook)return;if(n.mode==d.SCENE3D&&!o.enableRotate)return}var r=b.getCameraFocus(t.terria,!0,x);u(r)?(o=n.globe.ellipsoid.cartographicToCartesian(i.positionCartographic,new m),t=n.globe.ellipsoid.geodeticSurfaceNormal(r),n=new s(r,0),i.flyToBoundingSphere(n,{offset:new a(0,c.PI_OVER_TWO-m.angleBetween(t,i.directionWC),m.distance(o,r)),duration:1.5})):this.controls[1].resetView()}},n.create=function(t){var e=new n(t);return e.show(t.container),e},n}),qt("CesiumNavigation",["Cesium/Core/defined","Cesium/Core/defineProperties","Cesium/Core/Event","KnockoutES5","Core/registerKnockoutBindings","ViewModels/DistanceLegendViewModel","ViewModels/NavigationViewModel"],function(o,t,r,e,s,a,l){"use strict";function n(t){!function(t,e){if(!o(t))throw new DeveloperError("CesiumWidget or Viewer is required.");var n=o(t.cesiumWidget)?t.cesiumWidget:t,i=document.createElement("div");i.className="cesium-widget-cesiumNavigationContainer",n.container.appendChild(i),this.terria=t,this.terria.options=e,this.terria.afterWidgetChanged=new r,this.terria.beforeWidgetChanged=new r,this.container=i,this.navigationDiv=document.createElement("div"),this.navigationDiv.setAttribute("id","navigationDiv"),this.distanceLegendDiv=document.createElement("div"),this.navigationDiv.setAttribute("id","distanceLegendDiv"),i.appendChild(this.navigationDiv),i.appendChild(this.distanceLegendDiv),s(),this.distanceLegendViewModel=a.create({container:this.distanceLegendDiv,terria:this.terria,mapElement:i}),this.navigationViewModel=l.create({container:this.navigationDiv,terria:this.terria})}.apply(this,arguments),this._onDestroyListeners=[]}return n.prototype.distanceLegendViewModel=void 0,n.prototype.navigationViewModel=void 0,n.prototype.navigationDiv=void 0,n.prototype.distanceLegendDiv=void 0,n.prototype.terria=void 0,n.prototype.container=void 0,n.prototype._onDestroyListeners=void 0,n.prototype.destroy=function(){o(this.navigationViewModel)&&this.navigationViewModel.destroy(),o(this.distanceLegendViewModel)&&this.distanceLegendViewModel.destroy(),o(this.navigationDiv)&&this.navigationDiv.parentNode.removeChild(this.navigationDiv),delete this.navigationDiv,o(this.distanceLegendDiv)&&this.distanceLegendDiv.parentNode.removeChild(this.distanceLegendDiv),delete this.distanceLegendDiv,o(this.container)&&this.container.parentNode.removeChild(this.container),delete this.container;for(var t=0;t<this._onDestroyListeners.length;t++)this._onDestroyListeners[t]()},n.prototype.addOnDestroyListener=function(t){"function"==typeof t&&this._onDestroyListeners.push(t)},n}),qt("dummy/require-less/less/dummy",[],function(){}),qt("viewerCesiumNavigationMixin",["Cesium/Core/defined","Cesium/Core/defineProperties","Cesium/Core/DeveloperError","CesiumNavigation","dummy/require-less/less/dummy"],function(o,t,i,r){"use strict";function e(t,e){if(!o(t))throw new i("viewer is required.");var n;s(t,e).addOnDestroyListener((n=t,function(){delete n.cesiumNavigation})),Object.defineProperties(t,{cesiumNavigation:{configurable:!0,get:function(){return t.cesiumWidget.cesiumNavigation}}})}e.mixinWidget=function(t,e){return s.apply(void 0,arguments)};var s=function(t,e){var n,i=new r(t,e),t=o(t.cesiumWidget)?t.cesiumWidget:t;return Object.defineProperties(t,{cesiumNavigation:{configurable:!0,get:function(){return i}}}),i.addOnDestroyListener((n=t,function(){delete n.cesiumNavigation})),i};return e}),D=".full-window{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;overflow:hidden;padding:0;-webkit-transition:left .25s ease-out;-moz-transition:left .25s ease-out;-ms-transition:left .25s ease-out;-o-transition:left .25s ease-out;transition:left .25s ease-out}.transparent-to-input{pointer-events:none}.opaque-to-input{pointer-events:auto}.clickable{cursor:pointer}.markdown a:hover,.markdown u,a:hover{text-decoration:underline}#ui{z-index:2100}@media print{.full-window{position:initial}}.markdown img{max-width:100%}.markdown svg{max-height:100%}.markdown fieldset,.markdown input,.markdown select,.markdown textarea{font-family:inherit;font-size:1rem;box-sizing:border-box;margin-top:0;margin-bottom:0}.markdown label{vertical-align:middle}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-family:inherit;font-weight:700;line-height:1.25;margin-top:1em;margin-bottom:.5em}.markdown h1{font-size:2rem}.markdown h2{font-size:1.5rem}.markdown h3{font-size:1.25rem}.markdown h4{font-size:1rem}.markdown h5{font-size:.875rem}.markdown h6{font-size:.75rem}.markdown dl,.markdown ol,.markdown p,.markdown ul{margin-top:0;margin-bottom:1rem}.markdown strong{font-weight:700}.markdown em{font-style:italic}.markdown small{font-size:80%}.markdown mark{color:#000;background:#ff0}.markdown s{text-decoration:line-through}.markdown ol{list-style:decimal inside}.markdown ul{list-style:disc inside}.markdown code,.markdown pre,.markdown samp{font-family:monospace;font-size:inherit}.markdown pre{margin-top:0;margin-bottom:1rem;overflow-x:scroll}.markdown a{color:#68adfe;text-decoration:none}.markdown code,.markdown pre{background-color:transparent;border-radius:3px}.markdown hr{border:0;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:rgba(0,0,0,.125)}.markdown .left-align{text-align:left}.markdown .center{text-align:center}.markdown .right-align{text-align:right}.markdown .justify{text-align:justify}.markdown .truncate{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.markdown ol.upper-roman{list-style-type:upper-roman}.markdown ol.lower-alpha{list-style-type:lower-alpha}.markdown ul.circle{list-style-type:circle}.markdown ul.square{list-style-type:square}.markdown .list-reset{list-style:none;padding-left:0}.floating,.floating-horizontal,.floating-vertical{pointer-events:auto;position:absolute;border-radius:15px;background-color:rgba(47,53,60,.8)}.floating-horizontal{padding-left:5px;padding-right:5px}.floating-vertical{padding-top:5px;padding-bottom:5px}@media print{.floating{display:none}}.distance-legend{pointer-events:auto;position:absolute;border-radius:15px;background-color:rgba(47,53,60,.8);padding-left:5px;padding-right:5px;right:25px;bottom:30px;height:30px;width:125px;border:1px solid rgba(255,255,255,.1);box-sizing:content-box}.distance-legend-label{display:inline-block;font-family:Roboto,sans-serif;font-size:14px;font-weight:lighter;line-height:30px;color:#fff;width:125px;text-align:center}.distance-legend-scale-bar{border-left:1px solid #fff;border-right:1px solid #fff;border-bottom:1px solid #fff;position:absolute;height:10px;top:15px}@media print{.distance-legend{display:none}}@media screen and (max-width:700px),screen and (max-height:420px){.distance-legend{display:none}}.navigation-controls{position:absolute;right:30px;bottom:80px;width:30px;border:1px solid rgba(255,255,255,.1);font-weight:300;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.navigation-control{cursor:pointer;border-bottom:1px solid #555}.naviagation-control:active{color:#fff}.navigation-control-last{cursor:pointer;border-bottom:0}.navigation-control-icon-zoom-in{padding-bottom:4px}.navigation-control-icon-zoom-in,.navigation-control-icon-zoom-out{position:relative;text-align:center;font-size:20px;color:#fff}.navigation-control-icon-reset{position:relative;left:10px;width:10px;height:10px;fill:rgba(255,255,255,.8);padding-top:6px;padding-bottom:6px;box-sizing:content-box}.compass,.compass-outer-ring{position:absolute;width:95px;height:95px}.compass{pointer-events:auto;right:0;overflow:hidden;bottom:180px}.compass-outer-ring{top:0;fill:rgba(255,255,255,.5)}.compass-outer-ring-background{position:absolute;top:14px;left:14px;width:44px;height:44px;border-radius:44px;border:12px solid rgba(47,53,60,.8);box-sizing:content-box}.compass-gyro{pointer-events:none;position:absolute;top:0;width:95px;height:95px;fill:#ccc}.compass-gyro-active,.compass-gyro-background:hover+.compass-gyro{fill:#68adfe}.compass-gyro-background{position:absolute;top:30px;left:30px;width:33px;height:33px;border-radius:33px;background-color:rgba(47,53,60,.8);border:1px solid rgba(255,255,255,.2);box-sizing:content-box}.compass-rotation-marker{position:absolute;top:0;width:95px;height:95px;fill:#68adfe}@media screen and (max-width:700px),screen and (max-height:420px){.compass,.navigation-controls{display:none}}@media print{.compass,.navigation-controls{display:none}}",P=document,A="appendChild",S="styleSheet",(M=P.createElement("style")).type="text/css",P.getElementsByTagName("head")[0][A](M),M[S]?M[S].cssText=D:M[A](P.createTextNode(D)),qt("Cesium/Core/defined",function(){return Cesium.defined}),qt("Cesium/Core/defineProperties",function(){return Cesium.defineProperties}),qt("Cesium/Core/defaultValue",function(){return Cesium.defaultValue}),qt("Cesium/Core/Event",function(){return Cesium.Event}),qt("Cesium/Widgets/getElement",function(){return Cesium.getElement}),qt("Cesium/Widgets/SvgPathBindingHandler",function(){return Cesium.SvgPathBindingHandler}),qt("Cesium/Core/Ray",function(){return Cesium.Ray}),qt("Cesium/Core/Cartesian3",function(){return Cesium.Cartesian3}),qt("Cesium/Core/Cartographic",function(){return Cesium.Cartographic}),qt("Cesium/Core/ReferenceFrame",function(){return Cesium.ReferenceFrame}),qt("Cesium/Scene/SceneMode",function(){return Cesium.SceneMode}),qt("Cesium/Core/DeveloperError",function(){return Cesium.DeveloperError}),qt("Cesium/Core/EllipsoidGeodesic",function(){return Cesium.EllipsoidGeodesic}),qt("Cesium/Core/Cartesian2",function(){return Cesium.Cartesian2}),qt("Cesium/Core/getTimestamp",function(){return Cesium.getTimestamp}),qt("Cesium/Core/EventHelper",function(){return Cesium.EventHelper}),qt("Cesium/Core/Math",function(){return Cesium.Math}),qt("Cesium/Core/Transforms",function(){return Cesium.Transforms}),qt("Cesium/Core/Matrix4",function(){return Cesium.Matrix4}),qt("Cesium/Core/BoundingSphere",function(){return Cesium.BoundingSphere}),qt("Cesium/Core/HeadingPitchRange",function(){return Cesium.HeadingPitchRange}),qt("Cesium/Scene/Camera",function(){return Cesium.Camera}),qt("Cesium/Core/Rectangle",function(){return Cesium.Rectangle}),qt("Cesium/Core/IntersectionTests",function(){return Cesium.IntersectionTests}),w("viewerCesiumNavigationMixin")});